(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-ad8405e2"],{2024:function(e,t,a){"use strict";a.r(t);a("b0c0");var r=a("7a23"),o={class:"grid grid-cols-12 gap-6"},n={class:"col-span-12"},c={class:"intro-y flex items-center mt-8"},i=Object(r["createTextVNode"])(" ← Back "),s={class:"text-lg font-medium mr-auto"},l=Object(r["createVNode"])("div",{class:"col-span-12 xl:col-span-3"},[Object(r["createVNode"])("div",{class:"xl:border-r border-theme-5 -mb-10 pb-10"},[Object(r["createVNode"])("div",{class:"xl:pr-6 grid grid-cols-12 gap-5 pb-0"},[Object(r["createVNode"])("div",{class:"col-span-12 md:col-span-12 xl:col-span-12 xxl:col-span-12"},[Object(r["createVNode"])("div",{class:"intro-y col-span-12 lg:col-span-8 xl:col-span-9"},[Object(r["createVNode"])("div",{class:"intro-x"},[Object(r["createVNode"])("a",{tag:"div",class:"box px-5 py-3 mb-3 flex items-center zoom-in",href:"#updateProfile"},[Object(r["createVNode"])("div",{class:"ml-2 mr-auto"},[Object(r["createVNode"])("div",{class:"font-medium"},"Update Profile")])])]),Object(r["createVNode"])("div",{class:"intro-x"},[Object(r["createVNode"])("a",{class:"box px-5 py-3 mb-3 flex items-center zoom-in",href:"#changePassword"},[Object(r["createVNode"])("div",{class:"ml-2 mr-auto"},[Object(r["createVNode"])("div",{class:"font-medium"},"Change Password")])])])])])])])],-1),d={class:"col-span-12 xl:col-span-9"},u={class:"p-5"},b={class:"grid grid-cols-12 gap-5"},p={class:"border-t px-5 pt-5"},m={class:"w-full text-right"},f={class:"p-5"},v={class:"grid grid-cols-12 gap-5"},g={class:"border-t px-5 pt-5"},O={class:"w-full text-right"};function j(e,t,a,j,w,h){var x=Object(r["resolveComponent"])("router-link"),N=Object(r["resolveComponent"])("form-item"),V=Object(r["resolveComponent"])("document-form");return Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("div",n,[Object(r["createVNode"])("div",c,[Object(r["createVNode"])(x,{tag:"button",to:{name:"manage-user.admin.index"},class:"btn btn-sm bg-white mr-5"},{default:Object(r["withCtx"])((function(){return[i]})),_:1},8,["to"]),Object(r["createVNode"])("h2",s,Object(r["toDisplayString"])(e.originalData.name)+" - Update ",1)])]),l,Object(r["createVNode"])("div",d,[Object(r["createVNode"])(V,{title:"Update Profile",id:"updateProfile"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",u,[Object(r["createVNode"])("div",b,[Object(r["createVNode"])(N,{class:"col-span-6",label:"Nama","rules-text":"Required",validationData:e.validate.name},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{placeholder:"Nama",class:["form-control",{"border-theme-6":e.validate.name.$error}],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.name.$model=t})},null,2),[[r["vModelText"],e.validate.name.$model]])]})),_:1},8,["validationData"]),Object(r["createVNode"])(N,{class:"col-span-6",label:"Email","rules-text":"Required",validationData:e.validate.email},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{placeholder:"Email",class:["form-control",{"border-theme-6":e.validate.email.$error}],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.email.$model=t})},null,2),[[r["vModelText"],e.validate.email.$model]])]})),_:1},8,["validationData"])])]),Object(r["createVNode"])("div",p,[Object(r["createVNode"])("div",m,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[3]||(t[3]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(r["createVNode"])("button",{type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[4]||(t[4]=function(){return e.saveProfile&&e.saveProfile.apply(e,arguments)})}," Save ")])])]})),_:1}),Object(r["createVNode"])(V,{title:"Change Password",id:"changePassword",class:"mt-5"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",f,[Object(r["createVNode"])("div",v,[Object(r["createVNode"])(N,{class:"col-span-6",label:"New Password","rules-text":"Required",validationData:e.validatePassword.password},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:["form-control",{"border-theme-6":e.validatePassword.password.$error}],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.validatePassword.password.$model=t})},null,2),[[r["vModelText"],e.validatePassword.password.$model]])]})),_:1},8,["validationData"]),Object(r["createVNode"])(N,{class:"col-span-6",label:"Confirm New Password","rules-text":"Required",validationData:e.validatePassword.repeatPassword},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("input",{class:["form-control",{"border-theme-6":e.validatePassword.repeatPassword.$error}],"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.validatePassword.repeatPassword.$model=t})},null,2),[[r["vModelText"],e.validatePassword.repeatPassword.$model]])]})),_:1},8,["validationData"])])]),Object(r["createVNode"])("div",g,[Object(r["createVNode"])("div",O,[Object(r["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[7]||(t[7]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(r["createVNode"])("button",{type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[8]||(t[8]=function(){return e.savePassword&&e.savePassword.apply(e,arguments)})}," Save ")])])]})),_:1})])])}var w=a("1da1"),h=a("5530"),x=(a("96cf"),a("72dd")),N=a("c45b"),V=a("e1b5"),y=a("2022"),D=a("818a"),P=a("6c02"),C=a("25a0"),k=a("e3e1"),_=a("2391"),R=Object(x["c"])({components:{DocumentForm:N["a"],DataGrid:V["a"],FormItem:y["a"]},setup:function(){var e=Object(P["c"])(),t=(Object(x["p"])({}),Object(x["p"])([])),a=Object(x["p"])({}),r=Object(x["o"])(Object(h["a"])({},_["a"])),o={name:{required:k["c"]},email:{required:k["c"]},role_id:{required:k["c"]}},n=Object(C["a"])(o,Object(x["q"])(r)),c={password:null,repeatPassword:null},i=Object(x["o"])(Object(h["a"])({},c)),s=function(e){return k["a"].withMessage("Password konfirmasi harus sama",(function(t){return console.log(e,t),t==e.password}))},l={password:{required:k["c"],minLength:Object(k["b"])(8)},repeatPassword:{sameAsPassword:s(i)}},d=Object(C["a"])(l,i);Object(x["m"])(Object(w["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return o.next=2,D["c"].show(e.params.user_id).then((function(e){for(var t in a.value=e.data.data,_["a"])r.hasOwnProperty(t)&&(r[t]=e.data.data[t])}));case 2:return o.next=4,D["b"].index().then((function(e){t.value=e.data.data}));case 4:case"end":return o.stop()}}),o)}))));var u=function(){for(var e in _["a"])r.hasOwnProperty(e)&&(r[e]=a.value[e])},b=function(){i["password"]=null,i["repeatPassword"]=null,d.value.$reset()},p=function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(r),t.next=3,D["c"].update(e.params.user_id,r).then((function(e){console.log(e.data)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(w["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(i),t.next=3,D["c"].changePassword(e.params.user_id,{password:i.password,password_confirmation:i.repeatPassword}).then((function(e){b(),d.console.log(e.data)}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{formData:r,originalData:a,route:e,validate:n,resetFormData:u,validatePassword:d,saveProfile:p,savePassword:m,roles:t}}});R.render=j;t["default"]=R},2388:function(e,t,a){"use strict";var r=a("c953"),o="/company-management",n=function(){return r["a"].get(o)},c=function(e){return r["a"].post(o,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(o+"/".concat(e),t)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(o+"/".concat(e,"/activate"),t)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(o+"/".concat(e,"/deactivate"),t)};t["a"]={get:n,add:c,update:i,activate:s,deactivate:l}},2391:function(e,t,a){"use strict";t["a"]={distributor:null,email:null,email_verified_at:null,first_name:null,id:null,last_name:null,name:null}},"818a":function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return i}));var r=a("5530"),o=a("c953"),n={add:function(e){return o["a"].post("/admins/create",e)},show:function(e){return o["a"].get("/admins/".concat(e))},update:function(e,t){return o["a"].put("/admins/".concat(e),Object(r["a"])({},t))},changePassword:function(e,t){return o["a"].put("/admins/".concat(e,"/change-password"),Object(r["a"])({},t))},deactivate:function(e){return o["a"].get("/admins/".concat(e,"/deactivate"))},activate:function(e){return o["a"].get("/admins/".concat(e,"/activate"))},assignRegions:function(e,t){return o["a"].post("/admins/".concat(e,"/assign-region"),{region_ids:t})},getAdminRoles:function(e){return o["a"].get("/admins/".concat(e,"/roles"))},assignAdminRoles:function(e,t){return o["a"].put("/admins/".concat(e,"/assign-roles"),{role_ids:t})}},c={index:function(){return o["a"].get("/roles")}},i={show:function(e){return o["a"].get("/users/".concat(e))},update:function(e,t){return o["a"].put("/users/".concat(e),Object(r["a"])({},t))},changePassword:function(e,t){return o["a"].put("/users/".concat(e,"/change-password"),Object(r["a"])({},t))}}},e1b5:function(e,t,a){"use strict";a("caad"),a("b0c0");var r=a("7a23"),o={key:0,class:"flex"},n={key:0,class:"relative inline-block text-left mr-2"},c=Object(r["createTextVNode"])(" Action "),i=Object(r["createVNode"])("svg",{class:"-mr-1 ml-2 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[Object(r["createVNode"])("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"})],-1),s={class:"z-50 origin-top-right absolute right-0 mt-2 w-56 rounded-md shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none",role:"menu","aria-orientation":"vertical","aria-labelledby":"options-menu"},l={class:"py-1",role:"none"},d=Object(r["createTextVNode"])(" Update "),u={key:0,href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},b=Object(r["createVNode"])("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},"Reset Password",-1),p=Object(r["createVNode"])("div",{class:"py-1",role:"none"},[Object(r["createVNode"])("a",{href:"#",class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},"Deactivate")],-1);function m(e,t,a,m,f,v){var g=Object(r["resolveComponent"])("DxFilterRow"),O=Object(r["resolveComponent"])("DxHeaderFilter"),j=Object(r["resolveComponent"])("DxColumn"),w=Object(r["resolveComponent"])("DxPaging"),h=Object(r["resolveComponent"])("DxPager"),x=Object(r["resolveComponent"])("router-link"),N=Object(r["resolveComponent"])("DxDataGrid"),V=Object(r["resolveDirective"])("click-outside");return Object(r["openBlock"])(),Object(r["createBlock"])(N,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[3]||(t[3]=function(t){return e.onToolbarPreparing(t)})},{actionLeft:Object(r["withCtx"])((function(a){a.data;return[0!=e.selectedData.length?(Object(r["openBlock"])(),Object(r["createBlock"])("div",o,[Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.clearSelection&&e.clearSelection.apply(e,arguments)}),class:"btn bg-white mr-2"},"Clear Selection")])):Object(r["createCommentVNode"])("",!0)]})),actionRight:Object(r["withCtx"])((function(a){a.data;return[e.selectedData.length?(Object(r["openBlock"])(),Object(r["createBlock"])("div",n,[Object(r["createVNode"])("div",null,[Object(r["withDirectives"])(Object(r["createVNode"])("button",{onClick:t[2]||(t[2]=function(t){return e.showDropdown=!e.showDropdown}),type:"button",class:"inline-flex justify-center w-full rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-sm font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 focus:ring-indigo-500",id:"options-menu","aria-expanded":"true","aria-haspopup":"true"},[c,i],512),[[V,function(){return e.showDropdown=!1}]])]),Object(r["withDirectives"])(Object(r["createVNode"])("div",s,[Object(r["createVNode"])("div",l,[Object(r["createVNode"])(x,{tag:"a",to:{name:"manage-user.distributor.update",params:{user_id:e.selectedData[0].id}},class:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100 hover:text-gray-900",role:"menuitem"},{default:Object(r["withCtx"])((function(){return[d]})),_:1},8,["to"]),["vp_sales_region","svp_region"].includes(e.selectedData[0].role.name)?(Object(r["openBlock"])(),Object(r["createBlock"])("a",u,"Assign Region")):Object(r["createCommentVNode"])("",!0),b]),p],512),[[r["vShow"],e.showDropdown]])])):Object(r["createCommentVNode"])("",!0)]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(g,{visible:!0}),Object(r["createVNode"])(O,{visible:!0}),Object(r["createVNode"])(j,{"data-field":"name","data-type":"string",caption:"Nama"}),Object(r["createVNode"])(j,{"data-field":"email","data-type":"string",caption:"Email"}),Object(r["createVNode"])(j,{"data-field":"role.name","data-type":"string",caption:"Role","allow-filtering":!1}),Object(r["createVNode"])(j,{"data-field":"created_at","data-type":"date",caption:"Tanggal Pendaftaran"}),Object(r["createVNode"])(j,{"data-field":"verification_status","data-type":"string",caption:"Status"}),Object(r["createVNode"])(w,{"page-size":10}),Object(r["createVNode"])(h,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}a("0cfa");var f=a("5040"),v=a.n(f),g=a("1da1"),O=(a("96cf"),a("99af"),a("fb6a"),a("d30a")),j=a("2597"),w=a.n(j),h=a("c953"),x=a("2388"),N=Object(r["defineComponent"])({components:{DxDataGrid:O["DxDataGrid"],DxColumn:O["DxColumn"],DxPaging:O["DxPaging"],DxPager:O["DxPager"],DxSorting:O["DxSorting"],DxHeaderFilter:O["DxHeaderFilter"],DxFilterRow:O["DxFilterRow"]},setup:function(e,t){var a=this,o=(t.emit,Object(r["ref"])(null)),n=Object(r["ref"])([]),c=Object(r["ref"])(!1);function i(e){return void 0!==e&&null!==e&&""!==e}Object(r["onMounted"])((function(){console.log(o.value)}));var s=Object(r["inject"])("env");console.log(s);var l=new w.a({key:"id",load:function(e){var t="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1),h["a"].get("".concat(s["VUE_APP_API_ENDPOINT"],"/users").concat(t)).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),d=Object(r["inject"])("updateFormData");console.log(o);var u=function(e){var t=e.selectedRowsData;console.log(t),n.value=t,d(t[0])},b=function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].activate(t).then((function(e){v.a.success({title:"Success",position:"bottom-right"}),m()})).catch((function(e){v.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(g["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,x["a"].deactivate(t).then((function(e){v.a.success({title:"Success",position:"bottom-right"}),m()})).catch((function(e){v.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){o.value.instance.refresh()},f=function(){o.value.instance.clearSelection(),c.value=!1},O=function(e){e.toolbarOptions.items.unshift({location:"before",template:"actionLeft"},{location:"after",template:"actionRight"},{location:"after",widget:"dxButton",options:{icon:"refresh",onClick:m.bind(a)}})};return{store:l,onSelectionChanged:u,activate:b,deactivate:p,onToolbarPreparing:O,refreshDataGrid:m,clearSelection:f,root:o,selectedData:n,showDropdown:c}}});N.render=m;t["a"]=N}}]);