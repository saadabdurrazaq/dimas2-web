(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-557778e0"],{"1e9c":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var a=n("1da1"),r=n("5530"),o=(n("96cf"),n("25a0")),c=n("8afd");function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c["p"])(!1),i=Object(c["o"])(Object(r["a"])({},e)),u=null;t&&(u=Object(o["a"])(t,Object(c["q"])(i)));var l=function(){for(var t in e)i[t]=e[t];u&&u.value.$reset()},d=function(t){var n=Object(c["q"])(i);for(var a in e)Object.hasOwnProperty.call(t,a)&&(n[a].value=t[a])},s=function(){var e=Object(a["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(d(t),n.value=!0):(l(),n.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c["n"])("updateFormData",s),{updateMode:n,formData:i,validate:u,resetFormData:l,hydrateFormData:d,updateFormData:s}}},"56dd":function(e,t,n){"use strict";var a=n("5530"),r=n("c953"),o=function(e){return r["a"].post("/registration-periods",Object(a["a"])({},e))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put("registration-periods/".concat(e),{data:t})},i=function(){return r["a"].get("/registration-periods/get-active")},u=function(){return r["a"].get("/registration-periods")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].put("registration-periods/".concat(e,"/activate"))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].put("registration-periods/".concat(e,"/deactivate"))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].get("registration-periods/get-period/".concat(e))};t["a"]={create:o,update:c,getActive:i,getAll:u,activate:l,deactivate:d,searchPeriodId:s}},e628:function(e,t,n){"use strict";n.r(t);var a=n("7a23"),r={class:"p-5"};function o(e,t,n,o,c,i){var u=Object(a["resolveComponent"])("data-grid"),l=Object(a["resolveComponent"])("document-form");return Object(a["openBlock"])(),Object(a["createBlock"])(l,{title:"Registration Period"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",r,[Object(a["createVNode"])(u)])]})),_:1})}var c=n("8afd"),i=n("c45b"),u={key:0,class:"flex"},l=Object(a["createTextVNode"])("Add"),d={key:0,class:"relative inline-block text-left mr-2"},s={key:0},p=Object(a["createTextVNode"])(" Update ");function b(e,t,n,r,o,c){var i=Object(a["resolveComponent"])("DxColumn"),b=Object(a["resolveComponent"])("DxPaging"),f=Object(a["resolveComponent"])("DxPager"),g=Object(a["resolveComponent"])("router-link"),v=Object(a["resolveComponent"])("DxDataGrid");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(v,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[4]||(t[4]=function(t){return e.onToolbarPreparing(t)})},{actionLeft:Object(a["withCtx"])((function(){return[0!=e.selectedData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",u,[Object(a["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.clearSelection&&e.clearSelection.apply(e,arguments)}),class:"btn bg-white mr-2"},"Clear Selection")])):(Object(a["openBlock"])(),Object(a["createBlock"])(g,{key:1,tag:"button",to:{name:"manage-registration-period.create"},class:"btn bg-white mr-2"},{default:Object(a["withCtx"])((function(){return[l]})),_:1},8,["to"]))]})),actionRight:Object(a["withCtx"])((function(){return[e.selectedData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",d,[e.selectedData[0].active?(Object(a["openBlock"])(),Object(a["createBlock"])("div",s,[Object(a["createVNode"])(g,{to:{name:"manage-registration-period.update",params:{period_id:e.selectedData[0].id}},class:"btn bg-theme-1 text-white mr-2"},{default:Object(a["withCtx"])((function(){return[p]})),_:1},8,["to"]),Object(a["createVNode"])("button",{onClick:t[2]||(t[2]=function(t){return e.deactivate(e.selectedData[0].id)}),class:"btn bg-theme-6 text-white"},"Deactivate")])):(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:1,onClick:t[3]||(t[3]=function(t){return e.activate(e.selectedData[0].id)}),class:"btn bg-theme-9 text-white"},"Activate"))])):Object(a["createCommentVNode"])("",!0)]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{"data-field":"period","data-type":"string",caption:"Periode"}),Object(a["createVNode"])(i,{"data-field":"start","data-type":"date",caption:"Start Date"}),Object(a["createVNode"])(i,{"data-field":"end","data-type":"date",caption:"End Date"}),Object(a["createVNode"])(i,{"data-field":"active","data-type":"boolean",caption:"Status"}),Object(a["createVNode"])(b,{"page-size":10}),Object(a["createVNode"])(f,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])])}n("0cfa");var f=n("5040"),g=n.n(f),v=n("1da1"),O=(n("96cf"),n("99af"),n("fb6a"),n("d30a")),m=n("2597"),j=n.n(m),h=n("c953"),D=n("56dd"),w=Object(a["defineComponent"])({components:{DxDataGrid:O["DxDataGrid"],DxColumn:O["DxColumn"],DxPaging:O["DxPaging"],DxPager:O["DxPager"],DxSorting:O["DxSorting"],DxHeaderFilter:O["DxHeaderFilter"],DxFilterRow:O["DxFilterRow"]},setup:function(e,t){var n=this,r=(t.emit,Object(a["ref"])(null)),o=Object(a["ref"])([]),c=Object(a["ref"])(!1);function i(e){return void 0!==e&&null!==e&&""!==e}Object(a["onMounted"])((function(){}));var u=Object(a["inject"])("env"),l=new j.a({key:"id",load:function(e){var t="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(n){n in e&&i(e[n])&&(t+="".concat(n,"=").concat(JSON.stringify(e[n]),"&"))})),t=t.slice(0,-1),h["a"].get("".concat(u["VUE_APP_API_ENDPOINT"],"/registration-periods").concat(t)).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),d=Object(a["inject"])("updateFormData"),s=function(e){var t=e.selectedRowsData;o.value=t,d(t[0])},p=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D["a"].activate(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),O(),f()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(v["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D["a"].deactivate(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),O(),f()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){r.value.instance.refresh()},O=function(){r.value.instance.clearSelection(),c.value=!1},m=function(e){e.toolbarOptions.items.unshift({location:"before",template:"actionLeft"},{location:"after",template:"actionRight"},{location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(n)}})};return{store:l,onSelectionChanged:s,activate:p,deactivate:b,onToolbarPreparing:m,refreshDataGrid:f,clearSelection:O,root:r,selectedData:o,showDropdown:c}}}),x=n("6b0d"),k=n.n(x);const C=k()(w,[["render",b]]);var y=C,N=n("1e9c"),S={email:null,name:null,role_id:null},P=Object(c["c"])({components:{DocumentForm:i["a"],DataGrid:y},setup:function(){var e=Object(N["a"])(S),t=(e.updateMode,e.formData),n=(e.resetFormData,e.updateFormData);return Object(c["n"])("updateFormData",n),{formData:t}}});const V=k()(P,[["render",o]]);t["default"]=V}}]);