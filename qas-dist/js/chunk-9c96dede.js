(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9c96dede"],{"1a40":function(e,t,a){"use strict";var n=a("c953"),r="/demplot-reports",o=function(){return n["a"].get(r)},c=function(e){return n["a"].post(r,e)},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].delete(r+"/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(r+"/".concat(e),t)};t["a"]={get:o,add:c,update:l,destroy:i}},"1d8d":function(e,t,a){"use strict";var n=a("c953"),r="/teritorial",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/province/".concat(e))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/city/".concat(e))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/district/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/village/".concat(e))};t["a"]={province:o,city:c,district:i,village:l}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("8afd");function r(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"99b1":function(e,t,a){"use strict";a.r(t);var n=a("7a23");function r(e,t,a,r,o,c){var i=Object(n["resolveComponent"])("TPubersPanel");return Object(n["openBlock"])(),Object(n["createBlock"])(i)}var o=a("8afd"),c=a("c45b"),i={class:"p-5"};function l(e,t,a,r,o,c){var l=Object(n["resolveComponent"])("data-grid"),u=Object(n["resolveComponent"])("el-tab-pane"),d=Object(n["resolveComponent"])("uploadData"),s=Object(n["resolveComponent"])("el-tabs"),p=Object(n["resolveComponent"])("document-form"),f=Object(n["resolveDirective"])("loading");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(p,{title:"Data Aplikasi T-PUBERS"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{label:"Data",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l)]})),_:1}),Object(n["createVNode"])(u,{label:"Upload Data",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d)]})),_:1})]})),_:1})])]})),_:1},512)),[[f,e.loading]])}var u=a("1da1"),d=(a("96cf"),a("2022"));function s(e,t,a,r,o,c){var i=Object(n["resolveComponent"])("DxFilterRow"),l=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxPaging"),d=Object(n["resolveComponent"])("DxPager"),s=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)}),"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{visible:!0}),Object(n["createVNode"])(l,{"data-field":"province_name","data-type":"string",caption:"Provinsi"}),Object(n["createVNode"])(l,{"data-field":"city_name","data-type":"string",caption:"Kabupaten/Kota"}),Object(n["createVNode"])(l,{"data-field":"district_name","data-type":"string",caption:"Kecamatan"}),Object(n["createVNode"])(l,{"data-field":"kiosk_name","data-type":"string",caption:"Nama Kios"}),Object(n["createVNode"])(l,{"data-field":"farmer_name","data-type":"string",caption:"Nama Petani"}),Object(n["createVNode"])(l,{caption:"Jumlah Penebusan"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{"data-field":"urea","data-type":"string",caption:"UREA",width:150}),Object(n["createVNode"])(l,{"data-field":"npk","data-type":"string",caption:"NPK",width:150}),Object(n["createVNode"])(l,{"data-field":"sp36","data-type":"string",caption:"SP36",width:150}),Object(n["createVNode"])(l,{"data-field":"za","data-type":"string",caption:"ZA",width:150}),Object(n["createVNode"])(l,{"data-field":"npk_formula","data-type":"string",caption:"NPK FORMULA",width:150}),Object(n["createVNode"])(l,{"data-field":"organik","data-type":"string",caption:"ORGANIK",width:150}),Object(n["createVNode"])(l,{"data-field":"organik_cair","data-type":"string",caption:"ORGANIK CAIR",width:150})]})),_:1}),Object(n["createVNode"])(l,{caption:"Waktu Tebus"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{"data-field":"transaction_day","data-type":"number",caption:"Tanggal Tebus"}),Object(n["createVNode"])(l,{"data-field":"transaction_month","data-type":"number",caption:"Bulan Tebus"}),Object(n["createVNode"])(l,{"data-field":"transaction_year","data-type":"number",caption:"Tahun Tebus"})]})),_:1}),Object(n["createVNode"])(u,{"page-size":10}),Object(n["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source"])}var p=a("ade3"),f=(a("99af"),a("fb6a"),a("d30a")),b=a("2597"),v=a.n(b),m=a("c953"),O=(a("1a40"),a("6c02")),j=a("2611"),g=Object(n["defineComponent"])({components:{DxDataGrid:f["DxDataGrid"],DxColumn:f["DxColumn"],DxPaging:f["DxPaging"],DxPager:f["DxPager"],DxSorting:f["DxSorting"],DxHeaderFilter:f["DxHeaderFilter"],DxFilterRow:f["DxFilterRow"]},emits:[],props:[],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(O["c"])();function c(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var i=Object(n["inject"])("env"),l=new v.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&c(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(i["VUE_APP_API_ENDPOINT"],"/tpubers-data").concat(t);return m["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=function(){r.value.instance.refresh()},d=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:u.bind(a)}})};return Object(p["a"])({route:o,store:l,onToolbarPreparing:d,refreshDataGrid:u,root:r},"route",o)}}),h=a("6b0d"),w=a.n(h);const D=w()(g,[["render",s]]);var _=D,N={class:"p-5"},x={class:"mt-3"},k={class:"grid grid-cols-2 gap-5"},C=Object(n["createTextVNode"])("Click to upload"),V={class:"flex w-full px-5"},y={class:"ml-auto"};function P(e,t,a,r,o,c){var i=Object(n["resolveComponent"])("el-option"),l=Object(n["resolveComponent"])("el-select"),u=Object(n["resolveComponent"])("form-item"),d=Object(n["resolveComponent"])("el-button"),s=Object(n["resolveComponent"])("el-upload"),p=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],null,[Object(n["createVNode"])("div",N,[Object(n["createVNode"])("div",x,[Object(n["createVNode"])("div",k,[Object(n["createVNode"])(u,{label:"Propinsi","rules-text":"Required",validationData:e.validate.province_id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{clearable:"",modelValue:e.formData.province_id,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.province_id=t}),class:["form-control",{"border-theme-6":e.validate.province_id.$error}],filterable:"",onChange:e.getCities},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.provinces,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.province_id,label:e.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{label:"Data T-PUBERS",validationData:e.validate.file_path},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{ref:"elUpload",class:"upload-demo",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"with-credentials":!0,"on-success":e.onUploadSuccees,"file-list":null!=e.formData.file_path?[{name:"file-import-alokasi",url:e.formData.file_path}]:[],"on-preview":e.handlePreview},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[C]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",V,[Object(n["createVNode"])("div",y,[Object(n["withDirectives"])(Object(n["createVNode"])("button",{type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[2]||(t[2]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ",512),[[p,e.loading]])])])],64)}a("0cfa");var R=a("5040"),T=a.n(R),B=a("5530"),A=(a("d3b7"),{province_id:null,file_path:null}),F=a("25a0"),S=a("e3e1"),U=a("5502"),$=function(e){return m["a"].post("/read-tpubers-data",e)},E={read_tpubers:$},I=a("1d8d"),K=Object(n["defineComponent"])({components:{DocumentForm:c["a"],FormItem:d["a"]},setup:function(){var e=Object(U["d"])(),t=(e.state.auth.user,Object(n["ref"])(!1)),a=Object(j["a"])(),r=Object(n["ref"])(null),o=Object(n["inject"])("env"),c=Object(n["reactive"])(Object(B["a"])({},A)),i={province_id:{required:S["c"]},file_path:{required:S["c"]}},l=Object(F["a"])(i,Object(n["toRefs"])(c)),d=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.value.$touch(),l.value.$invalid?T.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):a.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t.value=!0,e.next=3,E.read_tpubers(c).then((function(e){r.value.clearFiles(),f(),T.a.success({title:"Data berhasil disimpan",position:"bottom-right"})})).catch((function(e){T.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){t.value=!1}));case 3:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(e,t,a){c.file_path=e.id},p=function(e){var t=window.open(o["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()},f=function(){c["file_path"]=null,l.value.$reset()},b=Object(n["ref"])([]),v=Object(n["ref"])([]),m=Object(n["ref"])([]);Object(n["onMounted"])(Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=!0,O(),null!=b.value&&(t.value=!1);case 3:case"end":return e.stop()}}),e)}))));var O=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,I["a"].province().then((function(e){b.value=e.data})).finally((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return v.value=[],e.next=3,I["a"].city(c.province_id).then((function(e){v.value=e.data})).finally((function(){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),h=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return m.value=[],e.next=3,I["a"].district(c.city_id).then((function(e){m.value=e.data})).finally((function(){}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{env:o,formData:c,validate:l,loading:t,add:d,onUploadSuccees:s,elUpload:r,handlePreview:p,provinces:b,cities:v,districts:m,getCities:g,getDistricts:h}}});const G=w()(K,[["render",P]]);var q=G,z=Object(o["c"])({components:{DocumentForm:c["a"],DataGrid:_,FormItem:d["a"],uploadData:q},setup:function(){var e=Object(o["p"])(!1);return Object(o["m"])(Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.value=!1;case 1:case"end":return t.stop()}}),t)})))),{loading:e}}});const L=w()(z,[["render",l]]);var M=L,J=Object(o["c"])({components:{DocumentForm:c["a"],TPubersPanel:M},setup:function(){}});const H=w()(J,[["render",r]]);t["default"]=H}}]);