(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6f3151ae"],{"102d":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r={class:"grid grid-cols-12 gap-6"};function o(e,t,a,o,i,c){var l=Object(n["resolveComponent"])("FinancialSummary"),u=Object(n["resolveComponent"])("CheckingAccount"),s=Object(n["resolveComponent"])("DistributorFinancing");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])(l),Object(n["createVNode"])(u),Object(n["createVNode"])(s)])])}var i=a("c45b"),c={class:"intro-y col-span-12 lg:col-span-12"},l={class:"py-5"},u={class:""},s={class:"sm:grid grid-cols-2 gap-2"},d={class:""},p={class:""},f=Object(n["createTextVNode"])("Click to upload"),b={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},m={class:"intro-y input-form"},v=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status",-1),g={class:"intro-y input-form"},h=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status Verifikasi ",-1),O={class:"flex w-full pt-5"},j={key:1,class:"ml-auto"},_={key:1};function k(e,t,a,r,o,i){var k=Object(n["resolveComponent"])("form-item"),w=Object(n["resolveComponent"])("el-button"),y=Object(n["resolveComponent"])("el-upload"),x=Object(n["resolveComponent"])("DataGrid"),D=Object(n["resolveComponent"])("document-form");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["createVNode"])(D,{title:"Ikhtisar Laporan Keuangan 1 Tahun Terakhir",itemType:25},{default:Object(n["withCtx"])((function(a){var r=a.allowManage;return[Object(n["createVNode"])("div",l,[Object(n["createVNode"])("div",u,[Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",d,[Object(n["createVNode"])(k,{label:"Tahun Laporan","rules-text":"Required",validationData:e.validate.reporting_year},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Tahun Laporan",class:["form-control",{"border-theme-6":e.validate.reporting_year.$error}],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.reporting_year.$model=t})},null,2),[[n["vModelText"],e.validate.reporting_year.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",p,[Object(n["createVNode"])(k,{label:"File Laporan Keuangan","rules-text":"Required",validationData:e.validate.report_file,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(y,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.report_file?[{name:"file-laporan-keuangan",url:e.formData.report_file}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(w,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[f]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",b,[Object(n["createVNode"])("div",m,[v,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",g,[h,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",O,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[2]||(t[2]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})},"Clear Selection")):Object(n["createCommentVNode"])("",!0),r?(Object(n["openBlock"])(),Object(n["createBlock"])("div",j,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[3]||(t[3]=function(){return e.save&&e.save.apply(e,arguments)})},"Save")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",_,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[4]||(t[4]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})},"Reset"),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[5]||(t[5]=function(){return e.add&&e.add.apply(e,arguments)})},"Add")]))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(x,{ref:"dataGrid",class:"my-5",allowManage:r},null,8,["allowManage"])]})),_:1})])}a("0cfa");var w=a("5040"),y=a.n(w),x=a("15fd"),D=a("1da1"),C=a("5530"),N=(a("d3b7"),a("96cf"),{key:0}),V={key:1};function P(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),s=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{filePath:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("a",{href:e.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+a.data.report_file,class:"btn btn-sm bg-theme-9 rounded-lg text-white",target:"_blank"},"File Laporan Keuangan",8,["href"])]})),statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",N," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",V," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"reporting_year","data-type":"string",caption:"Tahun Laporan"}),Object(n["createVNode"])(c,{"data-field":"report_file","cell-template":"filePath",caption:"File Laporan Keuangan"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}a("99af"),a("fb6a");var S=a("d30a"),B=a("2597"),R=a.n(B),T=a("c953"),A="/financial/",F=function(){return T["a"].get(A+"balance-report")},G=function(e){return T["a"].post(A+"balance-report",e)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"balance-report/".concat(e),t)},$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"balance-report/".concat(e,"/activate"),t)},E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"balance-report/".concat(e,"/deactivate"),t)},I=function(){return T["a"].get(A+"income-report")},U=function(e){return T["a"].post(A+"income-report",e)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"income-report/".concat(e),t)},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"income-report/".concat(e,"/activate"),t)},K=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"income-report/".concat(e,"/deactivate"),t)},J=function(){return T["a"].get(A+"other-finance-report")},z=function(e){return T["a"].post(A+"other-finance-report",e)},H=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"other-finance-report/".concat(e),t)},Y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"other-finance-report/".concat(e,"/activate"),t)},X=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"other-finance-report/".concat(e,"/deactivate"),t)},W=function(){return T["a"].get(A+"financial-summary")},Q=function(e){return T["a"].post(A+"financial-summary",e)},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"financial-summary/".concat(e),t)},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"financial-summary/".concat(e,"/activate"),t)},te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"financial-summary/".concat(e,"/deactivate"),t)},ae=function(){return T["a"].get(A+"current-account-report")},ne=function(e){return T["a"].post(A+"current-account-report",e)},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"current-account-report/".concat(e),t)},oe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"current-account-report/".concat(e,"/activate"),t)},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"current-account-report/".concat(e,"/deactivate"),t)},ce=function(){return T["a"].get(A+"distributor-financing")},le=function(e){return T["a"].post(A+"distributor-financing",e)},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"distributor-financing/".concat(e),t)},se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"distributor-financing/".concat(e,"/activate"),t)},de=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return T["a"].put(A+"distributor-financing/".concat(e,"/deactivate"),t)},pe={get_balance_report:F,add_balance_report:G,update_balance_report:M,activate_balance_report:$,deactivate_balance_report:E,get_income_report:I,add_income_report:U,update_income_report:q,activate_income_report:L,deactivate_income_report:K,get_other_report:J,add_other_report:z,update_other_report:H,activate_other_report:Y,deactivate_other_report:X,get_yearly_financial_summary:W,add_yearly_financial_summary:Q,update_yearly_financial_summary:Z,activate_yearly_financial_summary:ee,deactivate_yearly_financial_summary:te,get_current_account_report:ae,add_current_account_report:ne,update_current_account_report:re,activate_current_account_report:oe,deactivate_current_account_report:ie,get_distributor_financing:ce,add_distributor_financing:le,update_distributor_financing:ue,activate_distributor_financing:se,deactivate_distributor_financing:de},fe=a("6c02"),be=Object(n["defineComponent"])({components:{DxDataGrid:S["DxDataGrid"],DxColumn:S["DxColumn"],DxPaging:S["DxPaging"],DxPager:S["DxPager"],DxSorting:S["DxSorting"],DxHeaderFilter:S["DxHeaderFilter"],DxFilterRow:S["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(fe["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new R.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/financial/financial-summary").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/25")),T["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),s=function(e){var t=e.selectedRowsData;u(t[0])},d=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.activate_yearly_financial_summary(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.deactivate_yearly_financial_summary(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){r.value.instance.refresh()},b=function(){r.value.instance.clearSelection()},m=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(a)}})};return{store:l,onSelectionChanged:s,activate:d,deactivate:p,onToolbarPreparing:m,refreshDataGrid:f,clearSelection:b,root:r,env:c,route:o}}}),me=a("6b0d"),ve=a.n(me);const ge=ve()(be,[["render",P]]);var he=ge,Oe={id:null,reporting_year:null,report_file:null,verification_status:null,is_active:!0},je=a("25a0"),_e=a("e3e1"),ke=a("2022"),we=a("5502"),ye=a("2611"),xe=(a("af50"),["id"]),De=["id"],Ce=Object(n["defineComponent"])({components:{DocumentForm:i["a"],DataGrid:he,FormItem:ke["a"]},setup:function(){Object(fe["c"])();var e=Object(we["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),r=Object(n["ref"])(!1),o=Object(ye["a"])(),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(C["a"])({},Oe)),s={reporting_year:{required:_e["c"]},report_file:{required:_e["c"]}},d=Object(je["a"])(s,Object(n["toRefs"])(u)),p=function(){var e=Object(n["toRefs"])(u);for(var t in Oe)e[t].value=Oe[t];d.value.$reset()},f=function(e){var t=Object(n["toRefs"])(u);for(var a in Oe)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},b=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(f(t),a.value=!0):(p(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,xe),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.update_yearly_financial_summary(u.id,a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.clearSelection(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,De),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.add_yearly_financial_summary(a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,t,a){u.report_file=e.id},h=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",b),{env:l,formData:u,validate:d,dataGrid:i,updateMode:a,loading:r,save:m,add:v,resetFormData:p,onUploadSuccees:g,elUpload:c,handlePreview:h}}});const Ne=ve()(Ce,[["render",k]]);var Ve=Ne,Pe={class:"intro-y col-span-12 lg:col-span-12"},Se={class:"p-5"},Be={class:""},Re={class:"sm:grid grid-cols-2 gap-2"},Te={class:""},Ae={class:""},Fe={class:"mt-3"},Ge=Object(n["createTextVNode"])("Click to upload"),Me={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},$e={class:"intro-y input-form"},Ee=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status",-1),Ie={class:"intro-y input-form"},Ue=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status Verifikasi ",-1),qe={class:"flex w-full pt-5"},Le={key:1,class:"ml-auto"},Ke={key:1};function Je(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("el-date-picker"),l=Object(n["resolveComponent"])("form-item"),u=Object(n["resolveComponent"])("el-button"),s=Object(n["resolveComponent"])("el-upload"),d=Object(n["resolveComponent"])("DataGrid"),p=Object(n["resolveComponent"])("document-form"),f=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Pe,[Object(n["withDirectives"])(Object(n["createVNode"])(p,{title:"Laporan Rekening Koran 3 Bulan Terakhir",itemType:26},{default:Object(n["withCtx"])((function(a){var r=a.allowManage;return[Object(n["createVNode"])("div",Se,[Object(n["createVNode"])("div",Be,[Object(n["createVNode"])("div",Re,[Object(n["createVNode"])("div",Te,[Object(n["createVNode"])(l,{label:"Tanggal Awal Laporan Koran","rules-text":"Required",validationData:e.validate.tanggal_awal_laporan_koran},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{class:["form-control",{"border-theme-6":e.validate.tanggal_awal_laporan_koran.$error}],modelValue:e.validate.tanggal_awal_laporan_koran.$model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.tanggal_awal_laporan_koran.$model=t}),type:"date",placeholder:"Pick a day",format:"YYYY-MM-DD"},null,8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",Ae,[Object(n["createVNode"])(l,{label:"Tanggal Akhir Laporan Koran","rules-text":"Required",validationData:e.validate.tanggal_akhir_laporan_koran},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{class:["form-control",{"border-theme-6":e.validate.tanggal_akhir_laporan_koran.$error}],modelValue:e.validate.tanggal_akhir_laporan_koran.$model,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.tanggal_akhir_laporan_koran.$model=t}),type:"date",placeholder:"Pick a day",format:"YYYY-MM-DD"},null,8,["modelValue","class"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",Fe,[Object(n["createVNode"])(l,{label:"File Laporan Koran","rules-text":"Required",validationData:e.validate.file_laporan,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.file_laporan?[{name:"file-laporan-koran",url:e.formData.file_laporan}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[Ge]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",Me,[Object(n["createVNode"])("div",$e,[Ee,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",Ie,[Ue,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",qe,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[3]||(t[3]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})},"Clear Selection")):Object(n["createCommentVNode"])("",!0),r?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Le,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[4]||(t[4]=function(){return e.save&&e.save.apply(e,arguments)})},"Save")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ke,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[5]||(t[5]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})},"Reset"),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[6]||(t[6]=function(){return e.add&&e.add.apply(e,arguments)})},"Add")]))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(d,{ref:"dataGrid",class:"m-5",allowManage:r},null,8,["allowManage"])]})),_:1},512),[[f,e.loading]])])}var ze={key:0},He={key:1};function Ye(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),s=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{filePath:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("a",{href:e.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+a.data.file_laporan,class:"btn btn-sm bg-theme-9 rounded-lg text-white",target:"_blank"},"File Laporan Koran",8,["href"])]})),statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",ze," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",He," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"tanggal_awal_laporan_koran","data-type":"date",format:"dd/MM/yyyy",caption:"Tanggal Awal"}),Object(n["createVNode"])(c,{"data-field":"tanggal_akhir_laporan_koran","data-type":"date",format:"dd/MM/yyyy",caption:"Tanggal Akhir"}),Object(n["createVNode"])(c,{"data-field":"file_laporan","data-type":"string",caption:"File Laporan","cell-template":"filePath"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var Xe=Object(n["defineComponent"])({components:{DxDataGrid:S["DxDataGrid"],DxColumn:S["DxColumn"],DxPaging:S["DxPaging"],DxPager:S["DxPager"],DxSorting:S["DxSorting"],DxHeaderFilter:S["DxHeaderFilter"],DxFilterRow:S["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(fe["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new R.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/financial/current-account-report").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/26")),T["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),s=function(e){var t=e.selectedRowsData;u(t[0])},d=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.activate_current_account_report(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.deactivate_current_account_report(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){r.value.instance.refresh()},b=function(){r.value.instance.clearSelection()},m=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(a)}})};return{store:l,onSelectionChanged:s,activate:d,deactivate:p,onToolbarPreparing:m,refreshDataGrid:f,clearSelection:b,root:r,env:c,route:o}}});const We=ve()(Xe,[["render",Ye]]);var Qe=We,Ze={id:null,tanggal_awal_laporan_koran:null,tanggal_akhir_laporan_koran:null,file_laporan:null,verification_status:null,is_active:!0},et=["id"],tt=["id"],at=Object(n["defineComponent"])({components:{DocumentForm:i["a"],DataGrid:Qe,FormItem:ke["a"]},setup:function(){Object(fe["c"])();var e=Object(we["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),r=Object(n["ref"])(!1),o=Object(ye["a"])(),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(C["a"])({},Ze)),s={tanggal_awal_laporan_koran:{required:_e["c"]},tanggal_akhir_laporan_koran:{required:_e["c"]},file_laporan:{required:_e["c"]}},d=Object(je["a"])(s,Object(n["toRefs"])(u)),p=function(){var e=Object(n["toRefs"])(u);for(var t in Ze)e[t].value=Ze[t];d.value.$reset()},f=function(e){var t=Object(n["toRefs"])(u);for(var a in Ze)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},b=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(f(t),a.value=!0):(p(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,et),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.update_current_account_report(u.id,a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.clearSelection(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,tt),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.add_current_account_report(a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,t,a){u.file_laporan=e.id},h=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",b),{env:l,formData:u,validate:d,dataGrid:i,updateMode:a,loading:r,save:m,add:v,resetFormData:p,onUploadSuccees:g,elUpload:c,handlePreview:h}}});const nt=ve()(at,[["render",Je]]);var rt=nt,ot={class:"intro-y col-span-12 lg:col-span-12"},it={class:"p-5"},ct={class:""},lt={class:"sm:grid grid-cols-2 gap-2"},ut={class:""},st={class:""},dt=Object(n["createTextVNode"])("Click to upload"),pt={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},ft={class:"intro-y input-form"},bt=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status",-1),mt={class:"intro-y input-form"},vt=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status Verifikasi ",-1),gt={class:"flex w-full pt-5"},ht={key:1,class:"ml-auto"},Ot={key:1};function jt(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("form-item"),l=Object(n["resolveComponent"])("el-button"),u=Object(n["resolveComponent"])("el-upload"),s=Object(n["resolveComponent"])("DataGrid"),d=Object(n["resolveComponent"])("document-form"),p=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",ot,[Object(n["withDirectives"])(Object(n["createVNode"])(d,{title:"Jaminan Bank Garansi / Jaminan Distributor Financing",itemType:27},{default:Object(n["withCtx"])((function(a){var r=a.allowManage;return[Object(n["createVNode"])("div",it,[Object(n["createVNode"])("div",ct,[Object(n["createVNode"])("div",lt,[Object(n["createVNode"])("div",ut,[Object(n["createVNode"])(c,{label:"Tahun Jaminan","rules-text":"Required",validationData:e.validate.tahun_jaminan},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Tahun Jaminan",class:["form-control",{"border-theme-6":e.validate.tahun_jaminan.$error}],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.tahun_jaminan.$model=t})},null,2),[[n["vModelText"],e.validate.tahun_jaminan.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",st,[Object(n["createVNode"])(c,{label:"File Jaminan Distributor Financing","rules-text":"Required",validationData:e.validate.file_jaminan,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.file_jaminan?[{name:"file-jaminan",url:e.formData.file_jaminan}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[dt]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",pt,[Object(n["createVNode"])("div",ft,[bt,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",mt,[vt,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",gt,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[2]||(t[2]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})},"Clear Selection")):Object(n["createCommentVNode"])("",!0),r?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ht,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[3]||(t[3]=function(){return e.save&&e.save.apply(e,arguments)})},"Save")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ot,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[4]||(t[4]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})},"Reset"),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[5]||(t[5]=function(){return e.add&&e.add.apply(e,arguments)})},"Add")]))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(s,{ref:"dataGrid",class:"m-5",allowManage:r},null,8,["allowManage"])]})),_:1},512),[[p,e.loading]])])}var _t={key:0},kt={key:1};function wt(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),s=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{filePath:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("a",{href:e.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+a.data.file_jaminan,class:"btn btn-sm bg-theme-9 rounded-lg text-white",target:"_blank"},"File Laporan Koran",8,["href"])]})),statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",_t," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",kt," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"tahun_jaminan","data-type":"string",caption:"Tahun Jaminan"}),Object(n["createVNode"])(c,{"data-field":"file_jaminan","data-type":"string",caption:"Jenis Jaminan","cell-template":"filePath"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var yt=Object(n["defineComponent"])({components:{DxDataGrid:S["DxDataGrid"],DxColumn:S["DxColumn"],DxPaging:S["DxPaging"],DxPager:S["DxPager"],DxSorting:S["DxSorting"],DxHeaderFilter:S["DxHeaderFilter"],DxFilterRow:S["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(fe["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new R.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/financial/distributor-financing").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/27")),T["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),s=function(e){var t=e.selectedRowsData;u(t[0])},d=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.activate_distributor_financing(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,pe.deactivate_distributor_financing(t).then((function(e){y.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){y.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){r.value.instance.refresh()},b=function(){r.value.instance.clearSelection()},m=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(a)}})};return{store:l,onSelectionChanged:s,activate:d,deactivate:p,onToolbarPreparing:m,refreshDataGrid:f,clearSelection:b,root:r,env:c,route:o}}});const xt=ve()(yt,[["render",wt]]);var Dt=xt,Ct={id:null,tahun_jaminan:null,file_jaminan:null,verification_status:null,is_active:!0},Nt=["id"],Vt=["id"],Pt=Object(n["defineComponent"])({components:{DocumentForm:i["a"],DataGrid:Dt,FormItem:ke["a"]},setup:function(){Object(fe["c"])();var e=Object(we["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),r=Object(n["ref"])(!1),o=Object(ye["a"])(),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(C["a"])({},Ct)),s={tahun_jaminan:{required:_e["c"]},file_jaminan:{required:_e["c"]}},d=Object(je["a"])(s,Object(n["toRefs"])(u)),p=function(){var e=Object(n["toRefs"])(u);for(var t in Ct)e[t].value=Ct[t];d.value.$reset()},f=function(e){var t=Object(n["toRefs"])(u);for(var a in Ct)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},b=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(f(t),a.value=!0):(p(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,Nt),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.update_distributor_financing(u.id,a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.clearSelection(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(D["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value.$touch(),d.value.$invalid?y.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(D["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(x["a"])(u,Vt),a.distributor_id=t.distributor.id,r.value=!0,e.next=5,pe.add_distributor_financing(a).then((function(e){y.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),p()})).catch((function(e){y.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,t,a){u.file_jaminan=e.id},h=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",b),{env:l,formData:u,validate:d,dataGrid:i,updateMode:a,loading:r,save:m,add:v,resetFormData:p,onUploadSuccees:g,elUpload:c,handlePreview:h}}});const St=ve()(Pt,[["render",jt]]);var Bt=St,Rt=Object(n["defineComponent"])({components:{DocumentForm:i["a"],FinancialSummary:Ve,CheckingAccount:rt,DistributorFinancing:Bt}});const Tt=ve()(Rt,[["render",o]]);t["default"]=Tt},"15fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("b64b");function n(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function r(e,t){if(null==e)return{};var a,r,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("8afd");function r(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}}}]);