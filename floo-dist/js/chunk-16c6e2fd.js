(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-16c6e2fd"],{"0999":function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));var n=a("1da1"),i=(a("96cf"),a("d3b7"),a("72dd")),o=a("c953"),r="/teritorial",c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].get(r+"/province/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].get(r+"/city/".concat(e))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].get(r+"/district/".concat(e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].get(r+"/village/".concat(e))},s={province:c,city:l,district:d,village:u},b=a("fb27");function p(e){var t=Object(i["p"])([]),a=Object(i["p"])([]),o=Object(i["p"])([]),r=Object(i["p"])([]),c=Object(i["p"])(!1),l=Object(i["p"])(!1),d=Object(i["p"])(!1),u=Object(i["p"])(!1),p=function(){var a=Object(n["a"])(regeneratorRuntime.mark((function a(){var n,i=arguments;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return n=!(i.length>0&&void 0!==i[0])||i[0],c.value=!0,a.next=4,s.province().then((function(a){t.value=a.data,n&&(e.city_id=null,e.district_id=null,e.village_id=null)})).finally((function(){c.value=!1}));case 4:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),v=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var n,i,o=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=o.length>0&&void 0!==o[0]?o[0]:null,i=!(o.length>1&&void 0!==o[1])||o[1],l.value=!0,a.value=[],t.next=6,s.city(n).then((function(t){a.value=t.data,i&&(e.city_id=null,e.district_id=null,e.village_id=null)})).finally((function(){l.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:null,n=!(i.length>1&&void 0!==i[1])||i[1],d.value=!0,o.value=[],t.next=6,s.district(a).then((function(t){o.value=t.data,n&&(e.district_id=null,e.village_id=null)})).finally((function(){d.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:null,n=!(i.length>1&&void 0!==i[1])||i[1],u.value=!0,r.value=[],t.next=6,s.village(a).then((function(t){r.value=t.data,n&&(e.village_id=null)})).finally((function(){u.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=Object(i["p"])([]),O=Object(i["p"])(!1),j=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=!(n.length>0&&void 0!==n[0])||n[0],O.value=!0,t.next=4,b["a"].regions().then((function(t){a&&(e.regions_code=null,e.regions_provinces_id=null,e.producer_area_city_id=null),m.value=t.data})).catch((function(e){console.log(e)})).finally((function(){c.value=!1}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=Object(i["p"])([]),k=Object(i["p"])(!1),_=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var a,n,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return a=i.length>0&&void 0!==i[0]?i[0]:null,n=!(i.length>1&&void 0!==i[1])||i[1],k.value=!0,h.value=[],t.next=6,b["a"].regionProvinces(a).then((function(t){n&&(e.producer_area_city_id=null),h.value=t.data})).finally((function(){k.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=Object(i["p"])([]),V=Object(i["p"])(!1),D=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,a=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:null,!(a.length>1&&void 0!==a[1])||a[1],V.value=!0,w.value=[],e.next=6,b["a"].regionProducerArea(t).then((function(e){w.value=e.data})).finally((function(){V.value=!1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{provinces:t,getProvinces:p,provinceOptionsLoading:c,cities:a,getCities:v,cityOptionsLoading:l,districts:o,getDistricts:f,districtOptionsLoading:d,villages:r,getVillages:g,villageOptionsLoading:u,regions:m,getRegions:j,regionsOptionsLoading:O,regionProvinces:h,getRegionProvinces:_,regionProvincesOptionsLoading:k,regionProducerArea:w,getRegionProducerArea:D,regionProducerAreaOptionsLoading:V}}},"15fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));a("a4d3"),a("b64b");function n(e,t){if(null==e)return{};var a,n,i={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(i[a]=e[a]);return i}function i(e,t){if(null==e)return{};var a,i,o=n(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)a=r[i],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var n=a("72dd");function i(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"4a4d":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),i={class:"grid grid-cols-12 gap-6"};function o(e,t,a,o,r,c){var l=Object(n["resolveComponent"])("DistributionNetworkPanel");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(l)])])}var r=a("c45b"),c=(a("b0c0"),a("99af"),a("4de4"),{class:"intro-y col-span-12 lg:col-span-12"}),l={class:"p-5"},d={class:""},u={class:"grid grid-cols-2 gap-5 mb-5"},s={class:"mt-3"},b={class:"sm:grid grid-cols-2 gap-5"},p={class:"mt-3"},v={class:"sm:grid grid-cols-1 gap-5"},f=Object(n["createVNode"])("hr",{class:"my-5"},null,-1),g={class:"mt-3"},m={class:"grid grid-cols-1 mb-4 gap-5"},O={class:"sm:grid grid-cols-2 gap-5"},j={class:"mt-3"},h={class:"sm:grid grid-cols-2 gap-2"},k={class:""},_=Object(n["createTextVNode"])("Click to upload"),w={class:"grid grid-cols-2 gap-5"},V={class:""},D={class:""},y={class:"mt-3"},x={class:"sm:grid grid-cols-2 gap-2"},C={class:""},N={key:0,class:"form-label"},P={key:1,class:"h-40 xxl:h-56 image-fit"},R={class:""},B={key:0},S=Object(n["createVNode"])("label",{class:"form-label"},"Maps",-1),T={class:"h-40 xxl:h-56 image-fit"},$={class:"flex w-full px-5"},F={key:1,class:"ml-auto"},A={key:1};function L(e,t,a,i,o,r){var L=Object(n["resolveComponent"])("el-option"),U=Object(n["resolveComponent"])("el-select"),K=Object(n["resolveComponent"])("form-item"),M=Object(n["resolveComponent"])("el-button"),q=Object(n["resolveComponent"])("el-upload"),G=Object(n["resolveComponent"])("DataGrid"),E=Object(n["resolveComponent"])("document-form"),I=Object(n["resolveComponent"])("verification-dialog"),z=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",c,[Object(n["withDirectives"])(Object(n["createVNode"])(E,{title:"Jaringan Distribusi / Pengecer",isRegional:!0,itemType:24},{default:Object(n["withCtx"])((function(a){var i=a.allowManage;return[Object(n["createVNode"])("div",l,[Object(n["createVNode"])("div",d,[Object(n["createVNode"])("div",u,[Object(n["createVNode"])(K,{class:"col-span-2",label:"Region","rules-text":"Required",validationData:e.validate.region_code},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{clearable:"",modelValue:e.formData.region_code,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.region_code=t}),class:["form-control",{"border-theme-6":e.validate.region_code.$error}],filterable:"",onChange:t[2]||(t[2]=function(t){return e.onRegionChanged(t)})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorRegions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(K,{label:"Propinsi","rules-text":"Required",validationData:e.validate.province_id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{clearable:"",modelValue:e.formData.province_id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.province_id=t}),class:["form-control",{"border-theme-6":e.validate.province_id.$error}],filterable:"",onChange:t[4]||(t[4]=function(t){return e.onProvinceChanged(e.formData.region_code,t)})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorProvinces,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:e.province_id,label:e.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(K,{label:"Kota/Kabupaten","rules-text":"Required",validationData:e.validate.city_id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{clearable:"",modelValue:e.formData.city_id,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.city_id=t}),class:["form-control",{"border-theme-6":e.validate.city_id.$error}],filterable:"",onChange:t[6]||(t[6]=function(t){return e.getDistricts(t)})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorCities,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:e.city_id,label:"".concat(e.city_type," ").concat(e.city_name),value:e.city_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])])]),Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",b,[Object(n["createVNode"])(K,{label:"Nama Kios",validationData:e.validate.kiosk_name},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",placeholder:"",class:["form-control w-full",{"border-theme-6":e.validate.kiosk_name.$error}],"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.validate.kiosk_name.$model=t})},null,2),[[n["vModelText"],e.validate.kiosk_name.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(K,{label:"Nama Pemilik Kios",validationData:e.validate.kiosk_pic},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",class:["form-control w-full",{"border-theme-6":e.validate.kiosk_pic.$error}],placeholder:"","onUpdate:modelValue":t[8]||(t[8]=function(t){return e.validate.kiosk_pic.$model=t})},null,2),[[n["vModelText"],e.validate.kiosk_pic.$model]])]})),_:1},8,["validationData"])])]),Object(n["createVNode"])("div",p,[Object(n["createVNode"])("div",v,[Object(n["createVNode"])(K,{label:"Kode Kios","rules-text":"Optional",validationData:e.validate.kiosk_code},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",placeholder:"",class:["form-control w-full",{"border-theme-6":e.validate.kiosk_code.$error}],"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.validate.kiosk_code.$model=t})},null,2),[[n["vModelText"],e.validate.kiosk_code.$model]])]})),_:1},8,["validationData"])])]),f,Object(n["createVNode"])("div",g,[Object(n["createVNode"])("div",m,[Object(n["createVNode"])(K,{label:"Alamat",validationData:e.validate.full_address},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{class:["form-control",{"border-theme-6":e.validate.full_address.$error}],name:"",rows:"3","onUpdate:modelValue":t[10]||(t[10]=function(t){return e.validate.full_address.$model=t})},null,2),[[n["vModelText"],e.validate.full_address.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])(K,{label:"Kecamatan","rules-text":"Required",validationData:e.validate.district_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{onChange:t[11]||(t[11]=function(t){return e.getVillages(t)}),modelValue:e.formData.district_id,"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.formData.district_id=t}),class:["form-control",{"border-theme-6":e.validate.district_id.$error}],disabled:null==e.validate.city_id.$model,loading:e.districtOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.districts,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:e.district_id,label:e.district_name,value:e.district_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class","disabled","loading"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(K,{label:"Kelurahan/Desa - Kode Pos","rules-text":"Required",validationData:e.validate.village_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(U,{class:["form-control",{"border-theme-6":e.validate.village_id.$error}],modelValue:e.formData.village_id,"onUpdate:modelValue":t[13]||(t[13]=function(t){return e.formData.village_id=t}),disabled:null==e.validate.district_id.$model,loading:e.villageOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.villages,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(L,{key:e.village_id,label:"".concat(e.village_name," - ").concat(e.postal_code),value:e.village_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class","disabled","loading"])]})),_:1},8,["validationData"])])]),Object(n["createVNode"])("div",j,[Object(n["createVNode"])("div",h,[Object(n["createVNode"])("div",k,[Object(n["createVNode"])(K,{label:"File Foto Kios",validationData:e.validate.kiosk_photo_path},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(q,{ref:"elUpload",class:"upload-demo",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"with-credentials":!0,"on-success":e.onPhotoUploadSuccess,"file-list":null!=e.formData.kiosk_photo_path?[{name:"file-foto-kios",url:e.formData.kiosk_photo_path}]:[],"on-preview":e.handlePreview},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(M,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[_]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",w,[Object(n["createVNode"])("div",V,[Object(n["createVNode"])(K,{label:"Latitude",validationData:e.validate.latitude},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",class:["form-control w-full",{"border-theme-6":e.validate.latitude.$error}],placeholder:"","onUpdate:modelValue":t[14]||(t[14]=function(t){return e.validate.latitude.$model=t})},null,2),[[n["vModelText"],e.validate.latitude.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",D,[Object(n["createVNode"])(K,{label:"Longitude",validationData:e.validate.longitude},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{type:"text",class:["form-control w-full",{"border-theme-6":e.validate.longitude.$error}],placeholder:"","onUpdate:modelValue":t[15]||(t[15]=function(t){return e.validate.longitude.$model=t})},null,2),[[n["vModelText"],e.validate.longitude.$model]])]})),_:1},8,["validationData"])])])])]),Object(n["createVNode"])("div",y,[Object(n["createVNode"])("div",x,[Object(n["createVNode"])("div",C,[null!=e.formData.kiosk_photo_path?(Object(n["openBlock"])(),Object(n["createBlock"])("label",N,"Foto Kios")):Object(n["createCommentVNode"])("",!0),null!=e.formData.kiosk_photo_path?(Object(n["openBlock"])(),Object(n["createBlock"])("div",P,[Object(n["createVNode"])("img",{src:"".concat(e.env["VUE_APP_API_ENDPOINT"],"/files?filePath=").concat(e.formData.kiosk_photo_path),class:"rounded-md"},null,8,["src"])])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("div",R,[null!=e.formData.latitude&&null!=e.formData.longitude?(Object(n["openBlock"])(),Object(n["createBlock"])("div",B,[S,Object(n["createVNode"])("div",T,[Object(n["createVNode"])("iframe",{style:{width:"100%",height:"100%"},class:"rounded-md",id:"gmap_canvas",src:"https://maps.google.com/maps?q=".concat(e.formData.latitude,", ").concat(e.formData.longitude,"&t=&z=13&ie=UTF8&iwloc=&output=embed"),frameborder:"0",scrolling:"no",marginheight:"0",marginwidth:"0"},null,8,["src"])])])):Object(n["createCommentVNode"])("",!0)])])])]),Object(n["createVNode"])("div",$,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[16]||(t[16]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),i?(Object(n["openBlock"])(),Object(n["createBlock"])("div",F,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn btn-primary w-24 mr-2"],type:"button",onClick:t[17]||(t[17]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ",10,["disabled"])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",A,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[18]||(t[18]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn bg-theme-9 text-white w-24"],type:"button",onClick:t[19]||(t[19]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ",10,["disabled"])]))])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])(G,{ref:"dataGrid",class:"m-5",allowManage:i,onSelectionChanged:e.onSelectionChanged,onOpenVerificationDialog:e.openVerificationDialog},null,8,["allowManage","onSelectionChanged","onOpenVerificationDialog"])]})),_:1},512),[[z,e.loading]]),Object(n["createVNode"])(I,{dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":[t[20]||(t[20]=function(t){return e.dialogVisible=t}),t[21]||(t[21]=function(t){return e.dialogVisible=t})],"onDialog:closed":e.refreshDataGrid,dialogData:e.dialogData,filter:e.filter},null,8,["dialogVisible","onDialog:closed","dialogData","filter"])])}a("0cfa");var U=a("5040"),K=a.n(U),M=a("15fd"),q=a("1da1"),G=a("5530"),E=(a("d3b7"),a("96cf"),{key:0}),I={key:1},z={key:0};function J(e,t,a,i,o,r){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),d=Object(n["resolveComponent"])("DxPager"),u=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)}),"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0},{statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",E," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",I," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),vaCellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[null==a.data.bundle_item_detail_verification.is_verified?(Object(n["openBlock"])(),Object(n["createBlock"])("div",z,[Object(n["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!0)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Approved ",8,["onClick"]),Object(n["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!1)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Reject ",8,["onClick"])])):Object(n["createCommentVNode"])("",!0)]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"kiosk_name","data-type":"string",caption:"Nama Kios"}),Object(n["createVNode"])(c,{"data-field":"kiosk_pic","data-type":"string",caption:"PIC / Pemilik Kios"}),Object(n["createVNode"])(c,{"data-field":"region.name","data-type":"string",caption:"Region"}),Object(n["createVNode"])(c,{"data-field":"province.province_name","data-type":"string",caption:"Propinsi"}),Object(n["createVNode"])(c,{"data-field":"city.city_name","data-type":"string",caption:"Kab/Kota"}),Object(n["createVNode"])(c,{"data-field":"bundle_item_detail_verification.is_verified","data-type":"boolean",caption:"Status Verifikasi"}),Object(n["createVNode"])(c,{"data-field":"bundle_item_detail_verification.verification_notes","data-type":"string",caption:"Catatan Verifikasi"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),"admin"==e.route.meta.role?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:1,"data-field":"bundle_item_detail_verification",caption:"Verifikasi","cell-template":"vaCellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var W=a("ade3"),H=(a("fb6a"),a("d30a")),X=a("2597"),Q=a.n(X),Y=a("c953"),Z="/distribution-network",ee=function(){return Y["a"].get(Z)},te=function(e){return Y["a"].post(Z,e)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(Z+"/".concat(e),t)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(Z+"/".concat(e,"/activate"),t)},ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(Z+"/".concat(e,"/deactivate"),t)},oe={get:ee,add:te,update:ae,activate:ne,deactivate:ie},re=a("6c02"),ce=Object(n["defineComponent"])({components:{DxDataGrid:H["DxDataGrid"],DxColumn:H["DxColumn"],DxPaging:H["DxPaging"],DxPager:H["DxPager"],DxSorting:H["DxSorting"],DxHeaderFilter:H["DxHeaderFilter"],DxFilterRow:H["DxFilterRow"]},emits:["selectionChanged","openVerificationDialog"],props:["allowManage"],setup:function(e,t){var a=this,i=t.emit,o=Object(n["ref"])(null),r=Object(re["c"])();function c(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){console.log(o.value)}));var l=Object(n["inject"])("env");console.log(l);var d=new Q.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&c(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(l["VUE_APP_API_ENDPOINT"],"/distribution-network").concat(t);return"admin"==r.meta.role&&(a="".concat(l["VUE_APP_API_ENDPOINT"],"/distributor/").concat(r.params.distributor_id,"/item-details-data/item-type/24")),Y["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}});Object(n["inject"])("updateFormData");console.log(o);var u=function(e){var t=e.selectedRowsData;i("selectionChanged",t[0])},s=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.activate(t).then((function(e){K.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){K.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,oe.deactivate(t).then((function(e){K.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){K.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){o.value.instance.refresh()},v=function(){o.value.instance.clearSelection()},f=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:p.bind(a)}})},g=function(e,t){e.recommended=t,i("openVerificationDialog",e)};return Object(W["a"])({route:r,store:d,onSelectionChanged:u,activate:s,deactivate:b,onToolbarPreparing:f,refreshDataGrid:p,clearSelection:v,root:o,openVerificationDialog:g},"route",r)}});ce.render=J;var le=ce,de={key:0},ue={class:"grid grid-cols-3 gap-4 mb-2"},se=Object(n["createVNode"])("label",{for:"produsen"},"Status",-1),be={key:0,class:"text-base text-theme-9"},pe={key:1,class:"text-base text-theme-6"},ve={class:"grid grid-cols-3 gap-4 mb-4"},fe=Object(n["createVNode"])("label",{for:"produsen"},"Region",-1),ge={class:"text-base"},me=Object(n["createVNode"])("label",{for:"propinsi"},"Propinsi",-1),Oe={class:"text-base"},je=Object(n["createVNode"])("label",{for:"kabupaten"},"Kabupaten",-1),he={class:"text-base"},ke=Object(n["createVNode"])("div",{class:"border border-b-0 mb-4"},null,-1),_e={class:"grid grid-cols-1 gap-4"},we=Object(n["createVNode"])("label",{for:"produsen"},"Notes",-1),Ve={class:"dialog-footer"},De=Object(n["createTextVNode"])("Cancel"),ye=Object(n["createTextVNode"])("Confirm");function xe(e,t,a,i,o,r){var c=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{"append-to-body":"",title:"Verifikasi Butir Dokumen",modelValue:e.dialogVisible,width:"50%",onClose:e.closeDialog},{footer:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("span",Ve,[Object(n["createVNode"])(c,{onClick:e.closeDialog},{default:Object(n["withCtx"])((function(){return[De]})),_:1},8,["onClick"]),Object(n["createVNode"])(c,{type:"primary",onClick:e.submitAllocationForm},{default:Object(n["withCtx"])((function(){return[ye]})),_:1},8,["onClick"])])]})),default:Object(n["withCtx"])((function(){return[null!=e.dialogData?(Object(n["openBlock"])(),Object(n["createBlock"])("div",de,[Object(n["createVNode"])("div",ue,[Object(n["createVNode"])("div",null,[se,e.dialogData.recommended?(Object(n["openBlock"])(),Object(n["createBlock"])("p",be,"APPROVED")):(Object(n["openBlock"])(),Object(n["createBlock"])("p",pe,"REJECTED"))])]),Object(n["createVNode"])("div",ve,[Object(n["createVNode"])("div",null,[fe,Object(n["createVNode"])("p",ge,Object(n["toDisplayString"])(e.dialogData.region.name),1)]),Object(n["createVNode"])("div",null,[me,Object(n["createVNode"])("p",Oe,Object(n["toDisplayString"])(e.dialogData.province.province_name),1)]),Object(n["createVNode"])("div",null,[je,Object(n["createVNode"])("p",he,Object(n["toDisplayString"])(e.dialogData.city.city_type)+" "+Object(n["toDisplayString"])(e.dialogData.city.city_name),1)])]),ke,Object(n["createVNode"])("div",_e,[Object(n["createVNode"])("div",null,[we,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogFormData.notes=t}),class:"form-control mt-2"},null,512),[[n["vModelText"],e.dialogFormData.notes]])])])])):Object(n["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","onClose"])}var Ce=a("72dd"),Ne=a("2611"),Pe=a("83b3"),Re=Object(Ce["c"])({props:{value:String,dialogVisible:{type:Boolean},dialogData:{required:!0}},emits:["update:dialogVisible","dialog:closed"],setup:function(e,t){var a=t.emit,n=Object(Ce["o"])({notes:""}),i=Object(Ne["a"])(),o=function(){var t=Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:i.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(q["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.dialogData,n),t.next=3,Pe["a"].verify(e.dialogData.bundle_item_detail_id,{recommended:e.dialogData.recommended,notes:n.notes}).then((function(e){console.log(e)}));case 3:r(),a("dialog:closed");case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),r=function(){n.notes="",a("update:dialogVisible",!1)};return{dialogFormData:n,submitAllocationForm:o,closeDialog:r}}});Re.render=xe;var Be=Re,Se={id:null,region_code:null,kiosk_name:null,kiosk_pic:null,kiosk_code:null,full_address:null,province_id:null,city_id:null,district_id:null,village_id:null,postal_code:null,latitude:null,longitude:null,kiosk_photo_path:null,is_active:null,verification_status:null},Te=a("25a0"),$e=a("e3e1"),Fe=a("2022"),Ae=a("5502"),Le=a("0999"),Ue=a("b405"),Ke=(a("af50"),Object(n["defineComponent"])({components:{DocumentForm:r["a"],FormItem:Fe["a"],DataGrid:le,VerificationDialog:Be},setup:function(){Object(re["c"])();var e=Object(Ae["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),i=Object(n["ref"])(!0),o=Object(Ne["a"])(),r=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),d=Object(n["reactive"])(Object(G["a"])({},Se)),u={region_code:{required:$e["c"]},kiosk_name:{required:$e["c"]},kiosk_pic:{required:$e["c"]},kiosk_code:{},full_address:{required:$e["c"]},province_id:{required:$e["c"]},city_id:{required:$e["c"]},district_id:{required:$e["c"]},village_id:{required:$e["c"]},latitude:{required:$e["c"]},longitude:{required:$e["c"]},kiosk_photo_path:{required:$e["c"]}},s=Object(Te["a"])(u,Object(n["toRefs"])(d)),b=function(){for(var e in Se)d[e]=Se[e];s.value.$reset()},p=function(e){var t=Object(n["toRefs"])(d);for(var a in Se)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},v=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t){e.next=15;break}return p(t),i.value=!0,a.value=!0,e.next=6,B(!1);case 6:return e.next=8,S(t.province_id,!1);case 8:return e.next=10,T(t.city_id,!1);case 10:return e.next=12,$(t.district_id,!1);case 12:null!=R.value&&(i.value=!1),e.next=17;break;case 15:b(),a.value=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?K.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(q["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.id,a=Object(M["a"])(d,["id"]),a.distributor_id=t.distributor.id,i.value=!0,e.next=5,oe.update(d.id,a).then((function(e){K.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),r.value.clearSelection(),r.value.refreshDataGrid(),b()})).catch((function(e){K.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){i.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?K.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(q["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.id,a=Object(M["a"])(d,["id"]),console.log(a),a.distributor_id=t.distributor.id,console.log(a),i.value=!0,e.next=7,oe.add(a).then((function(e){K.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),r.value.refreshDataGrid(),b()})).catch((function(e){console.log(e),K.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){i.value=!1}));case 7:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),m=function(e,t,a){d.document_file_path=e.id},O=function(e,t,a){d.kiosk_photo_path=e.id},j=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};Object(n["provide"])("updateFormData",v);var h=Object(Ue["a"])(t,d),k=h.distributorRegions,_=h.distributorProvinces,w=h.distributorCities,V=h.onRegionChanged,D=h.onProvinceChanged;function y(e){e&&(V(e.region_code),D(e.region_code,e.province_id)),v(e)}Object(n["provide"])("distributorRegions",k);var x=Object(Le["a"])(d),C=x.provinces,N=x.cities,P=x.districts,R=x.villages,B=x.getProvinces,S=x.getCities,T=x.getDistricts,$=x.getVillages,F=x.provinceOptionsLoading,A=x.cityOptionsLoading,L=x.districtOptionsLoading,U=x.villageOptionsLoading;Object(n["onMounted"])(Object(q["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=C.value&&(i.value=!1);case 1:case"end":return e.stop()}}),e)}))));var E=Object(n["ref"])(!1),I=Object(n["ref"])(null),z=Object(n["reactive"])({notes:""}),J=function(e){E.value=!0,I.value=e},W=function(){r.value.refreshDataGrid()};return{env:l,formData:d,validate:s,dataGrid:r,updateMode:a,loading:i,save:f,add:g,resetFormData:b,onDocumentUploadSuccees:m,onPhotoUploadSuccess:O,elUpload:c,handlePreview:j,getProvinces:B,getCities:S,getDistricts:T,getVillages:$,provinces:C,cities:N,districts:P,villages:R,provinceOptionsLoading:F,cityOptionsLoading:A,districtOptionsLoading:L,villageOptionsLoading:U,distributorRegions:k,distributorProvinces:_,distributorCities:w,onRegionChanged:V,onProvinceChanged:D,onSelectionChanged:y,dialogVisible:E,dialogData:I,dialogFormData:z,openVerificationDialog:J,refreshDataGrid:W}},data:function(){return{areas:[{id:1,name:"Wilayah-1"},{id:2,name:"Wilayah-2"},{id:3,name:"Wilayah-3"}],produsen:[{id:1,name:"PT. Pupuk Iskandar Muda"},{id:2,name:"PT. Pupuk Sriwijaya Palembang"},{id:3,name:"PT. Pupuk Kujang Cikampek"},{id:4,name:"PT. Petrokimia Gresik"},{id:5,name:"PT. Pupuk Kalimantan Timur"}],badan_usaha:[{id:1,name:"PT"},{id:2,name:"CV"},{id:3,name:"UD"}]}}}));Ke.render=L;var Me=Ke,qe=Object(n["defineComponent"])({components:{DocumentForm:r["a"],DistributionNetworkPanel:Me}});qe.render=o;t["default"]=qe},"6eb3":function(e,t,a){"use strict";a("99af");var n=a("c953"),i="/distributors",o=function(e){return n["a"].get("".concat(i,"/").concat(e,"/regions"))},r=function(e){return n["a"].get("".concat(i,"/").concat(e,"/proposed-regions"))},c=function(e,t){return n["a"].get("".concat(i,"/").concat(e,"/proposed-regions/").concat(t,"/provinces"))},l=function(e,t,a){return n["a"].get("".concat(i,"/").concat(e,"/proposed-regions/").concat(t,"/provinces/").concat(a,"/cities"))};t["a"]={show:o,getProposedRegions:r,getProposedProvinces:c,getProposedCities:l}},"83b3":function(e,t,a){"use strict";var n=a("5530"),i=a("c953"),o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return i["a"].post("bundle-item-details/".concat(e,"/verify"),Object(n["a"])({},t))};t["a"]={verify:o}},b405:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("1da1"),i=(a("96cf"),a("72dd")),o=a("6eb3"),r=a("6c02");function c(e,t){var a=Object(i["p"])([]),c=Object(i["p"])([]),l=Object(i["p"])([]),d=Object(r["c"])(),u="";function s(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.province_id=null,t.city_id=null,!a){e.next=5;break}return e.next=5,o["a"].getProposedProvinces(u,a).then((function(e){c.value=e.data.data}));case 5:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(e,t){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.city_id=null,!a||!n){e.next=4;break}return e.next=4,o["a"].getProposedCities(u,a,n).then((function(e){l.value=e.data.data}));case 4:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}function f(){return g.apply(this,arguments)}function g(){return g=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getProposedRegions(u).then((function(e){a.value=e.data.data}));case 2:case"end":return e.stop()}}),e)}))),g.apply(this,arguments)}return Object(i["m"])(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u="admin"!=d.meta.role?e.distributor.id:d.params.distributor_id,t.next=3,f();case 3:case"end":return t.stop()}}),t)})))),{distributorRegions:a,distributorProvinces:c,distributorCities:l,onRegionChanged:s,onProvinceChanged:p,getProposedRegions:f}}},fb27:function(e,t,a){"use strict";a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return p}));var n=a("c953"),i="/distributor-regions",o=function(){return n["a"].get(i+"/regions")},r=function(){return n["a"].get(i+"/regions_by_vp")},c=function(){return n["a"].get(i+"/regions_by_wilayah")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(i+"/regions-province/".concat(e))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(i+"/producer-area/".concat(e))},u=function(e){return n["a"].post(i,e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(i+"/".concat(e),t)},b=function(e){return n["a"].delete(i+"/".concat(e))},p=function(e){return n["a"].post(i+"/".concat(e,"/verify"))};t["a"]={regions:o,regions_by_vp:r,regions_by_wilayah:c,regionProvinces:l,regionProducerArea:d,addDistributorRegions:u,updateDistributorRegions:s,deleteDistributorRegion:b,verifyDistributorRegion:p}}}]);