(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-eb4fa174"],{2611:function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("72dd");function o(){return{$show:Object(r["e"])("$messageBox"),$prompt:Object(r["e"])("$prompt"),$alert:Object(r["e"])("$alert"),$confirm:Object(r["e"])("$confirm")}}},"2ec9":function(e,t,n){"use strict";n.r(t);n("4de4"),n("b0c0"),n("99af");var r=n("7a23"),o={class:"px-5 pt-5"},a=Object(r["createVNode"])("p",null,"Periode Registrasi:",-1),i={class:"border-b pb-5"},c={class:"p-5"},l={class:""},u={class:"grid grid-cols-4 gap-4 mb-4"};function d(e,t,n,d,s,p){var b=Object(r["resolveComponent"])("el-option"),f=Object(r["resolveComponent"])("el-select"),m=Object(r["resolveComponent"])("form-item"),g=Object(r["resolveComponent"])("data-grid"),v=Object(r["resolveComponent"])("el-tab-pane"),O=Object(r["resolveComponent"])("el-tabs"),j=Object(r["resolveComponent"])("distributor-recommendation-dialog"),h=Object(r["resolveComponent"])("document-form"),k=Object(r["resolveDirective"])("loading");return Object(r["withDirectives"])((Object(r["openBlock"])(),Object(r["createBlock"])(h,{title:"Approval Rekomendasi Distributor"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",o,[a,Object(r["createVNode"])("div",i,[Object(r["createVNode"])(f,{class:"form-control",modelValue:e.filter.periodId,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.periodId=t}),onChange:e.periodChange},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.registrationPeriods,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{key:e.id,value:e.id,label:e.period},null,8,["value","label"])})),128))]})),_:1},8,["modelValue","onChange"])])]),Object(r["createVNode"])("div",c,[Object(r["createVNode"])(O,{style:{"margin-top":"0","box-shadow":"none",border:"none"}},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(v,{label:"Penyesuaian Rekomendasi Distributor"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",l,[Object(r["createVNode"])("div",u,[Object(r["createVNode"])(m,{label:"Filter Approval"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{class:"form-control",modelValue:e.filter.approvalStatus,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filter.approvalStatus=t}),onChange:e.updateTable,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:-1,label:"Semua Jenis Approval"}),Object(r["createVNode"])(b,{value:1,label:"Diterima"}),Object(r["createVNode"])(b,{value:0,label:"Ditolak"})]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(m,{label:"Region"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{class:"form-control",modelValue:e.filter.regionCode,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filter.regionCode=t}),onChange:e.getProvinces,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:-1,label:"Semua Region"}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.regions,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{label:e.name,value:e.code,key:e.name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(m,{label:"Propinsi"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{class:"form-control",modelValue:e.filter.provinceId,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filter.provinceId=t}),onChange:e.getCities,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:-1,label:"Semua Propinsi"}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.provinces,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{label:e.provinces.province_name,value:e.province_id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(m,{label:"Kab/Kota"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{class:"form-control",modelValue:e.filter.cityId,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.filter.cityId=t}),onChange:e.updateTable,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{value:-1,label:"Semua Kab/Kota"}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.cities,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(b,{label:"".concat(e.cities.city_type," ").concat(e.cities.city_name),value:e.city_id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1})]),e.filterFulfilled?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,ref:"allocatedDataGrid",allocated:1,registrationPeriodId:e.filter.periodId,filter:e.filter},null,8,["registrationPeriodId","filter"])):Object(r["createCommentVNode"])("",!0)])]})),_:1}),Object(r["createVNode"])(v,{label:"Upload Dokumen Pendukung"}),Object(r["createVNode"])(v,{label:"Finalisasi Distributor"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",null,[null==e.filter.isPeriodFinalized?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:0,onClick:t[6]||(t[6]=function(){return e.finalizedDistributor&&e.finalizedDistributor.apply(e,arguments)}),class:"btn bg-theme-9 px-4 py-2 text-white mr-2"},"Finalisasi")):Object(r["createCommentVNode"])("",!0),null!=e.filter.isPeriodFinalized?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:1,onClick:t[7]||(t[7]=function(){return e.sendEmail&&e.sendEmail.apply(e,arguments)}),class:"btn btn-warning px-4 py-2 text-white mr-2"},"Kirim Email Notifikasi")):Object(r["createCommentVNode"])("",!0),null!=e.filter.isPeriodFinalized?(Object(r["openBlock"])(),Object(r["createBlock"])("button",{key:2,onClick:t[8]||(t[8]=function(){return e.exportFinalisasi&&e.exportFinalisasi.apply(e,arguments)}),class:"btn btn-primary px-4 py-2"},"Export Finalisasi")):Object(r["createCommentVNode"])("",!0)])]})),_:1})]})),_:1})]),Object(r["createVNode"])(j,{dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":[t[9]||(t[9]=function(t){return e.dialogVisible=t}),t[10]||(t[10]=function(t){return e.dialogVisible=t})],"onDialog:closed":e.refreshDataGrid,dialogData:e.dialogData,filter:e.filter},null,8,["dialogVisible","onDialog:closed","dialogData","filter"])]})),_:1},512)),[[k,e.loading]])}n("0cfa");var s=n("5040"),p=n.n(s),b=n("1da1"),f=(n("96cf"),n("d3b7"),n("3ca3"),n("ddb0"),n("7db0"),n("72dd")),m=n("c45b"),g=n("2022"),v=n("56dd"),O=(n("8cbe"),n("fb27")),j=n("c953"),h=function(e,t,n,r,o,a){return j["a"].put("/distributor-recommendation-final-approvals/approval-status",{distributorIds:e},{params:{registration_period_id:t,producer_code:n,region_code:r,province_id:o,city_id:a}})},k=function(e){return j["a"].get("/finalized-distributor?registration_period_id="+e)},x=function(e){return j["a"].get("/send-email-spjb?registration_period_id="+e)},C={updateApprovalStatus:h,setFinalized:k,sendMailSpjb:x},_=n("eeae"),w=n("2611"),D={class:"grid grid-cols-1"},y=Object(r["createTextVNode"])(" Lihat Dokumen "),V={key:0},N={class:"mb-4"},B=Object(r["createVNode"])("h4",null,"Recommendation Notes:",-1),P={key:0},R=Object(r["createVNode"])("h4",null,"Approval Notes:",-1),I={key:0};function S(e,t,n,o,a,i){var c=Object(r["resolveComponent"])("DxSelection"),l=Object(r["resolveComponent"])("DxFilterRow"),u=Object(r["resolveComponent"])("DxColumn"),d=Object(r["resolveComponent"])("router-link"),s=Object(r["resolveComponent"])("CheckIcon"),p=Object(r["resolveComponent"])("XIcon"),b=Object(r["resolveComponent"])("DxMasterDetail"),f=Object(r["resolveComponent"])("DxPaging"),m=Object(r["resolveComponent"])("DxPager"),g=Object(r["resolveComponent"])("DxDataGrid");return Object(r["openBlock"])(),Object(r["createBlock"])(g,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":!0,"selection-filter":["recommendation_status.is_final_approved","=",!0],selection:{deffered:!0,mode:"multiple"},"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0,onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[2]||(t[2]=function(t){return e.onToolbarPreparing(t)})},{distributorNameCellTemplate:Object(r["withCtx"])((function(t){var n=t.data;return[Object(r["createVNode"])("div",D,[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(n.data.distributor.name),1),Object(r["createVNode"])(d,{to:e.linkToProcessDocument(n),target:"_blank",class:"text-xs underline text-blue-500 hover:text-blue-900 cursor-pointer"},{default:Object(r["withCtx"])((function(){return[y]})),_:2},1032,["to"])])]})),approvalStatusCellTemplate:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("div",null,[null===t.data.recommendation_status.is_final_approved?(Object(r["openBlock"])(),Object(r["createBlock"])("span",V,"Belum Diproses")):Object(r["createCommentVNode"])("",!0),!0===t.data.recommendation_status.is_final_approved?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:1,class:"text-theme-9"})):Object(r["createCommentVNode"])("",!0),!1===t.data.recommendation_status.is_final_approved?(Object(r["openBlock"])(),Object(r["createBlock"])(p,{key:2,class:"text-theme-6"})):Object(r["createCommentVNode"])("",!0)])]})),regionNameCellTemplate:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(t.data.region.name),1)]})),provinceNameCellTemplate:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(t.data.province.province_name),1)]})),kabupatenKotaCellTemplate:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("span",null,Object(r["toDisplayString"])(t.data.city.city_type)+" "+Object(r["toDisplayString"])(t.data.city.city_name),1)]})),productTable:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("div",null,[Object(r["createVNode"])("div",N,[B,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(t.data.recommendation_status.recommendation_notes),1)]),null!=t.data.recommendation_status.is_approved?(Object(r["openBlock"])(),Object(r["createBlock"])("div",P,[R,Object(r["createTextVNode"])(" "+Object(r["toDisplayString"])(t.data.recommendation_status.approval_notes),1)])):Object(r["createCommentVNode"])("",!0)])]})),toolbarButtonTemplate:Object(r["withCtx"])((function(){return[null==e.filter.isPeriodFinalized?(Object(r["openBlock"])(),Object(r["createBlock"])("div",I,[Object(r["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.saveChanges&&e.saveChanges.apply(e,arguments)}),class:"btn bg-theme-4 px-4 py-2 text-white mr-2"},"Update Perubahan")])):Object(r["createCommentVNode"])("",!0)]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{deferred:!0,mode:"multiple","show-check-boxes-mode":e.filter.checkBoxesMode},null,8,["show-check-boxes-mode"]),Object(r["createVNode"])(l,{visible:!0}),Object(r["createVNode"])(u,{"data-field":"distributor.sap_id","data-type":"string",caption:"Customer ID"}),Object(r["createVNode"])(u,{width:300,"data-field":"distributor.name","data-type":"string",caption:"Distributor","cell-template":"distributorNameCellTemplate"}),Object(r["createVNode"])(u,{allowFiltering:!1,"data-field":"recommendation_status.is_final_approved","data-type":"boolean",caption:"Approved","cell-template":"approvalStatusCellTemplate"}),Object(r["createVNode"])(u,{"data-field":"region.name","data-type":"string",caption:"Region","cell-template":"regionNameCellTemplate"}),Object(r["createVNode"])(u,{"data-field":"province.name","data-type":"string",caption:"Propinsi","cell-template":"provinceNameCellTemplate"}),Object(r["createVNode"])(u,{"data-field":"city.city_name","data-type":"string",caption:"Kabupaten\\Kota","cell-template":"kabupatenKotaCellTemplate"}),Object(r["createVNode"])(b,{class:"bg-white",enabled:!0,template:"productTable",autoExpandAll:!1}),Object(r["createVNode"])(f,{"page-size":20}),Object(r["createVNode"])(m,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","selection-filter","onSelectionChanged"])}n("fb6a"),n("caad");var F=n("d30a"),T=n("2597"),A=n.n(T),z=n("4360"),G=Object(r["defineComponent"])({components:{DxDataGrid:F["DxDataGrid"],DxColumn:F["DxColumn"],DxPaging:F["DxPaging"],DxPager:F["DxPager"],DxSorting:F["DxSorting"],DxHeaderFilter:F["DxHeaderFilter"],DxFilterRow:F["DxFilterRow"],DxMasterDetail:F["DxMasterDetail"],DxSelection:F["DxSelection"]},props:["registrationPeriodId","allocated","filter"],setup:function(e,t){var n=this,o=t.emit,a=Object(z["b"])(),i=Object(r["ref"])(null);Object(r["onMounted"])((function(){}));function c(e){return void 0!==e&&null!==e&&""!==e}var l=Object(r["inject"])("env"),u=new A.a({key:"distributor_region_id",load:function(t){var n="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(e){e in t&&c(t[e])&&(n+="".concat(e,"=").concat(JSON.stringify(t[e]),"&"))})),n=n.slice(0,-1),console.log(n),n+=""==n?"?":"&",n+="registration_period=".concat(e.registrationPeriodId),n+="&region_code=".concat(e.filter.regionCode),n+="&approval_status=".concat(e.filter.approvalStatus),n+="&producer_code=".concat(e.filter.producerCode),n+="&province_id=".concat(e.filter.provinceId),n+="&city_id=".concat(e.filter.cityId),n+="&allocated=".concat(e.allocated),j["a"].get("".concat(l["VUE_APP_API_ENDPOINT"],"/distributor-recommendation-approvals").concat(n)).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),d=function(e){e.selectedRowsData},s=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,companyManagementAPI.activate(t).then((function(e){p.a.success({title:"Success",position:"bottom-right"}),m()})).catch((function(e){p.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,companyManagementAPI.deactivate(t).then((function(e){p.a.success({title:"Success",position:"bottom-right"}),m()})).catch((function(e){p.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){i.value.instance.refresh()},g=function(){i.value.instance.clearSelection()},v=function(e){e.toolbarOptions.items.unshift({location:"before",template:"toolbarButtonTemplate"},{location:"after",widget:"dxButton",options:{icon:"refresh",onClick:m.bind(n)}})},O=a.state.auth.user,h=function(t){return["svp_region","svp_pso_planning_management","sevp_marketing_ops","marketing_director"].includes(O.role.name)?{name:"admin-document-verification.distributor-profile.document-verification",params:{distributor_id:t.data.distributor.id},query:{registration_period:e.registrationPeriodId}}:{name:"admin-document-verification.bundle",params:{distributor_id:t.data.distributor.id},query:{registration_period:e.registrationPeriodId}}},k=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];console.log(e),e.recommended=t,console.log(e),o("openAllocationFormDialog",e)},x=function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(){var n,r,o,a,c,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=e.filter,r=n.periodId,o=n.producerCode,a=n.regionCode,c=n.provinceId,l=n.cityId,t.next=3,i.value.instance.getSelectedRowKeys().then(function(){var t=Object(b["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.filter),t.next=3,C.updateApprovalStatus(n,r,o,a,c,l).then((function(e){p.a.success({title:"Update Success",position:"bottom-right"})}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}());case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{customStore:u,onSelectionChanged:d,activate:s,deactivate:f,onToolbarPreparing:v,refreshDataGrid:m,clearSelection:g,root:i,linkToProcessDocument:h,openAllocationFormDialog:k,saveChanges:x}}});G.render=S;var M=G,K=Object(f["b"])((function(){return n.e("chunk-a5ae85d6").then(n.bind(null,"ba39"))})),E=Object(f["c"])({components:{DocumentForm:m["a"],DataGrid:M,FormItem:g["a"],DistributorRecommendationDialog:K},setup:function(){var e=Object(f["p"])(!1),t=Object(f["o"])({id:null,period:null}),n=Object(f["p"])([]),r=Object(f["p"])([]),o=Object(f["p"])([]),a=Object(f["p"])([]),i=Object(f["p"])([]),c=Object(f["p"])(!1),l=Object(f["p"])(null),u=Object(f["o"])({notes:""}),d=Object(w["a"])(),s=Object(f["p"])("allocatedDataGrid"),m=Object(f["p"])(null),g=Object(f["p"])(null),j=Object(f["o"])({periodId:null,producerCode:null,approvalStatus:-1,regionCode:-1,provinceId:-1,cityId:-1,isPeriodFinalized:null,checkBoxesMode:"always"});Object(f["m"])(Object(b["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.value=!0,t.next=3,v["a"].getAll().then((function(e){if(n.value=e.data.data,n.value.length){var t=n.value.find((function(e){return e.active}));t&&(j.periodId=t.id,j.isPeriodFinalized=t.is_period_finalized,1==t.is_period_finalized?j.checkBoxesMode="none":j.checkBoxesMode="always")}}));case 3:return t.next=5,h();case 5:j.regionCode=-1,e.value=!1;case 7:case"end":return t.stop()}}),t)}))));var h=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,O["a"].regions(j.producerCode).then(function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:o.value=t.data,j.regionCode=t.data[0].code;case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==j.regionCode){e.next=6;break}return j.provinceId=-1,j.cityId=-1,e.next=5,O["a"].regionProvinces(j.regionCode).then((function(e){a.value=e.data}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==j.provinceId){e.next=4;break}return e.next=3,O["a"].regionProducerArea(j.provinceId).then((function(e){i.value=e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return s.value.refreshDataGrid(),e.abrupt("return",j);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(e){c.value=!0,l.value=e},V=function(){var e=Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(b["a"])(regeneratorRuntime.mark((function e(){var t,n,r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=l.value,n=t.producer_code,r=t.province_id,o=t.city_id,e.next=3,_["a"].setAllocation({registration_period_id:j.periodId,producer_code:n,province_id:r,city_id:o,total_distributor:u.notes}).then((function(e){g.value.refreshDataGrid(),s.value.refreshDataGrid(),p.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),console.log(e)})).catch((function(e){console.log(e),p.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})}));case 3:u.notes="",l.value=null,c.value=!1;case 6:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){g.value.refreshDataGrid(),s.value.refreshDataGrid(),m.value.refreshDataGrid()},B=function(){d.$confirm("Data distributor tidak dapat diubah setelah finalisasi! Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.setFinalized(j.periodId).then((function(e){console.log(e),location.reload()}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}))},P=function(){var e=n.value.find((function(e){return e.id==j.periodId}));j.isPeriodFinalized=e.is_period_finalized,1==e.is_period_finalized?j.checkBoxesMode="none":j.checkBoxesMode="always",s.value.refreshDataGrid()},R=function(){d.$confirm("Aksi ini akan mengirimkan email penerimaan dan penolakan kepada seluruh distributor! Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(b["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,C.sendMailSpjb(j.periodId).then((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})))).catch((function(e){console.log(e)}))},I=Object(f["e"])("env"),S=function(){var e="?registration_period=".concat(j.periodId);window.open("".concat(I["VUE_APP_API_ENDPOINT"],"/distributor-recommendation-final-approvals/download-report").concat(e),"_blank")};return{registrationPeriod:t,registrationPeriods:n,loading:e,producers:r,regions:o,provinces:a,cities:i,filter:j,getRegions:h,getProvinces:k,getCities:x,dialogVisible:c,openAllocationFormDialog:y,updateTable:D,dialogData:l,dialogFormData:u,submitAllocationForm:V,allocatedDataGrid:s,unallocatedDataGrid:g,rejectedDataGrid:m,refreshDataGrid:N,filterFulfilled:Object(f["a"])((function(){return null!=j.periodId&&null!=j.regionCode&&null!=j.provinceId&&null!=j.cityId})),finalizedDistributor:B,periodChange:P,sendEmail:R,exportFinalisasi:S}}});E.render=d;t["default"]=E},"56dd":function(e,t,n){"use strict";var r=n("5530"),o=n("c953"),a=function(e){return o["a"].post("/registration-periods",Object(r["a"])({},e))},i=function(){return o["a"].get("/registration-periods/get-active")},c=function(){return o["a"].get("/registration-periods")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].put("registration-periods/".concat(e,"/activate"))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].put("registration-periods/".concat(e,"/deactivate"))};t["a"]={create:a,getActive:i,getAll:c,activate:l,deactivate:u}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),o=n("b727").find,a=n("44d2"),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),a(i)},"8cbe":function(e,t,n){"use strict";var r=n("c953"),o=function(){return r["a"].get("/regions")},a=function(){return r["a"].get("/producer")};t["a"]={getRegions:o,getProducers:a}},eeae:function(e,t,n){"use strict";var r=n("c953"),o=function(e){return r["a"].post("/distributor-allocations",e)},a=function(e){return r["a"].get("/get-allocation/distributor".concat(e))},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return r["a"].post("/distributor-allocations/".concat(t,"/is-allocation-full"),e)};t["a"]={setAllocation:o,getAllocation:a,isAllocationFull:i}},fb27:function(e,t,n){"use strict";n.d(t,"b",(function(){return p})),n.d(t,"c",(function(){return b}));var r=n("c953"),o="/distributor-regions",a=function(){return r["a"].get(o+"/regions")},i=function(){return r["a"].get(o+"/regions_by_vp")},c=function(){return r["a"].get(o+"/regions_by_wilayah")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].get(o+"/regions-province/".concat(e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].get(o+"/producer-area/".concat(e))},d=function(e){return r["a"].post(o,e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(o+"/".concat(e),t)},p=function(e){return r["a"].delete(o+"/".concat(e))},b=function(e){return r["a"].post(o+"/".concat(e,"/verify"))};t["a"]={regions:a,regions_by_vp:i,regions_by_wilayah:c,regionProvinces:l,regionProducerArea:u,addDistributorRegions:d,updateDistributorRegions:s,deleteDistributorRegion:p,verifyDistributorRegion:b}}}]);