(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-86c877d4"],{"15fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));a("a4d3"),a("b64b");function n(e,t){if(null==e)return{};var a,n,o={},r=Object.keys(e);for(n=0;n<r.length;n++)a=r[n],t.indexOf(a)>=0||(o[a]=e[a]);return o}function o(e,t){if(null==e)return{};var a,o,r=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)a=i[o],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a("72dd");function o(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"41c4":function(e,t,a){"use strict";a.r(t);a("b0c0");var n=a("7a23"),o={class:"intro-y col-span-12 lg:col-span-12"},r={class:"p-5"},i={class:"grid grid-cols-2 gap-5 mb-5"},c={class:"grid grid-cols-1 mb-5"},l={class:"grid grid-cols-2 gap-5"},u=Object(n["createTextVNode"])("Click to upload"),d={class:"grid grid-cols-1 gap-5 mt-5"},s={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},b={class:"intro-y input-form"},p=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status ",-1),f={class:"intro-y input-form"},m=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status Verifikasi ",-1),v={class:"flex w-full px-5"},g={key:1,class:"ml-auto"},O={key:1};function j(e,t,a,j,h,k){var w=Object(n["resolveComponent"])("el-option"),V=Object(n["resolveComponent"])("el-select"),x=Object(n["resolveComponent"])("form-item"),D=Object(n["resolveComponent"])("el-button"),_=Object(n["resolveComponent"])("el-upload"),C=Object(n["resolveComponent"])("DataGrid"),N=Object(n["resolveComponent"])("document-form"),y=Object(n["resolveComponent"])("verification-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])("div",o,[Object(n["createVNode"])(N,{title:"Tenaga Pemasaran Perusahaan",isRegional:!0,itemType:13},{default:Object(n["withCtx"])((function(a){var o=a.allowManage;return[Object(n["createVNode"])("div",r,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(x,{label:"Region","rules-text":"Required",validationData:e.validate.region_code},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{clearable:"",modelValue:e.formData.region_code,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.region_code=t}),class:["form-control",{"border-theme-6":e.validate.region_code.$error}],filterable:"",onChange:t[2]||(t[2]=function(t){return e.onRegionChanged(t)})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorRegions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(w,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(x,{label:"Propinsi","rules-text":"Required",validationData:e.validate.province_id},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(V,{clearable:"",modelValue:e.formData.province_id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.province_id=t}),class:["form-control",{"border-theme-6":e.validate.province_id.$error}],filterable:"",onChange:t[4]||(t[4]=function(t){return e.onProvinceChanged(e.formData.region_code,t)})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorProvinces,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(w,{key:e.province_id,label:e.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",c,[Object(n["createVNode"])(x,{label:"Nama Tenaga Pemasaran","rules-text":"Required",validationData:e.validate.name},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nama Tenaga Pemasaran",class:["form-control",{"border-theme-6":e.validate.name.$error}],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.validate.name.$model=t})},null,2),[[n["vModelText"],e.validate.name.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",l,[Object(n["createVNode"])(x,{label:"Nomor KTP","rules-text":"Required",validationData:e.validate.province_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nomor KTP",class:["form-control",{"border-theme-6":e.validate.ktp_number.$error}],pattern:"\\d*",maxlength:"16","onUpdate:modelValue":t[6]||(t[6]=function(t){return e.validate.ktp_number.$model=t})},null,2),[[n["vModelText"],e.validate.ktp_number.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(x,{label:"File KTP","rules-text":"Required",validationData:e.validate.ktp_file_path,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(_,{ref:"elUpload",class:"upload-demo",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.ktp_file_path?[{name:"file-ktp",url:e.formData.ktp_file_path}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(D,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[u]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(x,{label:"Jabatan di perusahaan","rules-text":"Required",validationData:e.validate.position,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Jabatan di perusahaan",class:["form-control",{"border-theme-6":e.validate.position.$error}],"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.validate.position.$model=t})},null,2),[[n["vModelText"],e.validate.position.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(x,{label:"Nomor HP","rules-text":"Required",validationData:e.validate.phone_number,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nomor HP",class:["form-control",{"border-theme-6":e.validate.phone_number.$error}],"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.validate.phone_number.$model=t})},null,2),[[n["vModelText"],e.validate.phone_number.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(x,{label:"Email","rules-text":"Required",validationData:e.validate.email,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Email",class:["form-control",{"border-theme-6":e.validate.email.$error}],"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.validate.email.$model=t})},null,2),[[n["vModelText"],e.validate.email.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",b,[p,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",f,[m,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])])]),Object(n["createVNode"])("div",v,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[10]||(t[10]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),o?(Object(n["openBlock"])(),Object(n["createBlock"])("div",g,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[11]||(t[11]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",O,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[12]||(t[12]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[13]||(t[13]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ")]))])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])(C,{ref:"dataGrid",class:"m-5",allowManage:o,onSelectionChanged:e.onSelectionChanged,onOpenVerificationDialog:e.openVerificationDialog},null,8,["allowManage","onSelectionChanged","onOpenVerificationDialog"])]})),_:1}),Object(n["createVNode"])(y,{dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":[t[14]||(t[14]=function(t){return e.dialogVisible=t}),t[15]||(t[15]=function(t){return e.dialogVisible=t})],"onDialog:closed":e.refreshDataGrid,dialogData:e.dialogData},null,8,["dialogVisible","onDialog:closed","dialogData"])])}a("0cfa");var h=a("5040"),k=a.n(h),w=a("15fd"),V=a("1da1"),x=a("5530"),D=(a("d3b7"),a("96cf"),a("c45b")),_={key:0},C={key:1},N={key:0};function y(e,t,a,o,r,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)}),"column-auto-width":!0},{statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",_," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",C," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),vaCellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[null==a.data.bundle_item_detail_verification.is_verified?(Object(n["openBlock"])(),Object(n["createBlock"])("div",N,[Object(n["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!0)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Approved ",8,["onClick"]),Object(n["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!1)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Reject ",8,["onClick"])])):Object(n["createCommentVNode"])("",!0)]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"name","data-type":"string",caption:"Nama"}),Object(n["createVNode"])(c,{"data-field":"ktp_number","data-type":"string",caption:"Nomor KTP"}),Object(n["createVNode"])(c,{"data-field":"position","data-type":"string",caption:"Posisi"}),Object(n["createVNode"])(c,{"data-field":"region.name","data-type":"string",caption:"Region","header-filter":{dataSource:e.availableRegions}},null,8,["header-filter"]),Object(n["createVNode"])(c,{"data-field":"province.province_name","data-type":"string",caption:"Propinsi"}),Object(n["createVNode"])(c,{"data-field":"bundle_item_detail_verification.is_verified","data-type":"boolean",caption:"Status Verifikasi"}),Object(n["createVNode"])(c,{"data-field":"bundle_item_detail_verification.verification_notes","data-type":"string",caption:"Catatan Verifikasi"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),"admin"==e.route.meta.role?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:1,"data-field":"bundle_item_detail_verification",caption:"Verifikasi","cell-template":"vaCellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}a("99af"),a("fb6a");var P=a("d30a"),R=a("2597"),B=a.n(R),S=a("c953"),T="/sales-person",$=function(){return S["a"].get(T)},F=function(e){return S["a"].post(T,e)},A=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return S["a"].put(T+"/".concat(e),t)},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return S["a"].put(T+"/".concat(e,"/activate"),t)},M=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return S["a"].put(T+"/".concat(e,"/deactivate"),t)},G={get:$,add:F,update:A,activate:q,deactivate:M},E=a("6c02"),U=Object(n["defineComponent"])({components:{DxDataGrid:P["DxDataGrid"],DxColumn:P["DxColumn"],DxPaging:P["DxPaging"],DxPager:P["DxPager"],DxSorting:P["DxSorting"],DxHeaderFilter:P["DxHeaderFilter"],DxFilterRow:P["DxFilterRow"]},emits:["selectionChanged","openVerificationDialog"],props:["allowManage"],setup:function(e,t){var a=this,o=t.emit,r=Object(n["ref"])(null),i=Object(E["c"])();function c(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){console.log(r.value)}));var l=Object(n["inject"])("env");console.log(l);var u=new B.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&c(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(l["VUE_APP_API_ENDPOINT"],"/sales-person").concat(t);return"admin"==i.meta.role&&(a="".concat(l["VUE_APP_API_ENDPOINT"],"/distributor/").concat(i.params.distributor_id,"/item-details-data/item-type/13")),S["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}});Object(n["inject"])("updateFormData");console.log(r);var d=function(e){var t=e.selectedRowsData;o("selectionChanged",t[0])},s=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.activate(t).then((function(e){k.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){k.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G.deactivate(t).then((function(e){k.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){k.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.value.instance.refresh()},f=function(){r.value.instance.clearSelection()},m=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:p.bind(a)}})},v=function(e,t){e.recommended=t,o("openVerificationDialog",e)};return{route:i,store:u,onSelectionChanged:d,activate:s,deactivate:b,onToolbarPreparing:m,refreshDataGrid:p,clearSelection:f,root:r,openVerificationDialog:v}}});U.render=y;var I=U,K={key:0},L={class:"grid grid-cols-3 gap-4 mb-2"},J=Object(n["createVNode"])("label",{for:"produsen"},"Status",-1),H={key:0,class:"text-base text-theme-9"},z={key:1,class:"text-base text-theme-6"},X={class:"grid grid-cols-3 gap-4 mb-4"},W=Object(n["createVNode"])("label",{for:"produsen"},"Region",-1),Q={class:"text-base"},Y=Object(n["createVNode"])("label",{for:"propinsi"},"Propinsi",-1),Z={class:"text-base"},ee=Object(n["createVNode"])("div",{class:"border border-b-0 mb-4"},null,-1),te={class:"grid grid-cols-1 gap-4"},ae=Object(n["createVNode"])("label",{for:"produsen"},"Notes",-1),ne={class:"dialog-footer"},oe=Object(n["createTextVNode"])("Cancel"),re=Object(n["createTextVNode"])("Confirm");function ie(e,t,a,o,r,i){var c=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{"append-to-body":"",title:"Verifikasi Butir Dokumen",modelValue:e.dialogVisible,width:"50%",onClose:e.closeDialog},{footer:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("span",ne,[Object(n["createVNode"])(c,{onClick:e.closeDialog},{default:Object(n["withCtx"])((function(){return[oe]})),_:1},8,["onClick"]),Object(n["createVNode"])(c,{type:"primary",onClick:e.submitAllocationForm},{default:Object(n["withCtx"])((function(){return[re]})),_:1},8,["onClick"])])]})),default:Object(n["withCtx"])((function(){return[null!=e.dialogData?(Object(n["openBlock"])(),Object(n["createBlock"])("div",K,[Object(n["createVNode"])("div",L,[Object(n["createVNode"])("div",null,[J,e.dialogData.recommended?(Object(n["openBlock"])(),Object(n["createBlock"])("p",H,"APPROVED")):(Object(n["openBlock"])(),Object(n["createBlock"])("p",z,"REJECTED"))])]),Object(n["createVNode"])("div",X,[Object(n["createVNode"])("div",null,[W,Object(n["createVNode"])("p",Q,Object(n["toDisplayString"])(e.dialogData.region.name),1)]),Object(n["createVNode"])("div",null,[Y,Object(n["createVNode"])("p",Z,Object(n["toDisplayString"])(e.dialogData.province.province_name),1)])]),ee,Object(n["createVNode"])("div",te,[Object(n["createVNode"])("div",null,[ae,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogFormData.notes=t}),class:"form-control mt-2"},null,512),[[n["vModelText"],e.dialogFormData.notes]])])])])):Object(n["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","onClose"])}var ce=a("72dd"),le=a("2611"),ue=a("83b3"),de=Object(ce["c"])({props:{value:String,dialogVisible:{type:Boolean},dialogData:{required:!0}},emits:["update:dialogVisible","dialog:closed"],setup:function(e,t){var a=t.emit,n=Object(ce["o"])({notes:""}),o=Object(le["a"])(),r=function(){var t=Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(V["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.dialogData,n),t.next=3,ue["a"].verify(e.dialogData.bundle_item_detail_id,{recommended:e.dialogData.recommended,notes:n.notes}).then((function(e){console.log(e)}));case 3:i(),a("dialog:closed");case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){n.notes="",a("update:dialogVisible",!1)};return{dialogFormData:n,submitAllocationForm:r,closeDialog:i}}});de.render=ie;var se=de,be={id:null,distributor_id:null,name:null,ktp_number:null,ktp_file_path:null,position:null,phone_number:null,email:null,is_active:!0,verification_status:null,region_code:null,province_id:null},pe=a("25a0"),fe=a("e3e1"),me=a("2022"),ve=a("5502"),ge=a("b405"),Oe=(a("af50"),Object(n["defineComponent"])({components:{DocumentForm:D["a"],DataGrid:I,FormItem:me["a"],VerificationDialog:se},setup:function(){Object(E["c"])();var e=Object(ve["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),o=Object(n["ref"])(!1),r=Object(le["a"])(),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(x["a"])({},be)),d={name:{required:fe["c"]},ktp_number:{required:fe["c"]},ktp_file_path:{required:fe["c"]},position:{},phone_number:{required:fe["c"]},email:{required:fe["c"]},region_code:{required:fe["c"]},province_id:{required:fe["c"]}},s=Object(pe["a"])(d,Object(n["toRefs"])(u)),b=function(){for(var e in be)u[e]=be[e];s.value.$reset()},p=function(e){var t=Object(n["toRefs"])(u);for(var a in be)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},f=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(p(t),a.value=!0):(b(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?k.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):r.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(V["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(w["a"])(u,["id"]),a.distributor_id=t.distributor.id,o.value=!0,e.next=5,G.update(u.id,a).then((function(e){k.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),i.value.clearSelection(),i.value.refreshDataGrid(),b()})).catch((function(e){k.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(V["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?(console.log(u),k.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})):r.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(V["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object(w["a"])(u,["id"]),console.log(a),a.distributor_id=t.distributor.id,console.log(a),o.value=!0,e.next=7,G.add(a).then((function(e){k.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),b()})).catch((function(e){console.log(e),k.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 7:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(e,t,a){u.ktp_file_path=e.id},O=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};Object(n["provide"])("updateFormData",f);var j=Object(ge["a"])(t,u),h=j.distributorRegions,D=j.distributorProvinces,_=j.onRegionChanged;function C(e){e&&_(e.region_code),f(e)}Object(n["provide"])("distributorRegions",h);var N=Object(n["ref"])(!1),y=Object(n["ref"])(null),P=Object(n["reactive"])({notes:""}),R=function(e){N.value=!0,y.value=e},B=function(){i.value.refreshDataGrid()};return{env:l,formData:u,validate:s,dataGrid:i,updateMode:a,loading:o,save:m,add:v,resetFormData:b,onUploadSuccees:g,elUpload:c,handlePreview:O,distributorRegions:h,distributorProvinces:D,onRegionChanged:_,onSelectionChanged:C,dialogVisible:N,dialogData:y,dialogFormData:P,openVerificationDialog:R,refreshDataGrid:B}}}));Oe.render=j;t["default"]=Oe},"6eb3":function(e,t,a){"use strict";a("99af");var n=a("c953"),o="/distributors",r=function(e){return n["a"].get("".concat(o,"/").concat(e,"/regions"))},i=function(e){return n["a"].get("".concat(o,"/").concat(e,"/proposed-regions"))},c=function(e,t){return n["a"].get("".concat(o,"/").concat(e,"/proposed-regions/").concat(t,"/provinces"))},l=function(e,t,a){return n["a"].get("".concat(o,"/").concat(e,"/proposed-regions/").concat(t,"/provinces/").concat(a,"/cities"))};t["a"]={show:r,getProposedRegions:i,getProposedProvinces:c,getProposedCities:l}},"83b3":function(e,t,a){"use strict";var n=a("5530"),o=a("c953"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o["a"].post("bundle-item-details/".concat(e,"/verify"),Object(n["a"])({},t))};t["a"]={verify:r}},b405:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("1da1"),o=(a("96cf"),a("72dd")),r=a("6eb3"),i=a("6c02");function c(e,t){var a=Object(o["p"])([]),c=Object(o["p"])([]),l=Object(o["p"])([]),u=Object(i["c"])(),d="";function s(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.province_id=null,t.city_id=null,!a){e.next=5;break}return e.next=5,r["a"].getProposedProvinces(d,a).then((function(e){c.value=e.data.data}));case 5:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(a,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.city_id=null,!a||!n){e.next=4;break}return e.next=4,r["a"].getProposedCities(d,a,n).then((function(e){l.value=e.data.data}));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return v=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getProposedRegions(d).then((function(e){a.value=e.data.data}));case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(o["m"])(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d="admin"!=u.meta.role?e.distributor.id:u.params.distributor_id,t.next=3,m();case 3:case"end":return t.stop()}}),t)})))),{distributorRegions:a,distributorProvinces:c,distributorCities:l,onRegionChanged:s,onProvinceChanged:p,getProposedRegions:m}}}}]);