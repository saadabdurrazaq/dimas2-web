(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-155a4e15"],{"0fa0":function(e,t,n){"use strict";n.r(t);n("4de4"),n("b0c0"),n("99af");var r=n("7a23"),a={class:"p-5"},o=Object(r["createVNode"])("p",null,"Periode Registrasi:",-1),i={class:"mb-4"},c={class:"grid grid-cols-3 gap-4 mb-4"};function l(e,t,n,l,u,d){var s=Object(r["resolveComponent"])("el-option"),b=Object(r["resolveComponent"])("el-select"),p=Object(r["resolveComponent"])("form-item"),g=Object(r["resolveComponent"])("data-grid"),f=Object(r["resolveComponent"])("el-tab-pane"),v=Object(r["resolveComponent"])("el-tabs"),m=Object(r["resolveComponent"])("document-form");return Object(r["openBlock"])(),Object(r["createBlock"])(m,{title:"List Approval Distributor"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",a,[o,Object(r["createVNode"])("div",i,[Object(r["createVNode"])(b,{class:"form-control",modelValue:e.filter.periodId,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.periodId=t})},{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.registrationPeriods,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:e.id,value:e.id,label:e.period},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"])]),Object(r["createVNode"])("div",c,[Object(r["createVNode"])(p,{label:"Region"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{class:"form-control",modelValue:e.filter.regionCode,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filter.regionCode=t}),onChange:e.getProvinces,filterable:""},{default:Object(r["withCtx"])((function(){return["vp_sales_region"!=e.user.role.name?(Object(r["openBlock"])(),Object(r["createBlock"])(s,{key:0,value:-1,label:"Semua Region"})):Object(r["createCommentVNode"])("",!0),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.regions,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{label:e.name,value:e.code,key:e.name},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(p,{label:"Propinsi"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{class:"form-control",modelValue:e.filter.provinceId,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.filter.provinceId=t}),onChange:e.getCities,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{value:-1,label:"Semua Propinsi"}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.provinces,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{label:e.provinces.province_name,value:e.province_id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1}),Object(r["createVNode"])(p,{label:"Kab/Kota"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(b,{class:"form-control",modelValue:e.filter.cityId,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.filter.cityId=t}),onChange:e.updateTable,filterable:""},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(s,{value:-1,label:"Semua Kab/Kota"}),(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.cities,(function(e){return Object(r["openBlock"])(),Object(r["createBlock"])(s,{label:"".concat(e.cities.city_type," ").concat(e.cities.city_name),value:e.city_id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","onChange"])]})),_:1})]),Object(r["createVNode"])(v,{type:"border-card"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(f,{label:"List Approval"},{default:Object(r["withCtx"])((function(){return[null!=e.filter.periodId&&null!=e.filter.regionCode?(Object(r["openBlock"])(),Object(r["createBlock"])(g,{key:0,registrationPeriod:e.filter.periodId,filter:e.filter},null,8,["registrationPeriod","filter"])):Object(r["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})}var u=n("1da1"),d=(n("96cf"),n("7db0"),n("72dd")),s=n("c45b"),b=Object(r["createTextVNode"])(" Lihat Dokumen "),p=Object(r["createVNode"])("h4",{class:"font-semibold mb-4"},"Status Approval",-1),g=Object(r["createVNode"])("h4",{class:"font-semibold mb-4 mt-4"},"Kabupaten / Kota",-1);function f(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("DxFilterRow"),l=Object(r["resolveComponent"])("DxColumn"),u=Object(r["resolveComponent"])("router-link"),d=Object(r["resolveComponent"])("DxMasterDetail"),s=Object(r["resolveComponent"])("data-grid-status"),f=Object(r["resolveComponent"])("data-grid-kabupaten"),v=Object(r["resolveComponent"])("DxPaging"),m=Object(r["resolveComponent"])("DxPager"),O=Object(r["resolveComponent"])("DxDataGrid");return Object(r["openBlock"])(),Object(r["createBlock"])(O,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!0},selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{cellTemplate:Object(r["withCtx"])((function(t){var n=t.data;return[Object(r["createVNode"])(u,{tag:"button",class:"btn btn-sm rounded-lg px-4",to:e.linkToProcessDocument(n)},{default:Object(r["withCtx"])((function(){return[b]})),_:2},1032,["to"])]})),kabupatenTable:Object(r["withCtx"])((function(e){var t=e.data;return[Object(r["createVNode"])("div",null,[p,Object(r["createVNode"])(s,{dataStatus:t.data.bundles},null,8,["dataStatus"]),g,Object(r["createVNode"])(f,{dataKabupaten:t.data.distributor_regions},null,8,["dataKabupaten"])])]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{visible:!0}),Object(r["createVNode"])(l,{"data-field":"registration_number.formatted_number","data-type":"string",caption:"No Pendaftaran"}),Object(r["createVNode"])(l,{"data-field":"distributor.name","data-type":"string",caption:"Nama Distributor"}),Object(r["createVNode"])(l,{"data-field":"registration_number.created_at","data-type":"string",caption:"Tanggal Pendaftaran"}),Object(r["createVNode"])(l,{"data-field":"id",caption:"Action","cell-template":"cellTemplate"}),Object(r["createVNode"])(d,{class:"bg-white",enabled:!0,template:"kabupatenTable",autoExpandAll:!1}),Object(r["createVNode"])(v,{"page-size":10}),Object(r["createVNode"])(m,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source","onSelectionChanged"])}n("fb6a"),n("caad");var v=n("d30a"),m=n("2597"),O=n.n(m),j=n("c953"),h=(n("2388"),n("4360"));function D(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("DxFilterRow"),l=Object(r["resolveComponent"])("DxColumn"),u=Object(r["resolveComponent"])("DxPaging"),d=Object(r["resolveComponent"])("DxPager"),s=Object(r["resolveComponent"])("DxDataGrid");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{ref:"root","data-source":e.dataKabupaten,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!0},selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{visible:!0}),Object(r["createVNode"])(l,{"data-field":"region.name","data-type":"string",caption:"Region"}),Object(r["createVNode"])(l,{"data-field":"province.province_name","data-type":"string",caption:"Provinsi"}),Object(r["createVNode"])(l,{"data-field":"city.city_name","data-type":"string",caption:"Kabupaten"}),Object(r["createVNode"])(u,{"page-size":5}),Object(r["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source","onSelectionChanged"])}var x=Object(r["defineComponent"])({components:{DxDataGrid:v["DxDataGrid"],DxColumn:v["DxColumn"],DxPaging:v["DxPaging"],DxPager:v["DxPager"],DxSorting:v["DxSorting"],DxHeaderFilter:v["DxHeaderFilter"],DxFilterRow:v["DxFilterRow"],DxMasterDetail:v["DxMasterDetail"],DataGridKabupaten:C},props:["dataKabupaten"],setup:function(e,t){var n=this,a=(t.emit,Object(h["b"])()),o=Object(r["ref"])(null);Object(r["inject"])("env");var i=function(e){e.selectedRowsData},c=function(){o.value.instance.refresh()},l=function(){o.value.instance.clearSelection()},u=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:c.bind(n)}})};a.state.auth.user;return{onSelectionChanged:i,onToolbarPreparing:u,refreshDataGrid:c,clearSelection:l}}});x.render=D;var C=x,k=Object(r["createTextVNode"])(" --\x3e "),_={key:0},w=Object(r["createVNode"])("span",null,"Proses Rekomendasi SVP PSO Planning",-1),V={key:1},y=Object(r["createVNode"])("span",null,"Ditolak oleh SVP Wilayah",-1),P={key:2},N=Object(r["createVNode"])("span",null,"Diproses SVP Wilayah",-1),S={key:3},B=Object(r["createVNode"])("span",null,"Ditolak oleh VP Region",-1),R={key:4},I=Object(r["createVNode"])("span",null,"Diproses VP Region",-1);function A(e,t,n,a,o,i){var c=Object(r["resolveComponent"])("DxFilterRow"),l=Object(r["resolveComponent"])("DxColumn"),u=Object(r["resolveComponent"])("DxPaging"),d=Object(r["resolveComponent"])("DxPager"),s=Object(r["resolveComponent"])("DxDataGrid");return Object(r["openBlock"])(),Object(r["createBlock"])(s,{ref:"root","data-source":e.dataStatus,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!0},selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged},{cellTemplate:Object(r["withCtx"])((function(e){var t=e.data;return[3==t.data.level&&"VALIDASI_WILAYAH_SUKSES"==t.data.verification_status?(Object(r["openBlock"])(),Object(r["createBlock"])("div",_,[w])):"VALIDASI_WILAYAH_GAGAL"==t.data.verification_status?(Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[y])):2==t.data.level&&"VERIFIKASI_SUKSES"==t.data.verification_status?(Object(r["openBlock"])(),Object(r["createBlock"])("div",P,[N])):"VERIFIKASI_GAGAL"==t.data.verification_status?(Object(r["openBlock"])(),Object(r["createBlock"])("div",S,[B])):1==t.data.level&&"DIAJUKAN"==t.data.verification_status?(Object(r["openBlock"])(),Object(r["createBlock"])("div",R,[I])):Object(r["createCommentVNode"])("",!0)]})),default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(c,{visible:!0}),Object(r["createVNode"])(l,{"data-field":"region.name","data-type":"string",caption:"Region"}),Object(r["createVNode"])(l,{"data-field":"verification_status","data-type":"string",caption:"Status","cell-template":"cellTemplate"}),k,Object(r["createVNode"])(u,{"page-size":5}),Object(r["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source","onSelectionChanged"])}var F=Object(r["defineComponent"])({components:{DxDataGrid:v["DxDataGrid"],DxColumn:v["DxColumn"],DxPaging:v["DxPaging"],DxPager:v["DxPager"],DxSorting:v["DxSorting"],DxHeaderFilter:v["DxHeaderFilter"],DxFilterRow:v["DxFilterRow"],DxMasterDetail:v["DxMasterDetail"],DataGridKabupaten:C},props:["dataStatus"],setup:function(e,t){var n=this,a=(t.emit,Object(h["b"])()),o=Object(r["ref"])(null);Object(r["inject"])("env");var i=function(e){e.selectedRowsData},c=function(){o.value.instance.refresh()},l=function(){o.value.instance.clearSelection()},u=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:c.bind(n)}})};a.state.auth.user;return{onSelectionChanged:i,onToolbarPreparing:u,refreshDataGrid:c,clearSelection:l}}});F.render=A;var G=F,T=Object(r["defineComponent"])({components:{DxDataGrid:v["DxDataGrid"],DxColumn:v["DxColumn"],DxPaging:v["DxPaging"],DxPager:v["DxPager"],DxSorting:v["DxSorting"],DxHeaderFilter:v["DxHeaderFilter"],DxFilterRow:v["DxFilterRow"],DxMasterDetail:v["DxMasterDetail"],DataGridKabupaten:C,DataGridStatus:G},props:["registrationPeriod","filter"],setup:function(e,t){var n=this,a=(t.emit,Object(h["b"])()),o=Object(r["ref"])(null);Object(r["onMounted"])((function(){}));function i(e){return void 0!==e&&null!==e&&""!==e}var c=Object(r["inject"])("env"),l=new O.a({key:"distributor_id",load:function(t){var n="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(e){e in t&&i(t[e])&&(n+="".concat(e,"=").concat(JSON.stringify(t[e]),"&"))})),n=n.slice(0,-1),n+="&registration_period=".concat(e.registrationPeriod),n+="&region_code=".concat(e.filter.regionCode),n+="&province_id=".concat(e.filter.provinceId),n+="&city_id=".concat(e.filter.cityId),j["a"].get("".concat(c["VUE_APP_API_ENDPOINT"],"/list-approval-distributor").concat(n)).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=function(e){e.selectedRowsData},d=function(){o.value.instance.refresh()},s=function(){o.value.instance.clearSelection()},b=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:d.bind(n)}})},p=a.state.auth.user,g=function(t){return console.log(p),["svp_region","svp_pso_planning_management","sevp_marketing_ops","marketing_director"].includes(p.role.name)?{name:"admin-document-verification.distributor-profile.document-verification",params:{distributor_id:t.data.distributor_id},query:{registration_period:e.registrationPeriod}}:{name:"admin-document-verification.bundle",params:{distributor_id:t.data.distributor_id},query:{registration_period:e.registrationPeriod}}};return{customStore:l,onSelectionChanged:u,onToolbarPreparing:b,refreshDataGrid:d,clearSelection:s,root:o,linkToProcessDocument:g,user:p}}});T.render=f;var K=T,L=n("5502"),z=n("56dd"),E=n("fb27"),H=Object(d["c"])({components:{DocumentForm:s["a"],DataGrid:K},setup:function(){var e=Object(d["p"])([]),t=Object(d["p"])([]),n=Object(d["p"])([]),r=Object(d["p"])([]),a=Object(L["d"])(),o=a.state.auth.user,i=Object(d["o"])({periodId:null,regionCode:"vp_sales_region"==o.role.name?null:-1,provinceId:-1,cityId:-1});Object(d["m"])(Object(u["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,z["a"].getAll().then((function(t){if(e.value=t.data.data,e.value.length){var n=e.value.find((function(e){return e.active}));n&&(i.periodId=n.id)}}));case 2:c();case 3:case"end":return t.stop()}}),t)}))));var c=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("vp_sales_region"!=o.role.name&&"svp_region"!=o.role.name){e.next=6;break}return e.next=3,E["a"].regions_by_vp(i.producerCode).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=n.data,"vp_sales_region"==o.role.name&&(i.regionCode=n.data[0].code),l();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 3:return e.abrupt("return",e.sent);case 6:return e.next=8,E["a"].regions(i.producerCode).then(function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.value=n.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 8:return e.abrupt("return",e.sent);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==i.regionCode){e.next=6;break}return i.provinceId=-1,i.cityId=-1,e.next=5,E["a"].regionProvinces(i.regionCode).then((function(e){n.value=e.data}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==i.provinceId){e.next=4;break}return e.next=3,E["a"].regionProducerArea(i.provinceId).then((function(e){r.value=e.data}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(u["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",i);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{registrationPeriods:e,filter:i,regions:t,provinces:n,cities:r,getRegions:c,getProvinces:l,getCities:s,updateTable:b,user:o}}});H.render=l;t["default"]=H},2388:function(e,t,n){"use strict";var r=n("c953"),a="/company-management",o=function(){return r["a"].get(a)},i=function(e){return r["a"].post(a,e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(a+"/".concat(e),t)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(a+"/".concat(e,"/activate"),t)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(a+"/".concat(e,"/deactivate"),t)};t["a"]={get:o,add:i,update:c,activate:l,deactivate:u}},"56dd":function(e,t,n){"use strict";var r=n("5530"),a=n("c953"),o=function(e){return a["a"].post("/registration-periods",Object(r["a"])({},e))},i=function(){return a["a"].get("/registration-periods/get-active")},c=function(){return a["a"].get("/registration-periods")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a["a"].put("registration-periods/".concat(e,"/activate"))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return a["a"].put("registration-periods/".concat(e,"/deactivate"))};t["a"]={create:o,getActive:i,getAll:c,activate:l,deactivate:u}},"7db0":function(e,t,n){"use strict";var r=n("23e7"),a=n("b727").find,o=n("44d2"),i="find",c=!0;i in[]&&Array(1)[i]((function(){c=!1})),r({target:"Array",proto:!0,forced:c},{find:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),o(i)},fb27:function(e,t,n){"use strict";n.d(t,"b",(function(){return b})),n.d(t,"c",(function(){return p}));var r=n("c953"),a="/distributor-regions",o=function(){return r["a"].get(a+"/regions")},i=function(){return r["a"].get(a+"/regions_by_vp")},c=function(){return r["a"].get(a+"/regions_by_wilayah")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].get(a+"/regions-province/".concat(e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return r["a"].get(a+"/producer-area/".concat(e))},d=function(e){return r["a"].post(a,e)},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return r["a"].put(a+"/".concat(e),t)},b=function(e){return r["a"].delete(a+"/".concat(e))},p=function(e){return r["a"].post(a+"/".concat(e,"/verify"))};t["a"]={regions:o,regions_by_vp:i,regions_by_wilayah:c,regionProvinces:l,regionProducerArea:u,addDistributorRegions:d,updateDistributorRegions:s,deleteDistributorRegion:b,verifyDistributorRegion:p}}}]);