(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-997ec968"],{"15fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("a4d3"),a("b64b");function o(e,t){if(null==e)return{};var a,o,n={},r=Object.keys(e);for(o=0;o<r.length;o++)a=r[o],t.indexOf(a)>=0||(n[a]=e[a]);return n}function n(e,t){if(null==e)return{};var a,n,r=o(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)a=i[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var o=a("72dd");function n(){return{$show:Object(o["e"])("$messageBox"),$prompt:Object(o["e"])("$prompt"),$alert:Object(o["e"])("$alert"),$confirm:Object(o["e"])("$confirm")}}},"298f":function(e,t,a){},"472a":function(e,t,a){"use strict";a("298f")},6637:function(e,t,a){"use strict";var o=a("c953"),n="/",r=function(){return o["a"].get(n+"transportation")},i=function(e){return o["a"].post(n+"transportation",e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o["a"].put(n+"transportation/".concat(e),t)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o["a"].put(n+"transportation/".concat(e,"/activate"),t)},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o["a"].put(n+"transportation/".concat(e,"/deactivate"),t)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return o["a"].post(n+"transportation/".concat(e,"/check-duplicate"),t)};t["a"]={get:r,add:i,update:c,activate:l,deactivate:d,check_duplicate:u}},"6eb3":function(e,t,a){"use strict";a("99af");var o=a("c953"),n="/distributors",r=function(e){return o["a"].get("".concat(n,"/").concat(e,"/regions"))},i=function(e){return o["a"].get("".concat(n,"/").concat(e,"/proposed-regions"))},c=function(e,t){return o["a"].get("".concat(n,"/").concat(e,"/proposed-regions/").concat(t,"/provinces"))},l=function(e,t,a){return o["a"].get("".concat(n,"/").concat(e,"/proposed-regions/").concat(t,"/provinces/").concat(a,"/cities"))};t["a"]={show:r,getProposedRegions:i,getProposedProvinces:c,getProposedCities:l}},"83b3":function(e,t,a){"use strict";var o=a("5530"),n=a("c953"),r=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].post("bundle-item-details/".concat(e,"/verify"),Object(o["a"])({},t))};t["a"]={verify:r}},a814:function(e,t,a){"use strict";a.r(t);a("b0c0"),a("99af"),a("4de4");var o=a("7a23"),n={class:"intro-y col-span-12 lg:col-span-12"},r={class:"p-5"},i={class:""},c={class:"grid grid-cols-2 gap-5 mb-5"},l={class:"mt-3"},d={class:"mt-3"},u={class:"sm:grid grid-cols-2 gap-5"},s={class:""},b={class:""},p={class:"mt-3"},f={class:"sm:grid grid-cols-2 gap-5"},m={class:""},v={class:""},O={key:0,class:"text-theme-6 mt-2"},j={class:"mt-3"},g=Object(o["createTextVNode"])("Click to upload"),h={key:0,class:"mt-3"},k=Object(o["createVNode"])("label",{class:"form-label"},"Foto Alat Transportasi",-1),V={class:"h-40 xxl:h-56 image-fit"},_={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},w={class:"intro-y input-form"},y=Object(o["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status ",-1),D={class:"intro-y input-form"},N=Object(o["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status Verifikasi ",-1),C={class:"flex w-full pt-5"},x={key:1,class:"ml-auto"},B={key:1};function P(e,t,a,P,R,S){var T=Object(o["resolveComponent"])("el-option"),$=Object(o["resolveComponent"])("el-select"),F=Object(o["resolveComponent"])("form-item"),A=Object(o["resolveComponent"])("el-button"),K=Object(o["resolveComponent"])("el-upload"),q=Object(o["resolveComponent"])("DataGrid"),U=Object(o["resolveComponent"])("document-form"),E=Object(o["resolveComponent"])("verification-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])("div",n,[Object(o["createVNode"])(U,{title:"Fasilitas Alat Transportasi",isRegional:!0,itemType:15},{default:Object(o["withCtx"])((function(a){var n=a.allowManage;return[Object(o["createVNode"])("div",r,[Object(o["createVNode"])("div",i,[Object(o["createVNode"])("div",c,[Object(o["createVNode"])(F,{class:"col-span-2",label:"Region","rules-text":"Required",validationData:e.validate.region_code},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{clearable:"",modelValue:e.formData.region_code,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.region_code=t}),class:["form-control",{"border-theme-6":e.validate.region_code.$error}],filterable:"",onChange:t[2]||(t[2]=function(t){return e.onRegionChanged(t)})},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.distributorRegions,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(o["createVNode"])(F,{label:"Propinsi","rules-text":"Required",validationData:e.validate.province_id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{clearable:"",modelValue:e.formData.province_id,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.formData.province_id=t}),class:["form-control",{"border-theme-6":e.validate.province_id.$error}],filterable:"",onChange:t[4]||(t[4]=function(t){return e.onProvinceChanged(e.formData.region_code,t)})},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.distributorProvinces,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:e.province_id,label:e.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(o["createVNode"])(F,{label:"Kota/Kabupaten","rules-text":"Required",validationData:e.validate.city_id},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{clearable:"",modelValue:e.formData.city_id,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.city_id=t}),class:["form-control",{"border-theme-6":e.validate.city_id.$error}],filterable:""},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createBlock"])(o["Fragment"],null,Object(o["renderList"])(e.distributorCities,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(T,{key:e.city_id,label:"".concat(e.city_type," ").concat(e.city_name),value:e.city_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])])]),Object(o["createVNode"])("div",l,[Object(o["createVNode"])(F,{label:"Jenis Alat Transportasi","rules-text":"Required",validationData:e.validate.transportation_type},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{class:["form-control",{"border-theme-6":e.validate.transportation_type.$error}],modelValue:e.validate.transportation_type.$model,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.validate.transportation_type.$model=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{value:"Truk"}),Object(o["createVNode"])(T,{value:"Truk Tronton"}),Object(o["createVNode"])(T,{value:"Kapal Laut"})]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(o["createVNode"])("div",d,[Object(o["createVNode"])("div",u,[Object(o["createVNode"])("div",s,[Object(o["createVNode"])(F,{label:"Kapasitas (Ton)","rules-text":"Required",validationData:e.validate.capacity},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("input",{placeholder:"Kapasitas",class:["form-control",{"border-theme-6":e.validate.capacity.$error}],"onUpdate:modelValue":t[7]||(t[7]=function(t){return e.validate.capacity.$model=t})},null,2),[[o["vModelText"],e.validate.capacity.$model]])]})),_:1},8,["validationData"])]),Object(o["createVNode"])("div",b,[Object(o["createVNode"])(F,{label:"Status Kepemilikan","rules-text":"Required",validationData:e.validate.ownership_status},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])($,{class:["form-control",{"border-theme-6":e.validate.ownership_status.$error}],modelValue:e.validate.ownership_status.$model,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.validate.ownership_status.$model=t})},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(T,{value:"Perusahaan"}),Object(o["createVNode"])(T,{value:"Pribadi"}),Object(o["createVNode"])(T,{value:"Sewa"})]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])])])]),Object(o["createVNode"])("div",p,[Object(o["createVNode"])("div",f,[Object(o["createVNode"])("div",m,[Object(o["createVNode"])(F,{label:"Nomor BPKB","rules-text":"Required",validationData:e.validate.bpkb_number},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("input",{placeholder:"Nomor BPKB",class:["form-control",{"border-theme-6":e.validate.bpkb_number.$error}],"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.validate.bpkb_number.$model=t})},null,2),[[o["vModelText"],e.validate.bpkb_number.$model]])]})),_:1},8,["validationData"])]),Object(o["createVNode"])("div",v,[Object(o["createVNode"])(F,{label:"Nomor Polisi","rules-text":"Required",validationData:e.validate.nopol_number},{default:Object(o["withCtx"])((function(){return[Object(o["withDirectives"])(Object(o["createVNode"])("input",{placeholder:"Nomor Polisi",class:["form-control",{"border-theme-6":e.validate.nopol_number.$error}],"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.validate.nopol_number.$model=t}),onKeydown:t[11]||(t[11]=Object(o["withKeys"])(Object(o["withModifiers"])((function(){}),["prevent"]),["space"]))},null,34),[[o["vModelText"],e.validate.nopol_number.$model]]),e.formData.is_nopol_duplicate?(Object(o["openBlock"])(),Object(o["createBlock"])("div",O," Nomor Polisi Kendaraan Digunakan Oleh Distributor Lain ")):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["validationData"])])])]),Object(o["createVNode"])("div",j,[Object(o["createVNode"])(F,{label:"File Foto Alat Transportasi","rules-text":"Required",validationData:e.validate.transportation_photo,class:"intro-y"},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(K,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.transportation_photo?[{name:"file-foto-tranportasi",url:e.formData.transportation_photo}]:[],"on-preview":e.handlePreview,"on-remove":e.handleRemove},{tip:Object(o["withCtx"])((function(){return[]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(A,{size:"small",type:"primary"},{default:Object(o["withCtx"])((function(){return[g]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview","on-remove"])]})),_:1},8,["validationData"])]),null!=e.formData.transportation_photo?(Object(o["openBlock"])(),Object(o["createBlock"])("div",h,[k,Object(o["createVNode"])("div",V,[Object(o["createVNode"])("img",{class:"rounded-md",src:e.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.formData.transportation_photo},null,8,["src"])])])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])("div",_,[Object(o["createVNode"])("div",w,[y,Object(o["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(o["createVNode"])("div",D,[N,Object(o["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(o["createVNode"])("div",C,[e.updateMode?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[12]||(t[12]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(o["createCommentVNode"])("",!0),n?(Object(o["openBlock"])(),Object(o["createBlock"])("div",x,[e.updateMode?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[13]||(t[13]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ")):(Object(o["openBlock"])(),Object(o["createBlock"])("div",B,[Object(o["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[14]||(t[14]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(o["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[15]||(t[15]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ")]))])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(q,{ref:"dataGrid",class:"m-5",allowManage:n,onSelectionChanged:e.onSelectionChanged,onOpenVerificationDialog:e.openVerificationDialog},null,8,["allowManage","onSelectionChanged","onOpenVerificationDialog"])]})),_:1}),Object(o["createVNode"])(E,{dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":[t[16]||(t[16]=function(t){return e.dialogVisible=t}),t[17]||(t[17]=function(t){return e.dialogVisible=t})],"onDialog:closed":e.refreshDataGrid,dialogData:e.dialogData,filter:e.filter},null,8,["dialogVisible","onDialog:closed","dialogData","filter"])])}a("0cfa");var R=a("5040"),S=a.n(R),T=a("15fd"),$=a("1da1"),F=a("5530"),A=(a("d3b7"),a("96cf"),a("c45b")),K={key:0},q={key:1},U={key:1},E={key:0},G={class:"dialog-footer"},M=Object(o["createTextVNode"])("Close");function I(e,t,a,n,r,i){var c=Object(o["resolveComponent"])("DxColumn"),l=Object(o["resolveComponent"])("DxPaging"),d=Object(o["resolveComponent"])("DxPager"),u=Object(o["resolveComponent"])("DxDataGrid"),s=Object(o["resolveComponent"])("el-table-column"),b=Object(o["resolveComponent"])("el-table"),p=Object(o["resolveComponent"])("el-button"),f=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(o["Fragment"],null,[Object(o["createVNode"])(u,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)}),onRowPrepared:e.onRowPrepared,"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0},{statusAktivasiCellTemplate:Object(o["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(o["openBlock"])(),Object(o["createBlock"])("span",K," Active ")):(Object(o["openBlock"])(),Object(o["createBlock"])("span",q," Non-Active "))]})),cellTemplate:Object(o["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),duplicationTemplate:Object(o["withCtx"])((function(t){var a=t.data;return[Object(o["createVNode"])("div",null,[a.data.nopol_duplication.length>0?(Object(o["openBlock"])(),Object(o["createBlock"])("button",{key:0,onClick:function(t){return e.check_duplication(a.data.nopol_duplication)},class:"btn btn-sm rounded-lg"}," Cek Duplikasi ",8,["onClick"])):(Object(o["openBlock"])(),Object(o["createBlock"])("i",U," No Duplication Found "))])]})),vaCellTemplate:Object(o["withCtx"])((function(t){var a=t.data;return[null==a.data.bundle_item_detail_verification.is_verified?(Object(o["openBlock"])(),Object(o["createBlock"])("div",E,[Object(o["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!0)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Approved ",8,["onClick"]),Object(o["createVNode"])("button",{onClick:function(t){return e.openVerificationDialog(a.data,!1)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Reject ",8,["onClick"])])):Object(o["createCommentVNode"])("",!0)]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(c,{"data-field":"transportation_type","data-type":"string",caption:"Jenis Transportasi"}),Object(o["createVNode"])(c,{"data-field":"capacity","data-type":"string",caption:"Kapasitas (Ton)"}),Object(o["createVNode"])(c,{"data-field":"ownership_status","data-type":"string",caption:"Kepemilikan"}),Object(o["createVNode"])(c,{"data-field":"bpkb_number","data-type":"string",caption:"Nomor BPKB"}),Object(o["createVNode"])(c,{"data-field":"nopol_number","data-type":"string",caption:"Nomor Polisi"}),Object(o["createVNode"])(c,{"data-field":"region.name","data-type":"string",caption:"Region"}),Object(o["createVNode"])(c,{"data-field":"province.province_name","data-type":"string",caption:"Propinsi"}),Object(o["createVNode"])(c,{"data-field":"city.city_name","data-type":"string",caption:"Kota/Kabupaten"}),Object(o["createVNode"])(c,{"data-field":"bundle_item_detail_verification.is_verified","data-type":"boolean",caption:"Status Verifikasi"}),Object(o["createVNode"])(c,{"data-field":"bundle_item_detail_verification.verification_notes","data-type":"string",caption:"Catatan Verifikasi"}),Object(o["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(o["createCommentVNode"])("",!0),e.is_not_distributor?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:1,"data-field":"nopol_duplication",caption:"Aksi","cell-template":"duplicationTemplate"})):Object(o["createCommentVNode"])("",!0),"admin"==e.route.meta.role?(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:2,"data-field":"bundle_item_detail_verification",caption:"Verifikasi","cell-template":"vaCellTemplate"})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(l,{"page-size":5}),Object(o["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged","onRowPrepared"]),Object(o["createVNode"])(f,{"append-to-body":"",title:"Data Duplikasi Fasilitas Transportasi",modelValue:e.dialogVisible,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dialogVisible=t}),width:"60%",onClose:e.closeDuplicationDialog},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("span",G,[Object(o["createVNode"])(p,{onClick:e.closeDuplicationDialog},{default:Object(o["withCtx"])((function(){return[M]})),_:1},8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(b,{data:e.dialogData},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(s,{property:"distributor.name",label:"Nama Distributor"}),Object(o["createVNode"])(s,{property:"bpkb_number",label:"Nomor BPKB"}),Object(o["createVNode"])(s,{property:"nopol_number",label:"Nomor Polisi"}),Object(o["createVNode"])(s,{property:"ownership_status",label:"Status Kepemilikan"}),Object(o["createVNode"])(s,{property:"transportation_type",label:"Jenis Transportasi"})]})),_:1},8,["data"])]})),_:1},8,["modelValue","onClose"])],64)}var L=a("e0fa");L["a"].render=I;var J=L["a"],z={key:0},H={class:"grid grid-cols-3 gap-4 mb-2"},X=Object(o["createVNode"])("label",{for:"produsen"},"Status",-1),W={key:0,class:"text-base text-theme-9"},Q={key:1,class:"text-base text-theme-6"},Y={class:"grid grid-cols-3 gap-4 mb-4"},Z=Object(o["createVNode"])("label",{for:"produsen"},"Region",-1),ee={class:"text-base"},te=Object(o["createVNode"])("label",{for:"propinsi"},"Propinsi",-1),ae={class:"text-base"},oe=Object(o["createVNode"])("label",{for:"kabupaten"},"Kabupaten",-1),ne={class:"text-base"},re=Object(o["createVNode"])("div",{class:"border border-b-0 mb-4"},null,-1),ie={class:"grid grid-cols-1 gap-4"},ce=Object(o["createVNode"])("label",{for:"produsen"},"Notes",-1),le={class:"dialog-footer"},de=Object(o["createTextVNode"])("Cancel"),ue=Object(o["createTextVNode"])("Confirm");function se(e,t,a,n,r,i){var c=Object(o["resolveComponent"])("el-button"),l=Object(o["resolveComponent"])("el-dialog");return Object(o["openBlock"])(),Object(o["createBlock"])(l,{"append-to-body":"",title:"Verifikasi Butir Dokumen",modelValue:e.dialogVisible,width:"50%",onClose:e.closeDialog},{footer:Object(o["withCtx"])((function(){return[Object(o["createVNode"])("span",le,[Object(o["createVNode"])(c,{onClick:e.closeDialog},{default:Object(o["withCtx"])((function(){return[de]})),_:1},8,["onClick"]),Object(o["createVNode"])(c,{type:"primary",onClick:e.submitAllocationForm},{default:Object(o["withCtx"])((function(){return[ue]})),_:1},8,["onClick"])])]})),default:Object(o["withCtx"])((function(){return[null!=e.dialogData?(Object(o["openBlock"])(),Object(o["createBlock"])("div",z,[Object(o["createVNode"])("div",H,[Object(o["createVNode"])("div",null,[X,e.dialogData.recommended?(Object(o["openBlock"])(),Object(o["createBlock"])("p",W,"APPROVED")):(Object(o["openBlock"])(),Object(o["createBlock"])("p",Q,"REJECTED"))])]),Object(o["createVNode"])("div",Y,[Object(o["createVNode"])("div",null,[Z,Object(o["createVNode"])("p",ee,Object(o["toDisplayString"])(e.dialogData.region.name),1)]),Object(o["createVNode"])("div",null,[te,Object(o["createVNode"])("p",ae,Object(o["toDisplayString"])(e.dialogData.province.province_name),1)]),Object(o["createVNode"])("div",null,[oe,Object(o["createVNode"])("p",ne,Object(o["toDisplayString"])(e.dialogData.city.city_type)+" "+Object(o["toDisplayString"])(e.dialogData.city.city_name),1)])]),re,Object(o["createVNode"])("div",ie,[Object(o["createVNode"])("div",null,[ce,Object(o["withDirectives"])(Object(o["createVNode"])("textarea",{"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogFormData.notes=t}),class:"form-control mt-2"},null,512),[[o["vModelText"],e.dialogFormData.notes]])])])])):Object(o["createCommentVNode"])("",!0)]})),_:1},8,["modelValue","onClose"])}var be=a("72dd"),pe=a("2611"),fe=a("83b3"),me=Object(be["c"])({props:{value:String,dialogVisible:{type:Boolean},dialogData:{required:!0}},emits:["update:dialogVisible","dialog:closed"],setup:function(e,t){var a=t.emit,o=Object(be["o"])({notes:""}),n=Object(pe["a"])(),r=function(){var t=Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:n.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object($["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return console.log(e.dialogData,o),t.next=3,fe["a"].verify(e.dialogData.bundle_item_detail_id,{recommended:e.dialogData.recommended,notes:o.notes}).then((function(e){console.log(e)}));case 3:i(),a("dialog:closed");case 5:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),i=function(){o.notes="",a("update:dialogVisible",!1)};return{dialogFormData:o,submitAllocationForm:r,closeDialog:i}}});me.render=se;var ve=me,Oe={id:null,transportation_type:null,capacity:null,ownership_status:null,bpkb_number:null,nopol_number:null,transportation_photo:null,is_active:!0,verification_status:null,region_code:null,province_id:null,city_id:null,is_nopol_duplicate:!1},je=a("25a0"),ge=a("e3e1"),he=a("2022"),ke=a("6637"),Ve=a("5502"),_e=a("b405"),we=(a("af50"),a("6c02")),ye=Object(o["defineComponent"])({components:{DocumentForm:A["a"],DataGrid:J,FormItem:he["a"],VerificationDialog:ve},setup:function(){Object(we["c"])();var e=Object(Ve["d"])(),t=e.state.auth.user,a=Object(o["ref"])(!1),n=Object(o["ref"])(!1),r=Object(pe["a"])(),i=Object(o["ref"])(null),c=Object(o["ref"])(null),l=Object(o["inject"])("env"),d=Object(o["reactive"])(Object(F["a"])({},Oe)),u={transportation_type:{required:ge["c"]},capacity:{required:ge["c"]},ownership_status:{required:ge["c"]},bpkb_number:{required:ge["c"]},nopol_number:{required:ge["c"]},transportation_photo:{required:ge["c"]},region_code:{required:ge["c"]},province_id:{required:ge["c"]},city_id:{required:ge["c"]}},s=Object(je["a"])(u,Object(o["toRefs"])(d)),b=function(){var e=Object(o["toRefs"])(d);for(var t in Oe)e[t].value=Oe[t];s.value.$reset()},p=function(e){var t=Object(o["toRefs"])(d);for(var a in Oe)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},f=function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(p(t),d.is_nopol_duplicate=t.nopol_duplication.length>0,a.value=!0):(b(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="Simpan data. Lanjutkan?",s.value.$touch(),s.value.$invalid?S.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):ke["a"].check_duplicate(t.distributor.id,d).then((function(e){e.data.length>0&&(a="Data nomor polisi kendaraan telah digunakan distributor lain. Lanjutkan?"),r.$confirm(a,"Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.id,a=Object(T["a"])(d,["id"]),a.distributor_id=t.distributor.id,n.value=!0,e.next=5,ke["a"].update(d.id,a).then((function(e){S.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.clearSelection(),i.value.refreshDataGrid(),b()})).catch((function(e){S.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){n.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a="Simpan data. Lanjutkan?",s.value.$touch(),s.value.$invalid?(console.log(d),S.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})):ke["a"].check_duplicate(t.distributor.id,d).then((function(e){e.data.length>0&&(a="Data nomor polisi kendaraan telah digunakan distributor lain. Lanjutkan?"),r.$confirm(a,"Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object($["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.id,a=Object(T["a"])(d,["id"]),console.log(a),a.distributor_id=t.distributor.id,console.log(a),n.value=!0,e.next=7,ke["a"].add(a).then((function(e){S.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),b()})).catch((function(e){console.log(e),S.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){n.value=!1}));case 7:case"end":return e.stop()}}),e)})))).catch((function(){}))}));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,a){d.transportation_photo=e.id},j=function(e,t,a){d.transportation_photo=null},g=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};Object(o["provide"])("updateFormData",f);var h=Object(_e["a"])(t,d),k=h.distributorRegions,V=h.distributorProvinces,_=h.distributorCities,w=h.onRegionChanged,y=h.onProvinceChanged;function D(e){e&&(w(e.region_code),y(e.region_code,e.province_id)),f(e)}Object(o["provide"])("distributorRegions",k);var N=Object(o["ref"])(!1),C=Object(o["ref"])(null),x=Object(o["reactive"])({notes:""}),B=function(e){N.value=!0,C.value=e},P=function(){i.value.refreshDataGrid()};return{env:l,formData:d,validate:s,dataGrid:i,updateMode:a,loading:n,save:m,add:v,resetFormData:b,onUploadSuccees:O,elUpload:c,handlePreview:g,handleRemove:j,distributorRegions:k,distributorProvinces:V,distributorCities:_,onRegionChanged:w,onProvinceChanged:y,onSelectionChanged:D,dialogVisible:N,dialogData:C,dialogFormData:x,openVerificationDialog:B,refreshDataGrid:P}}});a("472a");ye.render=P;t["default"]=ye},b405:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var o=a("1da1"),n=(a("96cf"),a("72dd")),r=a("6eb3"),i=a("6c02");function c(e,t){var a=Object(n["p"])([]),c=Object(n["p"])([]),l=Object(n["p"])([]),d=Object(i["c"])(),u="";function s(e){return b.apply(this,arguments)}function b(){return b=Object(o["a"])(regeneratorRuntime.mark((function e(a){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.province_id=null,t.city_id=null,!a){e.next=5;break}return e.next=5,r["a"].getProposedProvinces(u,a).then((function(e){c.value=e.data.data}));case 5:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return f=Object(o["a"])(regeneratorRuntime.mark((function e(a,o){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.city_id=null,!a||!o){e.next=4;break}return e.next=4,r["a"].getProposedCities(u,a,o).then((function(e){l.value=e.data.data}));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function m(){return v.apply(this,arguments)}function v(){return v=Object(o["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,r["a"].getProposedRegions(u).then((function(e){a.value=e.data.data}));case 2:case"end":return e.stop()}}),e)}))),v.apply(this,arguments)}return Object(n["m"])(Object(o["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return u="admin"!=d.meta.role?e.distributor.id:d.params.distributor_id,t.next=3,m();case 3:case"end":return t.stop()}}),t)})))),{distributorRegions:a,distributorProvinces:c,distributorCities:l,onRegionChanged:s,onProvinceChanged:p,getProposedRegions:m}}},e0fa:function(e,t,a){"use strict";(function(e){a("0cfa");var o=a("5040"),n=a.n(o),r=a("1da1"),i=(a("96cf"),a("99af"),a("fb6a"),a("d30a")),c=a("2597"),l=a.n(c),d=a("c953"),u=a("7a23"),s=a("6637"),b=a("6c02"),p=a("5502");t["a"]=Object(u["defineComponent"])({components:{DxDataGrid:i["DxDataGrid"],DxColumn:i["DxColumn"],DxPaging:i["DxPaging"],DxPager:i["DxPager"],DxSorting:i["DxSorting"],DxHeaderFilter:i["DxHeaderFilter"],DxFilterRow:i["DxFilterRow"]},emits:["selectionChanged","openVerificationDialog"],props:["allowManage"],setup:function(t,a){var o=this,i=a.emit,c=Object(u["ref"])(null),f=Object(b["c"])(),m=Object(p["d"])(),v=m.state.auth.user,O=Object(u["ref"])(null),j=Object(u["ref"])(!1),g=Object(u["ref"])(null);function h(e){return void 0!==e&&null!==e&&""!==e}function k(t){"data"==t.rowType&&t.data.hasOwnProperty("nopol_duplication")&&t.data.nopol_duplication.length>0&&e(t.rowElement).addClass("bg-theme-17")}Object(u["onMounted"])((function(){console.log(c.value),O.value=null==v.distributor}));var V=Object(u["inject"])("env");console.log(V);var _=new l.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&h(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(V["VUE_APP_API_ENDPOINT"],"/transportation").concat(t);return"admin"==f.meta.role&&(a="".concat(V["VUE_APP_API_ENDPOINT"],"/distributor/").concat(f.params.distributor_id,"/item-details-data/item-type/15")),d["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}});Object(u["inject"])("updateFormData");console.log(c);var w=function(e){var t=e.selectedRowsData;i("selectionChanged",t[0])},y=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].activate(t).then((function(e){n.a.success({title:"Success",position:"bottom-right"}),N()})).catch((function(e){n.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),D=function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["a"].deactivate(t).then((function(e){n.a.success({title:"Success",position:"bottom-right"}),N()})).catch((function(e){n.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=function(){c.value.instance.refresh()},C=function(){c.value.instance.clearSelection()},x=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:N.bind(o)}})},B=function(e){console.log(e),j.value=!0,g.value=e},P=function(){C(),j.value=!1},R=function(e,t){console.log(e),e.recommended=t,console.log(e),i("openVerificationDialog",e)};return{env:V,route:f,store:_,onSelectionChanged:w,activate:y,deactivate:D,onToolbarPreparing:x,refreshDataGrid:N,clearSelection:C,root:c,onRowPrepared:k,is_not_distributor:O,check_duplication:B,dialogVisible:j,dialogData:g,closeDuplicationDialog:P,openVerificationDialog:R}}})}).call(this,a("e409"))}}]);