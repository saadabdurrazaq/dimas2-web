(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2bf6d6cc"],{2388:function(e,t,a){"use strict";var n=a("c953"),r="/company-management",o=function(){return n["a"].get(r)},i=function(e){return n["a"].post(r,e)},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(r+"/".concat(e),t)},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(r+"/".concat(e,"/activate"),t)},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(r+"/".concat(e,"/deactivate"),t)};t["a"]={get:o,add:i,update:c,activate:l,deactivate:u}},"24f3":function(e,t,a){"use strict";a.r(t);a("4de4"),a("b0c0");var n=a("7a23"),r={class:"p-5"},o={class:"flex gap-4",style:{"margin-bottom":"15px"}},i={class:"flex-none w-40"},c={style:{"font-size":"40px","font-weight":"bold","margin-top":"20px"}},l={class:"flex-grow w-16"},u={class:"grid grid-cols-3 gap-4 mb-4"};function s(e,t,a,s,d,b){var p=Object(n["resolveComponent"])("form-item"),g=Object(n["resolveComponent"])("el-option"),f=Object(n["resolveComponent"])("el-select"),m=Object(n["resolveComponent"])("data-grid"),O=Object(n["resolveComponent"])("el-tab-pane"),j=Object(n["resolveComponent"])("el-tabs"),v=Object(n["resolveComponent"])("evaluation-distributor-dialog"),h=Object(n["resolveComponent"])("document-form"),D=Object(n["resolveDirective"])("loading");return Object(n["withDirectives"])((Object(n["openBlock"])(),Object(n["createBlock"])(h,{title:"Daftar Penilaian Kinerja Distributor"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",r,[Object(n["createVNode"])("div",o,[Object(n["createVNode"])("div",i,[Object(n["createVNode"])(p,{label:"Tahun"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("p",c,Object(n["toDisplayString"])(e.filter.evaluation_period_year),1)]})),_:1})]),Object(n["createVNode"])("div",l,[Object(n["createVNode"])(p,{label:"Kuartal"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{onChange:e.refreshDataGrid,class:"form-control",modelValue:e.filter.kuartal,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.filter.kuartal=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{value:-1,label:"Semua Kuartal"}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.quartal,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(g,{label:e.name,value:e.id,key:e.id},null,8,["label","value"])})),128))]})),_:1},8,["onChange","modelValue"])]})),_:1})])]),Object(n["createVNode"])("div",u,[Object(n["createVNode"])(p,{label:"Region"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(f,{onChange:e.refreshDataGrid,class:"form-control",modelValue:e.filter.regionCode,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.filter.regionCode=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(g,{value:-1,label:"Semua Region"}),(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(g,{label:e.name,value:e.code,key:e.name},null,8,["label","value"])})),128))]})),_:1},8,["onChange","modelValue"])]})),_:1})]),Object(n["createVNode"])(j,{type:"border-card"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(O,{label:"Belum Diproses",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[e.filterFulfilled?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,ref:"unallocatedDataGrid",onOpenDialogAction:e.openFormActionDialog,filter:e.filter,status:"DISETUJUI_OLEH_SVP_PSO",process:0},null,8,["onOpenDialogAction","filter"])):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(O,{label:"Sudah Diproses",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[e.filterFulfilled?(Object(n["openBlock"])(),Object(n["createBlock"])(m,{key:0,ref:"allocatedDataGrid",filter:e.filter,status:"DISETUJUI_OLEH_SEVP_MARKETING",process:1},null,8,["filter"])):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(O,{label:"Printed Report",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("button",{onClick:t[3]||(t[3]=function(){return e.exportEvaluationData&&e.exportEvaluationData.apply(e,arguments)}),class:"btn btn-primary px-4 py-2"},"Export Data Penilaian")]})),_:1})]})),_:1})]),e.dialogVisible&&null!=e.dialogData?(Object(n["openBlock"])(),Object(n["createBlock"])(v,{key:0,dialogVisible:e.dialogVisible,"onUpdate:dialogVisible":[t[4]||(t[4]=function(t){return e.dialogVisible=t}),t[5]||(t[5]=function(t){return e.dialogVisible=t})],"onDialog:closed":e.refreshDataGrid,dialogData:e.dialogData,filter:e.filter},null,8,["dialogVisible","onDialog:closed","dialogData","filter"])):Object(n["createCommentVNode"])("",!0)]})),_:1},512)),[[D,e.loading]])}a("0cfa");var d=a("5040"),b=a.n(d),p=a("1da1"),g=(a("99af"),a("96cf"),a("8afd")),f=a("c45b"),m=a("2022"),O={class:"grid grid-cols-1"},j=Object(n["createTextVNode"])(" Lihat Dokumen "),v={class:"bg-white"},h={class:"p-5"},D={key:0},V=Object(n["createVNode"])("h4",{class:"font-bold mb-2"},"Catatan Approval (SVP Perencanaan & Manajemen PSO):",-1),k={key:1},w=Object(n["createVNode"])("h4",{class:"font-bold mb-2"}," Catatan Approval Akhir (SEVP Operasi Pemasaran): ",-1);function x(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxFilterRow"),l=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("router-link"),s=Object(n["resolveComponent"])("DxMasterDetail"),d=Object(n["resolveComponent"])("DxPaging"),b=Object(n["resolveComponent"])("DxPager"),p=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!1},selection:{mode:"single"},"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0,onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{distributorNameCellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("div",O,[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(a.data.distributor.name),1),Object(n["createVNode"])(u,{to:e.linkToProcessDocument(a),target:"_blank",class:"\n            text-xs\n            underline\n            text-blue-500\n            hover:text-blue-900\n            cursor-pointer\n          "},{default:Object(n["withCtx"])((function(){return[j]})),_:2},1032,["to"])])]})),regionNameCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t.data.region.name),1)]})),finalScoreTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t.data.final_score)+" ("+Object(n["toDisplayString"])(t.data.score_status)+")",1)]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("div",null,[Object(n["createVNode"])("button",{onClick:function(t){return e.openingActionDialog(a.data)},class:"btn bg-theme-9 px-8 py-2 text-white text-xs"}," Proses ",8,["onClick"])])]})),productTable:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("div",v,[Object(n["createVNode"])("section",h,[null==t.data.status.final_approval_status?(Object(n["openBlock"])(),Object(n["createBlock"])("div",D,[V,Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(t.data.status.approval_note),1)])):Object(n["createCommentVNode"])("",!0),null!=t.data.status.final_approval_status?(Object(n["openBlock"])(),Object(n["createBlock"])("div",k,[w,Object(n["createVNode"])("p",null,Object(n["toDisplayString"])(t.data.status.final_approval_note),1)])):Object(n["createCommentVNode"])("",!0)])])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{visible:!0}),Object(n["createVNode"])(l,{"data-field":"distributor.sap_id","data-type":"string",caption:"Customer ID"}),Object(n["createVNode"])(l,{width:300,"data-field":"distributor.name","data-type":"string",caption:"Distributor","cell-template":"distributorNameCellTemplate"}),Object(n["createVNode"])(l,{"data-field":"region.name","data-type":"string",caption:"Region","cell-template":"regionNameCellTemplate"}),Object(n["createVNode"])(l,{"data-field":"final_score","data-type":"string",caption:"Nilai (System)","cell-template":"finalScoreTemplate"}),Object(n["createVNode"])(l,{"data-field":"status.approval_status","data-type":"string",caption:"Rekomendasi PSO"}),0==e.process?(Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:0,allowFiltering:!1,width:300,"data-field":"id",caption:"Action","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(s,{class:"bg-white",enabled:!0,template:"productTable",autoExpandAll:!1}),Object(n["createVNode"])(d,{"page-size":20}),Object(n["createVNode"])(b,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}a("fb6a"),a("caad"),a("d3b7");var _=a("d30a"),N=a("2597"),C=a.n(N),y=a("c953"),S=a("2388"),P=a("eeae"),R=a("2611"),B=a("4360"),T=Object(n["defineComponent"])({components:{DxDataGrid:_["DxDataGrid"],DxColumn:_["DxColumn"],DxPaging:_["DxPaging"],DxPager:_["DxPager"],DxSorting:_["DxSorting"],DxHeaderFilter:_["DxHeaderFilter"],DxFilterRow:_["DxFilterRow"],DxMasterDetail:_["DxMasterDetail"]},props:["status","filter","process"],setup:function(e,t){var a=this,r=t.emit,o=Object(B["b"])(),i=Object(n["ref"])(null);Object(n["onMounted"])((function(){})),Object(R["a"])();function c(e){return void 0!==e&&null!==e&&""!==e}var l=Object(n["inject"])("env"),u=new C.a({key:"id",load:function(t){var a="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(e){e in t&&c(t[e])&&(a+="".concat(e,"=").concat(JSON.stringify(t[e]),"&"))})),a=a.slice(0,-1),a+="&region_code=".concat(e.filter.regionCode),a+="&kuartal=".concat(e.filter.kuartal),a+="&evaluation_period=".concat(e.filter.evaluation_period_id),a+="&status=".concat(e.status),y["a"].get("".concat(l["VUE_APP_API_ENDPOINT"],"/evaluation-bundles/by-admin-sevp-marketing").concat(a)).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),s=function(e){e.selectedRowsData},d=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S["a"].activate(t).then((function(e){b.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){b.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),g=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,S["a"].deactivate(t).then((function(e){b.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){b.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){i.value.instance.refresh()},m=function(){i.value.instance.clearSelection()},O=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(a)}})},j=o.state.auth.user,v=function(t){return["svp_region","svp_pso_planning_management","sevp_marketing_ops","marketing_director"].includes(j.role.name)?{name:"admin-evaluation-document-verification.distributor-evaluation.document-verification",params:{distributor_id:t.data.distributor.id},query:{evaluation_period:e.filter.evaluation_period_id}}:{name:"admin-document-verification.bundle",params:{distributor_id:t.data.distributor.id},query:{registration_period:e.registrationPeriodId}}},h=Object(n["ref"])(!1),D=function(e){r("openDialogAction",e)},V=new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR"});return{get_allocation_loading:h,customStore:u,onSelectionChanged:s,activate:d,deactivate:g,onToolbarPreparing:O,refreshDataGrid:f,clearSelection:m,root:i,linkToProcessDocument:v,openingActionDialog:D,currencyFormatter:V}}}),A=a("6b0d"),F=a.n(A);const E=F()(T,[["render",x]]);var I=E,G=a("fb27"),K={class:"grid grid-cols-3 gap-4 mb-2"},L=Object(n["createVNode"])("label",{for:"produsen"},"Distributor",-1),M={class:"text-base",style:{"font-weight":"bold"}},U=Object(n["createVNode"])("label",{for:"propinsi"},"Region",-1),$={class:"text-base",style:{"font-weight":"bold"}},q=Object(n["createVNode"])("label",{for:"produsen"},"Persentase Skoring",-1),z={class:"text-base",style:{"font-weight":"bold"}},J={class:"grid grid-cols-2 gap-4 mb-4"},H=Object(n["createVNode"])("label",{for:"produsen"},"Status Skoring (System)",-1),Q={class:"text-base",style:{"font-weight":"bold"}},W=Object(n["createVNode"])("label",{for:"produsen"},"Status Skoring (SVP PSO)",-1),X={class:"text-base",style:{"font-weight":"bold"}},Y=Object(n["createVNode"])("div",{class:"border border-b-0 mb-4"},null,-1),Z={class:"grid grid-cols-1 gap-4"},ee={class:"grid grid-cols-1 gap-4 mb-3"},te=Object(n["createVNode"])("label",{for:""},"Status Skoring",-1),ae=Object(n["createVNode"])("small",null,"* Perubahan status skoring (keputusan untuk distributor) diberikan pada Kuartal 2 dan Kuartal 4",-1),ne={class:"grid grid-cols-1 gap-4"},re=Object(n["createVNode"])("label",{for:"produsen"},"Notes",-1),oe={class:"dialog-footer"},ie=Object(n["createTextVNode"])("Cancel"),ce=Object(n["createTextVNode"])("Confirm"),le=Object(n["createVNode"])("br",null,null,-1),ue=Object(n["createVNode"])("div",{class:"dialog-footer-notes bg-gray-200"},[Object(n["createVNode"])("p",null,[Object(n["createTextVNode"])(" *Apabila "),Object(n["createVNode"])("b",null,"Status Skoring"),Object(n["createTextVNode"])(" tidak mendapatkan perubahan, maka sistem akan menganggap bahwa "),Object(n["createVNode"])("b",null,"SEVP Operasi Pemasaran"),Object(n["createTextVNode"])(" menyetujui Data tersebut ")])],-1);function se(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("el-option"),l=Object(n["resolveComponent"])("el-select"),u=Object(n["resolveComponent"])("form-item"),s=Object(n["resolveComponent"])("el-button"),d=Object(n["resolveComponent"])("el-dialog");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{"append-to-body":"",title:"",modelValue:e.dialogVisible,width:"50%",onClose:e.closeDialog},{footer:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("span",oe,[Object(n["createVNode"])(s,{onClick:e.closeDialog},{default:Object(n["withCtx"])((function(){return[ie]})),_:1},8,["onClick"]),Object(n["createVNode"])(s,{type:"primary",onClick:e.submitEvaluationDistributorForm},{default:Object(n["withCtx"])((function(){return[ce]})),_:1},8,["onClick"])]),le,ue]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",K,[Object(n["createVNode"])("div",null,[L,Object(n["createVNode"])("p",M,Object(n["toDisplayString"])(e.dialogData.distributor.name),1)]),Object(n["createVNode"])("div",null,[U,Object(n["createVNode"])("p",$,Object(n["toDisplayString"])(e.dialogData.region.name),1)]),Object(n["createVNode"])("div",null,[q,Object(n["createVNode"])("p",z,Object(n["toDisplayString"])(e.dialogData.final_score),1)])]),Object(n["createVNode"])("div",J,[Object(n["createVNode"])("div",null,[H,Object(n["createVNode"])("p",Q,Object(n["toDisplayString"])(e.dialogData.status.verification_status),1)]),Object(n["createVNode"])("div",null,[W,Object(n["createVNode"])("p",X,Object(n["toDisplayString"])(e.dialogData.status.approval_status),1)])]),Y,Object(n["createVNode"])("div",Z,[Object(n["createVNode"])("div",ee,[te,Object(n["createVNode"])(u,{label:"Kuartal"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{class:"form-control",modelValue:e.dialogFormData.statusScoring,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.dialogFormData.statusScoring=t})},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.scoreStatus,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.id,value:e.keterangan,label:e.keterangan},null,8,["value","label"])})),128))]})),_:1},8,["modelValue"]),ae]})),_:1})])]),Object(n["createVNode"])("div",ne,[Object(n["createVNode"])("div",null,[re,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{rows:"5","onUpdate:modelValue":t[2]||(t[2]=function(t){return e.dialogFormData.notes=t}),class:"form-control mt-2"},null,512),[[n["vModelText"],e.dialogFormData.notes]])])])]})),_:1},8,["modelValue","onClose"])}var de=a("be89"),be=a("730f"),pe=Object(g["c"])({props:{value:String,dialogVisible:{type:Boolean},dialogData:{required:!0},filter:{required:!0}},emits:["update:dialogVisible","dialog:closed"],setup:function(e,t){var a=t.emit,n=Object(g["o"])({notes:"",statusScoring:e.dialogData.status.approval_status}),r=Object(R["a"])(),o=Object(g["p"])([]);Object(g["m"])(Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be["a"].getRecommendStatusSkor().then((function(e){o.value=e.data}));case 2:case"end":return e.stop()}}),e)}))));var i=function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:r.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,de["a"].setRecommendationSEVPMarketing({id:e.dialogData.id,status:n.statusScoring,note:n.notes}).then((function(e){b.a.success({title:"Success",position:"bottom-right"})})).catch((function(e){b.a.error({title:"Failed",position:"bottom-right"})}));case 2:c(),a("dialog:closed");case 4:case"end":return t.stop()}}),t)}))));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),c=function(){n.notes="",a("update:dialogVisible",!1)};return{dialogFormData:n,submitEvaluationDistributorForm:i,closeDialog:c,scoreStatus:o}}});a("8836");const ge=F()(pe,[["render",se]]);var fe=ge,me=Object(g["c"])({components:{DocumentForm:f["a"],DataGrid:I,FormItem:m["a"],EvaluationDistributorDialog:fe},setup:function(){var e=Object(g["p"])(!1),t=Object(g["p"])(!1),a=Object(g["p"])(!1),n=Object(g["o"])({id:null,period:null}),r=Object(g["p"])([]),o=Object(g["p"])([]),i=Object(g["p"])([]),c=Object(g["p"])([]),l=Object(g["p"])([]),u=Object(g["p"])(!1),s=Object(g["p"])(null),d=Object(g["o"])({notes:""}),f=Object(R["a"])(),m=Object(g["p"])(null),O=Object(g["p"])(null),j=Object(g["o"])({tonnageAllocation:1e3,distributorAllocation:150}),v=Object(g["o"])({kuartal:-1,regionCode:-1,evaluation_period_year:null,evaluation_period_id:null}),h=[{id:1,name:"Kuartal 1"},{id:2,name:"Kuartal 2"},{id:3,name:"Kuartal 3"},{id:4,name:"Kuartal 4"}];Object(g["m"])(Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,be["a"].getActive().then(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v.evaluation_period_year=t.data.period,v.evaluation_period_id=t.data.id,v.kuartal=t.data.active_kuartal;case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.next=4,k();case 4:case"end":return e.stop()}}),e)}))));var D=Object(g["e"])("env"),V=function(){var e="?evaluationPeriod=".concat(v.evaluation_period_id,"&regionCode=").concat(v.regionCode);window.open("".concat(D["VUE_APP_API_ENDPOINT"],"/download-evaluation-report").concat(e),"_blank")},k=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G["a"].regions().then(function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.value=t.data;case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==v.regionCode){e.next=6;break}return v.provinceId=-1,v.cityId=-1,e.next=5,G["a"].regionProvinces(v.regionCode).then((function(e){c.value=e.data}));case 5:return e.abrupt("return",e.sent);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),x=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==v.provinceId){e.next=5;break}return v.cityId=-1,e.next=4,G["a"].regionProducerArea(v.provinceId).then((function(e){l.value=e.data}));case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",v);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(e){s.value=e,u.value=!0},C=function(){var e=Object(p["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:f.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(p["a"])(regeneratorRuntime.mark((function e(){var t,a,n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=s.value,a=t.producer_code,n=t.province_id,r=t.city_id,e.next=3,P["a"].setAllocation({registration_period_id:v.periodId,producer_code:a,province_id:n,city_id:r,total_distributor:d.notes}).then((function(e){O.value.refreshDataGrid(),m.value.refreshDataGrid(),b.a.success({title:"Data berhasil disimpan",position:"bottom-right"})})).catch((function(e){b.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})}));case 3:d.notes="",s.value=null,u.value=!1;case 6:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){O.value.refreshDataGrid(),m.value.refreshDataGrid()};return{tonnageAllocationLoading:a,distributorAllocationLoading:t,allocationData:j,registrationPeriod:n,registrationPeriods:r,loading:e,producers:o,regions:i,provinces:c,cities:l,filter:v,quartal:h,getRegions:k,getProvinces:w,getCities:x,dialogVisible:u,openFormActionDialog:N,updateTable:_,dialogData:s,dialogFormData:d,submitEvaluationDistributorForm:C,allocatedDataGrid:m,unallocatedDataGrid:O,refreshDataGrid:y,exportEvaluationData:V,filterFulfilled:Object(g["a"])((function(){return null!=v.kuartal&&null!=v.regionCode&&null!=v.evaluation_period_id}))}}});a("d572");const Oe=F()(me,[["render",s]]);t["default"]=Oe},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("8afd");function r(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},8836:function(e,t,a){"use strict";a("bd49")},a313:function(e,t,a){},bd49:function(e,t,a){},be89:function(e,t,a){"use strict";var n=a("c953"),r=function(e){return n["a"].post("/distributor-evaluation/approved/svp-pso",e)},o=function(e){return n["a"].post("/distributor-evaluation/approved/sevp-marketing",e)};t["a"]={setRecommendationSVPPso:r,setRecommendationSEVPMarketing:o}},d572:function(e,t,a){"use strict";a("a313")},eeae:function(e,t,a){"use strict";var n=a("c953"),r=function(e){return n["a"].post("/distributor-allocations",e)},o=function(e){return n["a"].get("/get-allocation/distributor".concat(e))},i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].post("/distributor-allocations/".concat(t,"/is-allocation-full"),e)};t["a"]={setAllocation:r,getAllocation:o,isAllocationFull:i}},fb27:function(e,t,a){"use strict";a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return m}));a("99af");var n=a("c953"),r="/distributor-regions",o=function(){return n["a"].get(r+"/regions")},i=function(){return n["a"].get(r+"/regions_by_vp")},c=function(){return n["a"].get(r+"/regions_by_wilayah")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/regions_by_anper/".concat(e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/regions-province/".concat(e))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(r+"/regions-province-anper/".concat(e,"/").concat(t))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(r+"/producer-area/".concat(e))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(r+"/producer-area-anper/".concat(e,"/").concat(t))},p=function(e){return n["a"].post(r,e)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(r+"/".concat(e),t)},f=function(e){return n["a"].delete(r+"/".concat(e))},m=function(e){return n["a"].post(r+"/".concat(e,"/verify"))};t["a"]={regions:o,regions_by_vp:i,regions_by_wilayah:c,regions_by_anper:l,regionProvinces:u,regionProvincesAnper:s,regionProducerArea:d,regionProducerAreaAnper:b,addDistributorRegions:p,updateDistributorRegions:g,deleteDistributorRegion:f,verifyDistributorRegion:m}}}]);