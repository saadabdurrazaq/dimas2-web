(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a1fc0a54"],{"1e9c":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n("1da1"),r=n("5530"),o=(n("96cf"),n("25a0")),c=n("8afd");function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=Object(c["p"])(!1),i=Object(c["o"])(Object(r["a"])({},t)),u=null;e&&(u=Object(o["a"])(e,Object(c["q"])(i)));var l=function(){for(var e in t)i[e]=t[e];u&&u.value.$reset()},s=function(e){var n=Object(c["q"])(i);for(var a in t)Object.hasOwnProperty.call(e,a)&&(n[a].value=e[a])},d=function(){var t=Object(a["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null!=e?(s(e),n.value=!0):(l(),n.value=!1);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(c["n"])("updateFormData",d),{updateMode:n,formData:i,validate:u,resetFormData:l,hydrateFormData:s,updateFormData:d}}},"2bc8":function(t,e,n){"use strict";n.r(e);var a=n("7a23"),r={class:"p-5"};function o(t,e,n,o,c,i){var u=Object(a["resolveComponent"])("data-grid"),l=Object(a["resolveComponent"])("document-form");return Object(a["openBlock"])(),Object(a["createBlock"])(l,{title:"Template Surat Pernyataan"},{default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])("div",r,[Object(a["createVNode"])(u)])]})),_:1})}var c=n("8afd"),i=n("c45b"),u=n("8468"),l={key:0,class:"flex"},s=Object(a["createTextVNode"])("Add"),d={key:0,class:"relative inline-block text-left mr-2"},f=Object(a["createTextVNode"])(" Update ");function p(t,e,n,r,o,c){var i=Object(a["resolveComponent"])("DxColumn"),p=Object(a["resolveComponent"])("DxPaging"),b=Object(a["resolveComponent"])("DxPager"),m=Object(a["resolveComponent"])("router-link"),v=Object(a["resolveComponent"])("DxDataGrid");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(v,{ref:"root","data-source":t.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:t.onSelectionChanged,onToolbarPreparing:e[4]||(e[4]=function(e){return t.onToolbarPreparing(e)})},{fileLink:Object(a["withCtx"])((function(e){var n=e.data;return[Object(a["createVNode"])("a",{class:"text-blue-600",href:t.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+n.data.file_path,target:"_blank"},"View File",8,["href"])]})),actionLeft:Object(a["withCtx"])((function(n){return Object(u["a"])(n),[0!=t.selectedData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",l,[Object(a["createVNode"])("button",{onClick:e[1]||(e[1]=function(){return t.clearSelection&&t.clearSelection.apply(t,arguments)}),class:"btn bg-white mr-2"}," Clear Selection ")])):(Object(a["openBlock"])(),Object(a["createBlock"])(m,{key:1,to:{name:"manage-template-surat-pernyataan.create"},class:"btn bg-white mr-2"},{default:Object(a["withCtx"])((function(){return[s]})),_:1},8,["to"]))]})),actionRight:Object(a["withCtx"])((function(n){return Object(u["a"])(n),[t.selectedData.length?(Object(a["openBlock"])(),Object(a["createBlock"])("div",d,[t.selectedData[0].is_active?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,onClick:e[2]||(e[2]=function(e){return t.deactivate(t.selectedData[0].id)}),class:"btn bg-theme-6 text-white"}," Deactivate ")):(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:1,onClick:e[3]||(e[3]=function(e){return t.activate(t.selectedData[0].id)}),class:"btn bg-theme-9 text-white"}," Activate ")),Object(a["createVNode"])(m,{to:{name:"manage-template-surat-pernyataan.update",params:{template_id:t.selectedData[0].id}},class:"btn bg-theme-1 text-white mr-2"},{default:Object(a["withCtx"])((function(){return[f]})),_:1},8,["to"])])):Object(a["createCommentVNode"])("",!0)]})),default:Object(a["withCtx"])((function(){return[Object(a["createVNode"])(i,{"data-field":"document_name","data-type":"string",caption:"Nama Dokumen"}),Object(a["createVNode"])(i,{"data-field":"file_path","data-type":"string",caption:"File","cell-template":"fileLink"}),Object(a["createVNode"])(i,{"data-field":"is_active","data-type":"boolean",caption:"Aktif"}),Object(a["createVNode"])(p,{"page-size":10}),Object(a["createVNode"])(b,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])])}n("0cfa");var b=n("5040"),m=n.n(b),v=n("1da1"),h=(n("96cf"),n("99af"),n("fb6a"),n("d30a")),O=n("2597"),g=n.n(O),j=n("c953"),D=n("54b5"),w=Object(a["defineComponent"])({components:{DxDataGrid:h["DxDataGrid"],DxColumn:h["DxColumn"],DxPaging:h["DxPaging"],DxPager:h["DxPager"],DxSorting:h["DxSorting"],DxHeaderFilter:h["DxHeaderFilter"],DxFilterRow:h["DxFilterRow"]},setup:function(t,e){var n=this,r=(e.emit,Object(a["ref"])(null)),o=Object(a["ref"])([]),c=Object(a["ref"])(!1);function i(t){return void 0!==t&&null!==t&&""!==t}Object(a["onMounted"])((function(){}));var u=Object(a["inject"])("env"),l=new g.a({key:"id",load:function(t){var e="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(n){n in t&&i(t[n])&&(e+="".concat(n,"=").concat(JSON.stringify(t[n]),"&"))})),e=e.slice(0,-1),j["a"].get("".concat(u["VUE_APP_API_ENDPOINT"],"/statement-letter-templates").concat(e)).then((function(t){return t.data})).catch((function(){throw"Data Loading Error"}))}}),s=Object(a["inject"])("updateFormData"),d=function(t){var e=t.selectedRowsData;o.value=e,s(e[0])},f=function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].activate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(v["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].deactivate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){r.value.instance.refresh()},h=function(){r.value.instance.clearSelection(),c.value=!1},O=function(t){t.toolbarOptions.items.unshift({location:"before",template:"actionLeft"},{location:"after",template:"actionRight"},{location:"after",widget:"dxButton",options:{icon:"refresh",onClick:b.bind(n)}})};return{store:l,onSelectionChanged:d,activate:f,deactivate:p,onToolbarPreparing:O,refreshDataGrid:b,clearSelection:h,root:r,selectedData:o,showDropdown:c,env:u}}}),k=n("6b0d"),x=n.n(k);const C=x()(w,[["render",p]]);var y=C,_=n("1e9c"),N={email:null,name:null,role_id:null},P=Object(c["c"])({components:{DocumentForm:i["a"],DataGrid:y},setup:function(){var t=Object(_["a"])(N),e=(t.updateMode,t.formData),n=(t.resetFormData,t.updateFormData);return Object(c["n"])("updateFormData",n),{formData:e}}});const F=x()(P,[["render",o]]);e["default"]=F},"54b5":function(t,e,n){"use strict";var a=n("c953"),r="/statement-letter-templates",o=function(){return a["a"].get(r)},c=function(t){return a["a"].post(r,t)},i=function(t){return a["a"].get(r+"/".concat(t))},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return a["a"].put(r+"/".concat(t),e)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return a["a"].put(r+"/".concat(t,"/activate"),e)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return httpClGient.put(r+"/".concat(t,"/deactivate"),e)},d="/statement-letters",f=function(){return a["a"].get(d)},p=function(t){return a["a"].post(d,t)},b=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return a["a"].put(d+"/".concat(t),e)},m=function(t,e){return a["a"].put("/distributors/".concat(t,"/statement-letters/save"),e)};e["a"]={get:o,add:c,show:i,update:u,activate:l,deactivate:s,add_letter:p,get_uploaded_letter:f,update_letter:b,bulkUpdate:m}},8468:function(t,e,n){"use strict";function a(t){if(null==t)throw new TypeError("Cannot destructure undefined")}n.d(e,"a",(function(){return a}))}}]);