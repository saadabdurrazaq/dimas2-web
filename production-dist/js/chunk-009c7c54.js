(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-009c7c54"],{2022:function(e,t,n){"use strict";var r=n("7a23"),c={class:"intro-y input-form"},a={class:"sm:ml-auto mt-1 sm:mt-0 text-xs text-gray-600"};function i(e,t,n,i,o,u){return Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["renderSlot"])(e.$slots,"label",{},(function(){return[Object(r["createVNode"])("label",{for:e.id,class:"form-label w-full flex flex-col sm:flex-row"},[Object(r["createTextVNode"])(Object(r["toDisplayString"])(e.label)+" ",1),Object(r["createVNode"])("span",a,Object(r["toDisplayString"])(e.rulesText),1)],8,["for"])]})),Object(r["renderSlot"])(e.$slots,"default",{slotScope:{id:e.id}}),null!=e.validationData?Object(r["renderSlot"])(e.$slots,"error-message",{key:0},(function(){return[e.validationData.$error?(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],{key:0},Object(r["renderList"])(e.validationData.$errors,(function(e,t){return Object(r["openBlock"])(),Object(r["createBlock"])("div",{key:t,class:"text-theme-6 mt-2"},Object(r["toDisplayString"])(e.$message),1)})),128)):Object(r["createCommentVNode"])("",!0)]})):Object(r["createCommentVNode"])("",!0)])}var o=Object(r["defineComponent"])({props:{validationData:{required:!1,default:null},label:{},rulesText:{},id:{}}}),u=n("6b0d"),l=n.n(u);const s=l()(o,[["render",i]]);t["a"]=s},af50:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n("1da1"),c=(n("96cf"),n("25a0"),n("8afd")),a=n("191b"),i=n("6c02"),o=n("5502");function u(e){var t=Object(c["p"])({}),n=Object(c["p"])(null),u=Object(i["c"])(),l=Object(o["d"])(),s=Object(c["p"])(!0),d=l.state.auth.user,b=Object(c["p"])([]),m=null,p=null;Object(c["k"])(Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(0==e){t.next=18;break}if("admin"!=u.meta.role){t.next=12;break}return m=u.params.distributor_id,p=u.query.registration_period,t.next=6,v();case 6:return t.next=8,k();case 8:return t.next=10,g();case 10:t.next=18;break;case 12:if(!d.has_registration_number){t.next=18;break}return m=l.state.auth.user.distributor.id,t.next=16,k();case 16:return t.next=18,g();case 18:s.value=!1;case 19:case"end":return t.stop()}}),t)}))));var j=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].approveDistributorBundleItem(m,p,e,n).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].rejectDistributorBundleItem(m,p,e,n).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),f=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].proposeDistributorBundleItemRevision(m,p,e,n).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var n=Object(r["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,a["a"].showBundleItemByType(m,e).then((function(e){t.value=e.data}));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),k=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].distributorBundleItemStatus(m,e).then((function(e){n.value=e.data.data}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].getVerificationActivities(m,e).then((function(e){b.value=e.data.data}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),w=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,a["a"].submitDistributorBundleItemRevision(m,p,e).then(function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,k();case 2:return e.next=4,g();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),x=Object(c["a"])((function(){if("distributor"==u.meta.role){if(null==n.value)return!0;if(n.value.need_revision)return!0}return!1}));return{bundleItem:t,bundleItemStatus:n,allowManage:x,approveBundleItem:j,rejectBundleItem:O,proposeBundleItemRevision:f,loading:s,verificationActivities:b,getVerificationActivities:g,submitRevision:w}}},c45b:function(e,t,n){"use strict";n("b0c0"),n("caad");var r=n("7a23"),c={class:"intro-y box"},a={class:"flex w-full"},i={class:"flex items-center"},o={class:"font-medium text-base mr-auto"},u={class:"flex items-center sm:ml-auto hover:-"},l={key:0,class:"bg-theme-14 text-gray-800 inline-block px-4 py-1 rounded-xl mr-2"},s={key:1},d={key:0,class:"bg-yellow-400 text-yellow-800 inline-block px-4 py-1 rounded-xl mr-2"},b=Object(r["createVNode"])("div",{class:"h-10"},null,-1),m={key:0,class:"px-5"},p={class:"ml-5 mt-3"},j={class:"font-semibold"},O={key:0},f=Object(r["createVNode"])("i",null,"No description provided",-1),v={key:1},k={class:"font-semibold"},g=Object(r["createTextVNode"])(),w=Object(r["createVNode"])("br",null,null,-1),x={key:0},I=Object(r["createVNode"])("i",null,"No description provided",-1),h={key:1},y={key:1,class:"px-5"},B=Object(r["createVNode"])("div",{class:"h-10"},null,-1),V={key:0,class:""},R={key:0,class:"grid grid-cols-1 gap-5 border-t p-5"},N={class:"col-span-1"},S={class:"col-span-1"},_={class:"w-100 grid grid-cols-3 gap-2"},C={key:1,class:"pb-5"};function D(e,t,n,D,A,T){var K=Object(r["resolveComponent"])("Maximize2Icon"),$=Object(r["resolveComponent"])("Minimize2Icon"),M=Object(r["resolveComponent"])("el-tab-pane"),F=Object(r["resolveComponent"])("el-timeline-item"),z=Object(r["resolveComponent"])("el-timeline"),U=Object(r["resolveComponent"])("el-tabs"),L=Object(r["resolveComponent"])("form-item");return Object(r["openBlock"])(),Object(r["createBlock"])("div",c,[Object(r["createVNode"])("div",{class:"flex items-center p-5 border-b rounded-t-md bg-gray-700 text-white border-gray-200 dark:border-dark-5 cursor-pointer",onClick:t[1]||(t[1]=function(t){return e.minimized=!e.minimized})},[Object(r["renderSlot"])(e.$slots,"title",{},(function(){return[Object(r["createVNode"])("div",a,[Object(r["createVNode"])("div",i,[Object(r["createVNode"])("h2",o,Object(r["toDisplayString"])(e.title),1)]),Object(r["createVNode"])("div",u,[e.isRegional?(Object(r["openBlock"])(),Object(r["createBlock"])("div",l," Dokumen Regional ")):Object(r["createCommentVNode"])("",!0),e.useVerificationButtons&&null!=e.bundleItemStatus?(Object(r["openBlock"])(),Object(r["createBlock"])("div",s,[e.bundleItemStatus.need_revision?(Object(r["openBlock"])(),Object(r["createBlock"])("div",d," Perlu Revisi ")):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0),e.minimized?(Object(r["openBlock"])(),Object(r["createBlock"])(K,{key:2,class:"w-4"})):(Object(r["openBlock"])(),Object(r["createBlock"])($,{key:3,class:"w-4"}))])])]}))]),Object(r["createVNode"])("div",{class:[{hidden:e.minimized},"pb-5"]},[e.useVerificationButtons&&(e.user.has_registration_number||"admin"==e.route.meta.role)&&0!=e.itemType?(Object(r["openBlock"])(),Object(r["createBlock"])(U,{key:0,modelValue:e.activeName,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.activeName=t}),class:"p-5"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])(M,{label:"Data",name:"first"},{default:Object(r["withCtx"])((function(){return[Object(r["renderSlot"])(e.$slots,"default",{user:e.user,bundleItemStatus:e.bundleItemStatus,allowManage:e.allowManage},(function(){return[b]})),null!=e.bundleItemStatus&&e.bundleItemStatus.need_revision&&"distributor"==e.user.role.name?(Object(r["openBlock"])(),Object(r["createBlock"])("div",m,[Object(r["createVNode"])("button",{onClick:t[2]||(t[2]=function(){return e.submitRevision&&e.submitRevision.apply(e,arguments)}),class:"btn bg-yellow-400 text-yellow-800 px-8"},"Kirim Revisi")])):Object(r["createCommentVNode"])("",!0)]})),_:3}),Object(r["createVNode"])(M,{label:"Status Verifikasi",name:"second"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",p,[Object(r["createVNode"])("button",{onClick:t[3]||(t[3]=function(){return e.getVerificationActivities&&e.getVerificationActivities.apply(e,arguments)}),class:"btn btn-default px-4 mb-4"}," Refresh "),Object(r["createVNode"])(z,null,{default:Object(r["withCtx"])((function(){return[(Object(r["openBlock"])(!0),Object(r["createBlock"])(r["Fragment"],null,Object(r["renderList"])(e.verificationActivities,(function(t,n){return Object(r["openBlock"])(),Object(r["createBlock"])(F,{key:n,timestamp:t.created_at},{default:Object(r["withCtx"])((function(){return["distributor"==e.route.meta.role?(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:0},[Object(r["createVNode"])("span",j,Object(r["toDisplayString"])(e.titleCase(t.action)),1),null==t.notes?(Object(r["openBlock"])(),Object(r["createBlock"])("p",O,[f])):(Object(r["openBlock"])(),Object(r["createBlock"])("p",v,Object(r["toDisplayString"])(t.notes),1))],64)):(Object(r["openBlock"])(),Object(r["createBlock"])(r["Fragment"],{key:1},[Object(r["createVNode"])("p",null,[Object(r["createVNode"])("span",k,Object(r["toDisplayString"])(e.titleCase(t.action)),1),g,w,Object(r["createTextVNode"])(Object(r["toDisplayString"])(t.created_by_user_email)+" ("+Object(r["toDisplayString"])(t.created_by_role_name)+")",1)]),null==t.notes?(Object(r["openBlock"])(),Object(r["createBlock"])("p",x,[I])):(Object(r["openBlock"])(),Object(r["createBlock"])("p",h,Object(r["toDisplayString"])(t.notes),1))],64))]})),_:2},1032,["timestamp"])})),128)),null!=e.bundleItemStatus&&e.bundleItemStatus.need_revision&&"distributor"==e.user.role.name?(Object(r["openBlock"])(),Object(r["createBlock"])(F,{key:e.verificationActivities.length+1},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("button",{onClick:t[4]||(t[4]=function(){return e.submitRevision&&e.submitRevision.apply(e,arguments)}),class:"btn bg-yellow-400 text-yellow-800 px-8"},"Kirim Revisi")]})),_:1})):Object(r["createCommentVNode"])("",!0)]})),_:1})])]})),_:1})]})),_:1},8,["modelValue"])):(Object(r["openBlock"])(),Object(r["createBlock"])("div",y,[Object(r["renderSlot"])(e.$slots,"default",{user:e.user,bundleItemStatus:e.bundleItemStatus,allowManage:e.allowManage},(function(){return[B]}))]))],2),"admin"==e.route.meta.role&&e.useVerificationButtons&&["vp_sales_region","ae_avp"].includes(e.user.role.name)&&!e.loading?(Object(r["openBlock"])(),Object(r["createBlock"])("div",V,[!["SUDAH_DIVERIFIKASI","DITOLAK"].includes(e.bundleItem.verification_status)&&["TIDAK_ADA_REVISI","SUDAH_DIREVISI"].includes(e.bundleItem.revision_status)?(Object(r["openBlock"])(),Object(r["createBlock"])("div",R,[Object(r["createVNode"])("div",N,[Object(r["createVNode"])(L,{label:"Catatan Verifikasi"},{default:Object(r["withCtx"])((function(){return[Object(r["withDirectives"])(Object(r["createVNode"])("textarea",{readonly:["SUDAH_DIVERIFIKASI","DITOLAK"].includes(e.bundleItem.verification_status),"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.notes=t}),class:"form-control"},null,8,["readonly"]),[[r["vModelText"],e.notes]])]})),_:1})]),Object(r["createVNode"])("div",S,[Object(r["createVNode"])(L,{label:"Action"},{default:Object(r["withCtx"])((function(){return[Object(r["createVNode"])("div",_,[Object(r["createVNode"])("button",{disabled:["SUDAH_DIVERIFIKASI","DITOLAK"].includes(e.bundleItemStatus.verification_status),onClick:t[7]||(t[7]=function(t){return e.rejectBundleItem(e.notes)}),class:"btn bg-theme-6 text-white disabled:opacity-50 disabled:cursor-not-allowed"}," Tolak ",8,["disabled"]),Object(r["createVNode"])("button",{disabled:["SUDAH_DIVERIFIKASI","DITOLAK"].includes(e.bundleItemStatus.verification_status),onClick:t[8]||(t[8]=function(t){return e.proposeBundleItemRevision(e.notes)}),class:"btn bg-theme-12 text-white disabled:opacity-50 disabled:cursor-not-allowed"}," Revisi ",8,["disabled"]),Object(r["createVNode"])("button",{disabled:["SUDAH_DIVERIFIKASI","DITOLAK"].includes(e.bundleItemStatus.verification_status),onClick:t[9]||(t[9]=function(t){return e.approveBundleItem(e.notes)}),class:"btn bg-theme-9 text-white disabled:opacity-50 disabled:cursor-not-allowed"}," Setuju ",8,["disabled"])])]})),_:1})])])):Object(r["createCommentVNode"])("",!0)])):Object(r["createCommentVNode"])("",!0),e.minimized?(Object(r["openBlock"])(),Object(r["createBlock"])("div",C)):Object(r["createCommentVNode"])("",!0)])}n("ac1f"),n("5319");var A=n("8afd"),T=n("6c02"),K=n("4360"),$=n("2022"),M=n("af50"),F=Object(A["c"])({setup:function(e){var t=Object(K["b"])(),n=Object(T["c"])(),r=Object(A["p"])(""),c=Object(A["a"])((function(){return t.state.auth.user})),a=Object(A["p"])("first"),i=function(e){return e.replace(/([^A-Z])([A-Z])/g,"$1 $2").replace(/[_\-]+/g," ").toLowerCase().replace(/(^\w|\b\w)/g,(function(e){return e.toUpperCase()})).replace(/\s+/g," ").replace(/^\s+|\s+$/,"")};if(0!=e.itemType){var o=Object(M["a"])(e.itemType),u=o.loading,l=o.bundleItem,s=o.bundleItemStatus,d=o.allowManage,b=o.approveBundleItem,m=o.rejectBundleItem,p=o.proposeBundleItemRevision,j=o.verificationActivities,O=o.getVerificationActivities,f=o.submitRevision;return{route:n,bundleItem:l,bundleItemStatus:s,allowManage:d,user:c,activeName:a,minimized:Object(A["p"])(!1),bundleItemApproval:w,approveBundleItem:b,rejectBundleItem:m,proposeBundleItemRevision:p,loading:u,notes:r,verificationActivities:j,getVerificationActivities:O,submitRevision:f,titleCase:i}}var v,k,g,w={},x=Object(A["o"])({}),I=function(){return!1},h=Object(A["p"])(!0),y=Object(A["o"])({verification_status:null});return{route:n,bundleItem:v,bundleItemStatus:y,allowManage:x,user:c,activeName:a,minimized:Object(A["p"])(!1),bundleItemApproval:w,approveBundleItem:k,rejectBundleItem:g,proposeBundleItemRevision:I,loading:h,notes:r,titleCase:i}},components:{FormItem:$["a"]},props:{title:{required:!0},useVerificationButtons:{default:!0},isRegional:{default:!1},itemType:{default:!1}}}),z=n("6b0d"),U=n.n(z);const L=U()(F,[["render",D]]);t["a"]=L}}]);