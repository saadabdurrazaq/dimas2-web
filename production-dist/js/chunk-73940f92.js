(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-73940f92"],{"04d1":function(e,t,r){var n=r("342f"),a=n.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"0c92":function(e,t,r){"use strict";var n=r("c953"),a=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return n["a"].post("/bundle/".concat(e,"/approve"),{notes:t,allocation:r})},o=function(e,t){return n["a"].post("/bundle/".concat(e,"/reject"),{notes:t})},i=function(e,t){return n["a"].post("/distributors/".concat(e,"/bundle/approve"),{},{params:{registration_period:t}})},c=function(e,t){return n["a"].post("/distributors/".concat(e,"/bundle/reject"),{},{params:{registration_period:t}})},u=function(e,t){return n["a"].post("/distributors/".concat(e,"/bundle-items/verify-all"),{},{params:{registration_period:t}})},s=function(){return n["a"].post("/verification-bundle")};t["a"]={approveBundle:a,rejectBundle:o,approveDistributorBundle:i,rejectDistributorBundle:c,verifyAll:u,submitBundleForVerification:s}},"24a4":function(e,t,r){"use strict";(function(e){var n=r("8afd"),a=r("d30a"),o=r("4360"),i=r("8cb1"),c=r("6c02");t["a"]=Object(n["c"])({props:{templateData:{default:Object(n["p"])([])},regionCode:{required:!0}},components:{DxDataGrid:a["DxDataGrid"],DxColumn:a["DxColumn"],DxPaging:a["DxPaging"]},setup:function(t){var r=Object(n["p"])([]),a=Object(n["p"])(0),u=Object(o["b"])(),s=(u.state.auth.user,Object(c["c"])()),l=Object(n["a"])((function(){return _.sortBy(t.templateData,"id")}));function d(r){"data"==r.rowType&&r.data.hasOwnProperty("status_per_region")&&!r.data.status_per_region["region_".concat(t.regionCode)]["has_active_data"]&&r.data.status_per_region["region_".concat(t.regionCode)]["is_mandatory"]&&e(r.rowElement).addClass("bg-theme-6 text-white")}return{dataSource:r,regionSelection:a,documents:l,onRowPrepared:d,regionCode:t.regionCode,mapDistributorRoute:i["b"],mapAdminRoute:i["a"],route:s}}})}).call(this,r("e409"))},2611:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("8afd");function a(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"4d1e":function(e,t,r){"use strict";r("99af");var n=r("c953"),a=function(e){return n["a"].get("/distributor/".concat(e,"/documents"))},o=function(e){return n["a"].get("/bundle/".concat(e,"/documents"))},i=function(){return n["a"].get("/bundle")},c=function(e,t){return n["a"].get("/distributor/".concat(e,"/item-details-data/item-type/").concat(t))},u=function(e,t,r){return n["a"].post("/bundle/".concat(e,"/item-type/").concat(t,"/approve"),{notes:r})},s=function(e,t,r){return n["a"].post("/bundle/".concat(e,"/item-type/").concat(t,"/reject"),{notes:r})},l=function(e,t,r,a){return n["a"].post("/distributor/".concat(e,"/item-type/").concat(r,"/reject"),{notes:a},{params:{registration_period:t}})},d=function(e,t,r){return n["a"].post("/distributor/".concat(e,"/propose-revision-by-document-type"),{bundle_item_type_ids:t})},p=function(e,t){return n["a"].get("/distributor-evaluation/".concat(e,"/item-type/").concat(t))},b=function(e,t,r,a){return n["a"].post("/distributor-evaluation/".concat(e,"/item-type/").concat(t,"/approve"),{notes:r,bundleId:a})},m=function(e,t,r,a){return n["a"].post("/distributor-evaluation/".concat(e,"/item-type/").concat(t,"/propose-revision"),{notes:r,bundleId:a})},v=function(e){return n["a"].post("/distributor-evaluation/".concat(e,"/bundle"),{})},f=function(e,t){return n["a"].get("/distributor-evaluation/".concat(e,"/item-type/").concat(t,"/verification-activities"))},g=function(){return n["a"].post("/create-evaluation-proposal")},j=function(e){return n["a"].post("/distributor-evaluation/".concat(e,"/approve"))},O=function(e,t){return n["a"].get("/distributor-evaluation/".concat(e,"/item-type/").concat(t,"/status"))},h=function(e,t){return n["a"].post("/distributor-evaluation/".concat(e,"/item-type/").concat(t,"/submit-revision"),{})};t["a"]={getActiveDocuments:a,getBundleItemDetailData:c,getBundles:i,approveBundleItem:u,rejectBundleItem:s,approveDistributorBundleItem:b,rejectDistributorBundleItem:l,showBundleItemByType:p,getBundleActiveDocuments:o,distributorBundleItemStatus:O,getVerificationActivities:f,proposeDistributorBundleItemRevision:m,submitDistributorBundleItemRevision:h,proposeDistributorBundleItemsRevision:d,distributorEvaluationApprove:j,submitBundleForVerification:g,getEvaluationBundle:v}},"4e82":function(e,t,r){"use strict";var n=r("23e7"),a=r("59ed"),o=r("7b0b"),i=r("50c4"),c=r("577e"),u=r("d039"),s=r("addb"),l=r("a640"),d=r("04d1"),p=r("d998"),b=r("2d00"),m=r("512c"),v=[],f=v.sort,g=u((function(){v.sort(void 0)})),j=u((function(){v.sort(null)})),O=l("sort"),h=!u((function(){if(b)return b<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var e,t,r,n,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:t+n,v:r})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),k=g||!j||!O||!h,x=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};n({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(h)return void 0===e?f.call(t):f.call(t,e);var r,n,c=[],u=i(t.length);for(n=0;n<u;n++)n in t&&c.push(t[n]);c=s(c,x(e)),r=c.length,n=0;while(n<r)t[n]=c[n++];while(n<u)delete t[n++];return t}})},"512c":function(e,t,r){var n=r("342f"),a=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},"8d0f":function(e,t,r){"use strict";(function(e){r("d81d"),r("4fad");var n=r("8afd"),a=r("d30a"),o=r("4360"),i=r("6c02");t["a"]=Object(n["c"])({props:{templateData:{default:Object(n["p"])([])}},components:{DxDataGrid:a["DxDataGrid"],DxColumn:a["DxColumn"]},setup:function(t){var r=Object(n["p"])([]),a=Object(n["p"])(0),c=Object(o["b"])(),u=(Object(i["c"])(),c.state.auth.user,Object(n["a"])((function(){return t.templateData.data.status_per_region?Object.entries(t.templateData.data.status_per_region).map((function(e){return e[1]})):[]})));function s(t){"data"==t.rowType&&(t.data.has_active_data||e(t.rowElement).addClass("bg-theme-6 text-white"))}return{dataSource:r,regionSelection:a,statusPerRegion:u,onRowPrepared:s}}})}).call(this,r("e409"))},addb:function(e,t){var r=Math.floor,n=function(e,t){var i=e.length,c=r(i/2);return i<8?a(e,t):o(n(e.slice(0,c),t),n(e.slice(c),t),t)},a=function(e,t){var r,n,a=e.length,o=1;while(o<a){n=o,r=e[o];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},o=function(e,t,r){var n=e.length,a=t.length,o=0,i=0,c=[];while(o<n||i<a)o<n&&i<a?c.push(r(e[o],t[i])<=0?e[o++]:t[i++]):c.push(o<n?e[o++]:t[i++]);return c};e.exports=n},b857:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={class:"intro-y col-span-12 lg:col-span-12"},o={class:"p-5"};function i(e,t,r,i,c,u){var s=Object(n["resolveComponent"])("DocumentList"),l=Object(n["resolveComponent"])("document-form"),d=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",a,[Object(n["withDirectives"])(Object(n["createVNode"])(l,{title:"Status Verifikasi Dokumen",useVerificationButtons:!1},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",o,[e.loading?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0,onRefreshed:e.getDocumentList,hasActiveProposal:e.approvalAction.has_active_proposal,regions:e.regions,ref:"documentListTable"},null,8,["onRefreshed","hasActiveProposal","regions"]))])]})),_:1},512),[[d,e.loading]])])}r("0cfa");var c=r("5040"),u=r.n(c),s=r("1da1"),l=(r("43ea"),r("424b")),d=r.n(l),p=(r("398c"),r("b27e")),b=r.n(p),m=(r("96cf"),r("8afd")),v=r("c45b"),f=(r("b0c0"),Object(n["createVNode"])("p",{class:"mb-4 uppercase tracking-widest text-xs"},"Status Approval",-1)),g={class:"w-100 mb-1"},j={key:0,class:"bg-theme-9 text-white uppercase px-2 rounded-md"},O={key:1,class:"bg-theme-4 text-white uppercase px-2 rounded-md"},h={key:2,class:"bg-theme-6 text-white uppercase px-2 rounded-md"},k={class:"mb-2"},x={class:"mr-2"},w={class:"text-gray-600"},y={key:1,class:"mr-2"},D={key:0,class:"flex flex-col"},B={class:"flex flex-col"},C={key:0,class:"flex flex-col"},R=Object(n["createVNode"])("span",null,"Notes",-1),V={key:1,class:"flex flex-col"},N=Object(n["createVNode"])("span",null,"Notes",-1),S={key:2,class:"flex flex-col"},P=Object(n["createVNode"])("span",null,"Notes",-1),A={key:0,class:"my-2"},T={key:1,class:"my-2"};function I(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxMasterDetail"),s=Object(n["resolveComponent"])("el-card"),l=Object(n["resolveComponent"])("el-timeline-item"),d=Object(n["resolveComponent"])("el-timeline"),p=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":{filtering:!1,paging:!1,sorting:!1},"column-auto-width":!0,onToolbarPreparing:t[2]||(t[2]=function(t){return e.onToolbarPreparing(t)})},Object(n["createSlots"])({default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"region.name","data-type":"string",caption:"Region"}),Object(n["createVNode"])(c,{"data-field":"approval_data.in_progress_status_text",caption:"Status Approval"}),"distributor"!==e.user.role.name?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,class:"bg-white",enabled:!0,template:"approvalHistoryTemplate",autoExpandAll:!1})):Object(n["createCommentVNode"])("",!0)]})),_:2},["distributor"!==e.user.role.name?{name:"approvalHistoryTemplate",fn:Object(n["withCtx"])((function(r){var a=r.data;return[Object(n["createVNode"])("div",null,[f,Object(n["createVNode"])(d,null,{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(a.data.approval_history,(function(r,o){return Object(n["openBlock"])(),Object(n["createBlock"])(l,{key:r.id,"hide-timestamp":!0,type:e.getItemType(a.data,r),placement:"top"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(s,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",g,["success"===e.getItemType(a.data,r)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",j,"Approved")):Object(n["createCommentVNode"])("",!0),"primary"===e.getItemType(a.data,r)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",O,"In Progress")):Object(n["createCommentVNode"])("",!0),"danger"===e.getItemType(a.data,r)?(Object(n["openBlock"])(),Object(n["createBlock"])("span",h,"REJECTED")):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])("div",k,[null!=r.approval_status?(Object(n["openBlock"])(),Object(n["createBlock"])(n["Fragment"],{key:0},[Object(n["createVNode"])("span",x,Object(n["toDisplayString"])(r.in_progress_status_text)+" - "+Object(n["toDisplayString"])(r.approval_status.created_by_user_email),1),Object(n["createVNode"])("div",w,Object(n["toDisplayString"])(r.approval_status.created_at),1)],64)):(Object(n["openBlock"])(),Object(n["createBlock"])("span",y,Object(n["toDisplayString"])(r.in_progress_status_text),1))]),"vp_sales_region"!==e.user.role.name?(Object(n["openBlock"])(),Object(n["createBlock"])("div",D,[Object(n["createVNode"])("div",B,[a.data.level<r.level&&null!=r.approval_status?(Object(n["openBlock"])(),Object(n["createBlock"])("div",C,[R,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{readonly:a.data.level!==r.level,class:"form-control",rows:"2","onUpdate:modelValue":function(e){return r.approval_status.notes=e}},null,8,["readonly","onUpdate:modelValue"]),[[n["vModelText"],r.approval_status.notes]])])):"DITERIMA"===a.data.verification_status||null!=r.approval_status&&null!=r.approval_status.is_approved?(Object(n["openBlock"])(),Object(n["createBlock"])("div",V,[N,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{readonly:!0,class:"form-control",rows:"2","onUpdate:modelValue":function(e){return r.approval_status.notes=e}},null,8,["onUpdate:modelValue"]),[[n["vModelText"],r.approval_status.notes]])])):a.data.level===r.level&&a.data.allow_approval_action?(Object(n["openBlock"])(),Object(n["createBlock"])("div",S,[P,Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{class:"form-control",rows:"2","onUpdate:modelValue":t[1]||(t[1]=function(t){return e.approvalNote=t})},null,512),[[n["vModelText"],e.approvalNote]])])):Object(n["createCommentVNode"])("",!0)]),a.data.level===r.level&&a.data.allow_approval_action&&null==r.approval_status&&3!==r.level?(Object(n["openBlock"])(),Object(n["createBlock"])("div",A,[Object(n["createVNode"])("button",{onClick:function(t){return e.rejectBundle(a.data.id)},class:"bg-theme-6 text-white px-4 py-1 rounded-md mr-2"}," Reject ",8,["onClick"]),Object(n["createVNode"])("button",{onClick:function(t){return e.approveBundle(a.data.id)},class:"bg-theme-9 text-white px-4 py-1 rounded-md"}," Approve ",8,["onClick"])])):Object(n["createCommentVNode"])("",!0),a.data.level===r.level&&a.data.allow_approval_action&&null==r.approval_status&&3===r.level?(Object(n["openBlock"])(),Object(n["createBlock"])("div",T,[Object(n["createVNode"])("button",{onClick:function(t){return e.rejectBundle(a.data.id)},class:"bg-theme-6 text-white px-4 py-1 rounded-md mr-2"}," Not Recommended ",8,["onClick"]),Object(n["createVNode"])("button",{onClick:function(t){return e.approveBundle(a.data.id)},class:"bg-theme-9 text-white px-4 py-1 rounded-md"}," Recommended ",8,["onClick"])])):Object(n["createCommentVNode"])("",!0)])):Object(n["createCommentVNode"])("",!0)]})),_:2},1024)]})),_:2},1032,["type"])})),128))]})),_:2},1024)])]}))}:void 0]),1032,["data-source"])}r("99af");var G=r("d30a"),L=r("2597"),E=r.n(L),M=r("c953"),q=r("6c02"),F=r("4360"),K=r("0c92"),U=r("2611"),$=Object(n["defineComponent"])({components:{DxDataGrid:G["DxDataGrid"],DxColumn:G["DxColumn"],DxPaging:G["DxPaging"],DxPager:G["DxPager"],DxSorting:G["DxSorting"],DxHeaderFilter:G["DxHeaderFilter"],DxFilterRow:G["DxFilterRow"],DxMasterDetail:G["DxMasterDetail"]},props:{regionCode:{default:null}},setup:function(e,t){var r=this,a=(t.emit,Object(n["ref"])(null)),o=Object(q["c"])(),i=Object(F["b"])(),c=i.state.auth.user,l=Object(n["ref"])(null),d=Object(n["ref"])(0),p=Object(U["a"])(),b="";b="admin"==o.meta.role?o.params.distributor_id:c.distributor.id,Object(n["onMounted"])((function(){}));var m=Object(n["inject"])("env"),v=new E.a({key:"id",load:function(t){var r="".concat(m["VUE_APP_API_ENDPOINT"],"/distributors/").concat(b,"/bundles"),n={};return null!=e.regionCode&&(n.region_code=e.regionCode),"admin"==o.meta.role&&(n.registration_period=o.query.registration_period),M["a"].get(r,{params:n}).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),f=function(){a.value.instance.refresh()},g=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(r)}})},j=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p.$confirm("Setujui Approval Bundle?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"].approveBundle(t,l.value,d.value).then((function(e){u.a.success({title:"Bundle berhasil disetujui",position:"bottom-right"}),l.value=null,d.value=0,f()})).catch((function(){u.a.error({title:"Bundle gagal disetujui",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),O=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:p.$confirm("Tolak Approval Bundle?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"].rejectBundle(t,l.value).then((function(e){u.a.success({title:"Bundle berhasil ditolak",position:"bottom-right"}),l.value=null,d.value=0,f()})).catch((function(){u.a.error({title:"Proses gagal",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(e,t){if("DITERIMA"===e.verification_status)return"success";if(null!=t.approval_status){if(e.level>t.level&&t.approval_status.is_approved)return"success";if(!t.approval_status.is_approved)return"danger"}return e.level===t.level?"primary":"info"};return{customStore:v,refreshDataGrid:f,onToolbarPreparing:g,root:a,route:o,user:c,approveBundle:j,rejectBundle:O,getItemType:h,approvalNote:l,allocation:d}}}),z=r("6b0d"),H=r.n(z);const J=H()($,[["render",I]]);var W=J,Y=r("ebb1");function Q(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxMasterDetail"),s=Object(n["resolveComponent"])("DetailTemplate"),l=Object(n["resolveComponent"])("DxPaging"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"dataGrid",id:"grid-container","show-borders":!0,"data-source":e.dataSource,"key-expr":"id",paging:{enabled:!1,pageSize:50},onRowPrepared:e.onRowPrepared},{masterDetailTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])(s,{templateData:t},null,8,["templateData"])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"document_name",caption:"Nama Dokumen"}),Object(n["createVNode"])(c,{width:100,"data-field":"is_mandatory",caption:"Harus diisi","data-type":"boolean"}),Object(n["createVNode"])(u,{enabled:!0,template:"masterDetailTemplate",autoExpandAll:!0}),Object(n["createVNode"])(l,{"page-size":50})]})),_:1},8,["data-source","onRowPrepared"])}var X=r("191b");function Z(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(u,{"data-source":e.statusPerRegion,"show-borders":!0,"column-auto-width":!0,onRowPrepared:e.onRowPrepared},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{caption:"Region","data-field":"name"}),Object(n["createVNode"])(c,{caption:"Sudah diisi","data-field":"has_active_data"}),Object(n["createVNode"])(c,{"data-field":"verification_status",caption:"Status Verifikasi"})]})),_:1},8,["data-source","onRowPrepared"])])}var ee=r("8d0f");const te=H()(ee["a"],[["render",Z]]);var re=te,ne=Object(m["c"])({components:{DxDataGrid:G["DxDataGrid"],DxColumn:G["DxColumn"],DxMasterDetail:G["DxMasterDetail"],DetailTemplate:re,DxPaging:G["DxPaging"]},setup:function(){var e=Object(m["p"])([]),t=Object(F["b"])(),r=t.state.auth.user,n=Object(m["p"])(!1),a=Object(q["c"])(),o=Object(m["p"])({}),i=Object(m["p"])(null);Object(m["k"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c();case 2:case"end":return e.stop()}}),e)}))));var c=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",n="admin"==a.meta.role?a.params.distributor_id:r.distributor.id,t.next=4,X["a"].getActiveDocuments(n).then((function(t){e.value=t.data.documents,o.value=t.data.approval_action,u.value=_.sortBy(t.data.documents,"id")}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),u=Object(m["p"])([]),l=function(e){};return{activeDocumentList:e,isAgree:n,user:r,route:a,approvalAction:o,dataSource:u,onRowPrepared:l,dataGrid:i}}});const ae=H()(ne,[["render",Q]]);var oe=ae,ie={key:0},ce=Object(n["createVNode"])("p",null,"Bundles",-1),ue=Object(n["createVNode"])("p",null,"Documents",-1);function se(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxMasterDetail"),s=Object(n["resolveComponent"])("ApprovalBundle"),l=Object(n["resolveComponent"])("DetailTemplate"),d=Object(n["resolveComponent"])("DxPaging"),p=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{ref:"dataGrid",id:"grid-container","show-borders":!0,"data-source":e.dataSource,"key-expr":"code",paging:{enabled:!1,pageSize:50},onRowPrepared:e.onRowPrepared,"column-auto-width":!0},{masterDetailTemplate:Object(n["withCtx"])((function(t){var r=t.data;return[Object(n["createVNode"])("div",null,[e.hasActiveProposal?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ie,[ce,Object(n["createVNode"])(s,{ref:"approvalBundleDataGrid",class:"mb-4",regionCode:r.data.code},null,8,["regionCode"])])):Object(n["createCommentVNode"])("",!0),ue,Object(n["createVNode"])(l,{templateData:e.activeDocumentList,regionCode:r.data.code},null,8,["templateData","regionCode"])])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"name",caption:"Region"}),Object(n["createVNode"])(u,{class:"bg-white",enabled:!0,template:"masterDetailTemplate",autoExpandAll:!0}),Object(n["createVNode"])(d,{"page-size":50})]})),_:1},8,["data-source","onRowPrepared"])}var le=Object(n["createVNode"])("div",{class:"flex items-center mt-5"},[Object(n["createVNode"])("div",{class:"bg-theme-6 w-5 h-5 mr-2"}),Object(n["createVNode"])("p",null,"Document belum diisi")],-1);function de(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("router-link"),s=Object(n["resolveComponent"])("DxPaging"),l=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(l,{"data-source":e.documents,"show-borders":!0,"column-auto-width":!0,onRowPrepared:e.onRowPrepared},{documentName:Object(n["withCtx"])((function(t){var r=t.data;return[Object(n["createVNode"])("div",null,["admin"!=e.route.meta.role?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,target:"_blank",to:e.mapDistributorRoute()[r.data.id]},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.data.document_name),1)]})),_:2},1032,["to"])):(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:1,target:"_blank",to:e.mapAdminRoute(e.route.params.distributor_id,e.route.query.registration_period)[r.data.id]},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.data.document_name),1)]})),_:2},1032,["to"]))])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{width:"300",caption:"Dokumen","data-field":"document_name",cellTemplate:"documentName"}),Object(n["createVNode"])(c,{"data-type":"boolean",caption:"Mandatory","data-field":"status_per_region.region_"+e.regionCode+".is_mandatory"},null,8,["data-field"]),Object(n["createVNode"])(c,{"data-field":"status_per_region.region_"+e.regionCode+".verification_status","data-type":"boolean",caption:"Status Verifikasi",class:"status_verifikasi"},null,8,["data-field"]),Object(n["createVNode"])(c,{"data-field":"status_per_region.region_"+e.regionCode+".notes",caption:"Notes"},null,8,["data-field"]),Object(n["createVNode"])(s,{enabled:!1})]})),_:1},8,["data-source","onRowPrepared"]),le])}var pe=r("24a4");const be=H()(pe["a"],[["render",de]]);var me=be,ve=Object(m["c"])({components:{DxDataGrid:G["DxDataGrid"],DxColumn:G["DxColumn"],DxMasterDetail:G["DxMasterDetail"],DetailTemplate:me,DxPaging:G["DxPaging"],ApprovalBundle:W},props:{hasActiveProposal:{default:!1}},setup:function(){var e=Object(m["p"])([]),t=Object(F["b"])(),r=t.state.auth.user,n=Object(m["p"])(!1),a=Object(q["c"])(),o=Object(m["p"])({}),i=Object(m["p"])(null),c=Object(m["p"])(null);Object(m["k"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))));var u=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",n="admin"==a.meta.role?a.params.distributor_id:r.distributor.id,t.next=4,X["a"].getActiveDocuments(n).then((function(t){e.value=t.data.documents,o.value=t.data.approval_action,l.value=_.sortBy(t.data.regions,"code")}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),l=Object(m["p"])([]),d=function(e){};return{activeDocumentList:e,isAgree:n,user:r,route:a,approvalAction:o,dataSource:l,onRowPrepared:d,dataGrid:i,getDocumentList:u,approvalBundleDataGrid:c}}});const fe=H()(ve,[["render",se]]);var ge=fe,je={class:"mb-4 border-b pb-4"},Oe=Object(n["createVNode"])("h4",null,"Region Distributor",-1),he={class:"flex items-center mb-2"},ke=Object(n["createVNode"])("h4",null,"Status Verifikasi Dokumen",-1),xe={key:0,class:"mt-4 mb-1 py-4 border-t"},we=Object(n["createVNode"])("div",{class:"flex items-center mb-2"},[Object(n["createVNode"])("h4",null,"Catatan Revisi")],-1),_e={key:1,class:"py-5 text-right"},ye={key:2},De={key:0,class:"border border-t-0 p-5 flex items-center"},Be=Object(n["createVNode"])("p",null," Harap lengkapi dokumen mandatory yang belum terisi terlebih dahulu, sebelum melakukan pengajuan verifikasi data. ",-1),Ce={key:1},Re={class:"border border-t-0 border-b-0 p-5 flex items-center"},Ve={class:"mr-4"},Ne=Object(n["createVNode"])("p",null," Saya menyatakan bahwa seluruh pernyataan data dan informasi beserta seluruh dokumen yang saya lampirkan dalam berkas verifikasi adalah benar ",-1);function Se(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("distributor-regions"),u=Object(n["resolveComponent"])("detail-template"),s=Object(n["resolveComponent"])("el-input"),l=Object(n["resolveComponent"])("AlertCircleIcon"),d=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",je,[Oe,Object(n["createVNode"])(c)]),Object(n["withDirectives"])(Object(n["createVNode"])("div",null,[Object(n["createVNode"])("div",he,[ke,Object(n["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.getDocumentList&&e.getDocumentList.apply(e,arguments)}),class:"btn px-4 ml-auto"}," Refresh ")]),Object(n["createVNode"])(u,{ref:"documentListGrid",templateData:e.activeDocumentList,regions:e.regions,allowRevision:e.allowRevision},null,8,["templateData","regions","allowRevision"]),"admin"==e.route.meta.role&&"vp_sales_region"===e.user.role.name&&null!=e.evaluationBudle.note?(Object(n["openBlock"])(),Object(n["createBlock"])("div",xe,[we,Object(n["createVNode"])(s,{type:"textarea",readonly:"",autosize:{minRows:4,maxRows:6},placeholder:"Catatan Revisi",modelValue:e.evaluationBudle.note,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.evaluationBudle.note=t})},null,8,["modelValue"])])):Object(n["createCommentVNode"])("",!0),"admin"==e.route.meta.role&&"vp_sales_region"===e.user.role.name?(Object(n["openBlock"])(),Object(n["createBlock"])("div",_e,[!e.approvalAction.allow_approve||"DIAJUKAN_DISTRIBUTOR"!=e.evaluationBudle.verification_status&&"DIREVISI_WILAYAH"!=e.evaluationBudle.verification_status?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:t[3]||(t[3]=function(){return e.approve&&e.approve.apply(e,arguments)}),class:"btn bg-theme-9 text-white w-64"}," Ajukan ke SVP Wilayah "))])):Object(n["createCommentVNode"])("",!0),"admin"!=e.route.meta.role&&!e.approvalAction.has_active_proposal&&e.any_regions?(Object(n["openBlock"])(),Object(n["createBlock"])("div",ye,[e.approvalAction.all_documents_fulfilled?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ce,[Object(n["createVNode"])("div",Re,[Object(n["createVNode"])("div",Ve,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.isAgree=t}),type:"checkbox"},null,512),[[n["vModelCheckbox"],e.isAgree]])]),Ne]),Object(n["createVNode"])("button",{onClick:t[5]||(t[5]=function(){return e.submitForVerification&&e.submitForVerification.apply(e,arguments)}),disabled:!e.isAgree,class:[{"disabled:opacity-50 cursor-not-allowed":!e.isAgree},"btn rounded-none text-white bg-theme-9 w-full"]}," Ajukan Verifikasi Data ",10,["disabled"])])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",De,[Object(n["createVNode"])(l,{class:"mr-4"}),Be]))])):Object(n["createCommentVNode"])("",!0)],512),[[d,e.loading]])])}r("ac1f"),r("5319"),r("d81d");var Pe=r("a18c"),Ae=r("4d1e"),Te={key:0},Ie={key:0},Ge={key:1},Le=Object(n["createVNode"])("b",null,[Object(n["createVNode"])("i",null," (Data by System)")],-1),Ee={key:1},Me={key:0},qe=Object(n["createVNode"])("b",null,[Object(n["createVNode"])("i",null," (Data by Penjualan Wilayah)")],-1),Fe={key:0},Ke=Object(n["createVNode"])("b",null,[Object(n["createVNode"])("i",null," (Data by system)")],-1),Ue={key:1},$e=Object(n["createVNode"])("b",null,[Object(n["createVNode"])("i",null," (Data by Penjualan Wilayah)")],-1),ze={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mx-auto text-green-800",viewBox:"0 0 20 20",fill:"currentColor"},He=Object(n["createVNode"])("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),Je={key:1},We={key:2},Ye={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5 mx-auto text-green-800",viewBox:"0 0 20 20",fill:"currentColor"},Qe=Object(n["createVNode"])("path",{"fill-rule":"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z","clip-rule":"evenodd"},null,-1),Xe={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 mx-auto text-red-800",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Ze=Object(n["createVNode"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M6 18L18 6M6 6l12 12"},null,-1),et={key:2};function tt(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxSelection"),u=Object(n["resolveComponent"])("DxColumn"),s=Object(n["resolveComponent"])("router-link"),l=Object(n["resolveComponent"])("DxPaging"),d=Object(n["resolveComponent"])("DxDataGrid");return e.templateData.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Te,[Object(n["createVNode"])(d,{ref:"dataGrid","data-source":e.documents,"show-borders":!0,"column-auto-width":!0,onRowPrepared:e.onRowPrepared,onCellPrepared:e.onCellPrepared},{documentName:Object(n["withCtx"])((function(t){var r=t.data;return[Object(n["createVNode"])("div",null,["admin"!=e.route.meta.role&&"vp_sales_region"!=r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:0,target:"_blank",to:e.mapDistributorRoute()[r.data.id]},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.data.document_name)+" ",1),r.data.is_mandatory?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Ie,"*")):Object(n["createCommentVNode"])("",!0),"system"==r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Ge,[Le])):Object(n["createCommentVNode"])("",!0)]})),_:2},1032,["to"])):"admin"!=e.route.meta.role&&"vp_sales_region"==r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ee,[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.data.document_name)+" ",1),"vp_sales_region"==r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Me,[qe])):Object(n["createCommentVNode"])("",!0)])):(Object(n["openBlock"])(),Object(n["createBlock"])(s,{key:2,target:"_blank",to:e.mapAdminRoute(e.route.params.distributor_id,e.route.query.registration_period)[r.data.id]},{default:Object(n["withCtx"])((function(){return[Object(n["createTextVNode"])(Object(n["toDisplayString"])(r.data.document_name)+" ",1),"system"==r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Fe,[Ke])):Object(n["createCommentVNode"])("",!0),"vp_sales_region"==r.data.fulfiller?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Ue,[$e])):Object(n["createCommentVNode"])("",!0)]})),_:2},1032,["to"]))])]})),verificationStatus:Object(n["withCtx"])((function(e){var t=e.data;return["SUDAH_DIVERIFIKASI"===t.data["status_per_region"]["region_".concat(t.column.key)]["verification_status"]?(Object(n["openBlock"])(),Object(n["createBlock"])("svg",ze,[He])):"BELUM_DIVERIFIKASI"===t.data["status_per_region"]["region_".concat(t.column.key)]["verification_status"]&&null!==t.data["status_per_region"]["region_".concat(t.column.key)]["revision_status"]?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Je,Object(n["toDisplayString"])(t.data["status_per_region"]["region_".concat(t.column.key)]["revision_status"]),1)):(Object(n["openBlock"])(),Object(n["createBlock"])("span",We,"-"))]})),revisionStatus:Object(n["withCtx"])((function(e){var t=e.data;return["SUDAH_DIREVISI"===t.data["revision_status"]?(Object(n["openBlock"])(),Object(n["createBlock"])("svg",Ye,[Qe])):"PERLU_DIREVISI"===t.data["revision_status"]?(Object(n["openBlock"])(),Object(n["createBlock"])("svg",Xe,[Ze])):(Object(n["openBlock"])(),Object(n["createBlock"])("span",et,"-"))]})),default:Object(n["withCtx"])((function(){return["svp_region"==e.user.role.name&&e.allowRevision?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,mode:"multiple"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(u,{fixed:!0,caption:"Dokumen","data-field":"document_name",cellTemplate:"documentName"}),Object(n["createVNode"])(u,{caption:"Status Verifikasi"},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:e.code,caption:e.name,alignment:"center","data-field":"status_per_region.region_".concat(e.code,".verification_status"),cellTemplate:"verificationStatus"},null,8,["caption","data-field"])})),128))]})),_:1}),Object(n["createVNode"])(l,{enabled:!1})]})),_:1},8,["data-source","onRowPrepared","onCellPrepared"])])):Object(n["createCommentVNode"])("",!0)}var rt=r("c252");const nt=H()(rt["a"],[["render",tt]]);var at=nt;function ot(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("DxFilterRow"),s=Object(n["resolveComponent"])("DxPaging"),l=Object(n["resolveComponent"])("DxPager"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},"column-auto-width":!0,onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{cityNameCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t.data.cities.city_type)+" "+Object(n["toDisplayString"])(t.data.cities.city_name),1)]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"region.name","data-type":"string",caption:"Region"}),Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"provinces.province_name","data-type":"string",caption:"Provinsi"}),Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"cities.city_name","data-type":"string",caption:"Kota/Kabupaten","cell-template":"cityNameCellTemplate"}),Object(n["createVNode"])(u,{visible:!0}),Object(n["createVNode"])(s,{"page-size":10}),Object(n["createVNode"])(l,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}r("4de4"),r("4e82"),r("fb6a");var it=r("fb27"),ct=r("5502"),ut=Object(n["defineComponent"])({components:{DxDataGrid:G["DxDataGrid"],DxColumn:G["DxColumn"],DxPaging:G["DxPaging"],DxPager:G["DxPager"],DxSorting:G["DxSorting"],DxHeaderFilter:G["DxHeaderFilter"],DxFilterRow:G["DxFilterRow"]},setup:function(e,t){var r=this,a=(t.emit,Object(n["ref"])(null)),o=Object(q["c"])(),i=Object(ct["d"])();function c(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var l=Object(n["inject"])("env"),d=new E.a({key:"id",load:function(e){var t="?",r={};r.skip=e.skip,r.take=e.take,void 0!==e.filter&&(r.filter=[r.filter,"and",e.filter]),e.sort?r.sort=e.sort:r.sort=[{desc:!0,selector:"updated_at"}],r.requireTotalCount=!0,["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(e){e in r&&c(r[e])&&(t+="".concat(e,"=").concat(JSON.stringify(r[e]),"&"))})),t=t.slice(0,-1),0==t.length?t+="?distributor_id=".concat(o.params.distributor_id):t+="&distributor_id=".concat(o.params.distributor_id);var n="".concat(l["VUE_APP_API_ENDPOINT"],"/distributor-regions").concat(t);return M["a"].get(n).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),p=function(e){var t=e.selectedRowsData;updateFormData(t[0])},b=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["b"])(t).then((function(e){u.a.success({title:"Success",position:"bottom-right"}),v()})).catch((function(e){u.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(it["c"])(t).then((function(e){u.a.success({title:"Success",position:"bottom-right"}),v()})).catch((function(e){u.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){a.value.instance.refresh()},f=function(){a.value.instance.clearSelection()},g=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:v.bind(r)}})};return{store:i,customStore:d,onSelectionChanged:p,deleteRegion:b,onToolbarPreparing:g,refreshDataGrid:v,clearSelection:f,root:a,route:o,verifyRegion:m}}});const st=H()(ut,[["render",ot]]);var lt=st,dt=Object(m["c"])({components:{DxDataGrid:G["DxDataGrid"],DxColumn:G["DxColumn"],DxMasterDetail:G["DxMasterDetail"],DetailTemplate:at,DxPaging:G["DxPaging"],ApprovalBundle:W,DistributorRegions:lt},props:{hasActiveProposal:{default:!1}},setup:function(e,t){var r=t.emit,n=Object(m["p"])([]),a=Object(F["b"])(),o=a.state.auth.user,i=Object(m["p"])(!1),c=Object(q["c"])(),l=Object(m["p"])({}),d=Object(m["p"])(null),p=Object(m["p"])(null),b=Object(m["p"])(!1),v=Object(U["a"])(),f=Object(m["p"])(null),g=Object(m["p"])({}),j=Object(m["p"])([]),O=Object(m["p"])({});Object(m["k"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,h();case 2:case"end":return e.stop()}}),e)}))));var h=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r("refreshed"),t="",t="admin"==c.meta.role?c.params.distributor_id:o.distributor.id,b.value=!0,e.prev=4,e.next=7,Y["a"].getActiveDocuments(t).then((function(e){n.value=e.data.documents,l.value=e.data.approval_action,k.value=_.sortBy(e.data.regions,"code"),g.value=e.data,j.value=e.data.regions,O.value=e.data.distributor_evaluation}));case 7:return e.prev=7,b.value=!1,e.finish(7);case 10:case"end":return e.stop()}}),e,null,[[4,,7,10]])})));return function(){return e.apply(this,arguments)}}(),k=Object(m["p"])([]),x=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v.$confirm("Ajukan verifikasi proposal Penilaian Kinerja Distributor. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return b.value=!0,e.prev=1,e.next=4,Ae["a"].submitBundleForVerification().then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.a.success({title:"Success",message:"Proposal Penilaian Kinerja Distributor berhasil diajukan untuk verifikasi data.",position:"bottom-right"}),e.next=3,h();case 3:return e.next=5,a.dispatch("auth/refreshUserProfile");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=9;break;case 6:e.prev=6,e.t0=e["catch"](1),u.a.error({title:"Error",message:e.t0.data.message,position:"bottom-right"});case 9:return e.prev=9,b.value=!1,e.finish(9);case 12:case"end":return e.stop()}}),e,null,[[1,6,9,12]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:v.$confirm("Setujui proses verifikasi dokumen. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ae["a"].distributorEvaluationApprove(O.value.id).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:Pe["a"].replace({name:"admin-evaluation-verification.index"}),u.a.success({title:"Verifikasi dokumen berhasil disetujui",position:"bottom-right"});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),y=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,bundleApprovalService.verifyAll(c.params.distributor_id,c.query.registration_period).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,regionDocumentView.value.getDocumentList();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function D(){return B.apply(this,arguments)}function B(){return B=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Ae["a"],e.t1=c.params.distributor_id,e.next=4,f.value.dataGrid.instance.getSelectedRowsData();case 4:return e.t2=e.sent.map((function(e){return e.id})),e.next=7,e.t0.proposeDistributorBundleItemsRevision.call(e.t0,e.t1,e.t2);case 7:return e.next=9,h();case 9:case"end":return e.stop()}}),e)}))),B.apply(this,arguments)}return{activeDocumentList:n,isAgree:i,user:o,route:c,approvalAction:l,dataSource:k,dataGrid:d,getDocumentList:h,approvalBundleDataGrid:p,loading:b,verifyAll:y,approve:w,submitForVerification:x,proposeRevision:D,documentListGrid:f,documentData:g,allowRevision:Object(m["a"])((function(){return!g.value.related_bundles_already_approved&&!g.value.related_bundles_on_revision_hold})),any_regions:Object(m["a"])((function(){return j.value.length>0})),regions:j,evaluationBudle:O}}});const pt=H()(dt,[["render",Se]]);var bt=pt,mt=Object(m["c"])({components:{DocumentForm:v["a"],ElTabs:b.a,ElTabPane:d.a,ApprovalBundle:W,DocumentRegion:oe,RegionDocument:ge,DocumentList:bt},setup:function(){var e=Object(m["p"])([]),t=Object(F["b"])(),r=t.state.auth.user,n=Object(m["p"])(!1),a=Object(q["c"])(),o=Object(m["p"])({}),i=Object(m["p"])(null),c=Object(m["p"])(null),l=Object(U["a"])(),d=Object(m["p"])(!1),p=Object(m["p"])([]);Object(m["k"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:d.value=!0,d.value=!1;case 2:case"end":return e.stop()}}),e)}))));var b=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n="",n="admin"==a.meta.role?a.params.distributor_id:r.distributor.id,t.next=4,Y["a"].getActiveDocuments(n).then((function(t){e.value=t.data.documents,o.value=t.data.approval_action,p.value=t.data.regions}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.$confirm("Ajukan verifikasi data proposal kedistributoran. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return d.value=!0,e.prev=1,e.next=4,K["a"].submitBundleForVerification().then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,b();case 2:return e.next=4,t.dispatch("auth/refreshUserProfile");case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=8;break;case 6:e.prev=6,e.t0=e["catch"](1);case 8:return e.prev=8,d.value=!1,e.finish(8);case 11:case"end":return e.stop()}}),e,null,[[1,6,8,11]])}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.$confirm("Setujui proses verifikasi dokumen. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"].approveDistributorBundle(a.params.distributor_id,a.query.registration_period).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.a.success({title:"Verifikasi dokumen berhasil disetujui",position:"bottom-right"}),e.next=3,c.value.getDocumentList();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:l.$confirm("Tolak proses verifikasi dokumen. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"].rejectDistributorBundle(a.params.distributor_id,a.query.registration_period).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.a.success({title:"Verifikasi dokumen berhasil ditolak",position:"bottom-right"}),e.next=3,c.value.getDocumentList();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K["a"].verifyAll(a.params.distributor_id,a.query.registration_period).then(function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c.value.getDocumentList();case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=Object(m["p"])([]),h=function(e){};return{activeDocumentList:e,isAgree:n,user:r,route:a,approve:f,reject:g,submitForVerification:v,approvalAction:o,dataSource:O,onRowPrepared:h,dataGrid:i,verifyAll:j,regionDocumentView:c,loading:d,regions:p,getDocumentList:b}}});const vt=H()(mt,[["render",i]]);t["default"]=vt},b85c:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("a4d3"),r("e01a"),r("d3b7"),r("d28b"),r("3ca3"),r("ddb0");var n=r("06c5");function a(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Object(n["a"])(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,u=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return c=e.done,e},e:function(e){u=!0,i=e},f:function(){try{c||null==r["return"]||r["return"]()}finally{if(u)throw i}}}}},bcd7:function(e,t,r){"use strict";r.d(t,"b",(function(){return n})),r.d(t,"a",(function(){return a}));var n=function(){return{1:{name:"distributor-evaluation.demplot-and-socialization"},2:{name:"distributor-evaluation.demplot-and-socialization"},3:{name:"distributor-evaluation.collection-and-distribution"},4:{name:"distributor-evaluation.subsidy-report"},5:{name:"distributor-evaluation.media-reportation"},6:{name:"distributor-evaluation.e-rdkk"},7:{name:"distributor-evaluation.kiosk-performance-reports"},8:{name:"distributor-evaluation.collection-and-distribution"},9:{name:"distributor-evaluation.collection-and-distribution"},10:{name:"distributor-evaluation.collection-and-distribution"},11:{name:"distributor-evaluation.subsidy-report"},12:{name:"distributor-evaluation.pi-group-application"},13:{name:"distributor-evaluation.pi-group-application"},18:{name:"distributor-evaluation.collection-and-distribution"}}},a=function(e,t){return{1:{name:"admin-evaluation-document-verification.distributor-evaluation.demplot-and-socialization",params:{distributor_id:e},query:{registration_period:t}},2:{name:"admin-evaluation-document-verification.distributor-evaluation.demplot-and-socialization",params:{distributor_id:e},query:{registration_period:t}},3:{name:"admin-evaluation-document-verification.distributor-evaluation.collection-and-distribution",params:{distributor_id:e},query:{registration_period:t}},4:{name:"admin-evaluation-document-verification.distributor-evaluation.subsidy-report",params:{distributor_id:e},query:{registration_period:t}},5:{name:"admin-evaluation-document-verification.distributor-evaluation.media-reportation",params:{distributor_id:e},query:{registration_period:t}},6:{name:"admin-evaluation-document-verification.distributor-evaluation.e-rdkk",params:{distributor_id:e},query:{registration_period:t}},7:{name:"admin-evaluation-document-verification.distributor-evaluation.kiosk-performance-reports",params:{distributor_id:e},query:{registration_period:t}},8:{name:"admin-evaluation-document-verification.distributor-evaluation.collection-and-distribution",params:{distributor_id:e},query:{registration_period:t}},9:{name:"admin-evaluation-document-verification.distributor-evaluation.collection-and-distribution",params:{distributor_id:e},query:{registration_period:t}},10:{name:"admin-evaluation-document-verification.distributor-evaluation.collection-and-distribution",params:{distributor_id:e},query:{registration_period:t}},11:{name:"admin-evaluation-document-verification.distributor-evaluation.subsidy-report",params:{distributor_id:e},query:{registration_period:t}},12:{name:"admin-evaluation-document-verification.distributor-evaluation.pi-group-application",params:{distributor_id:e},query:{registration_period:t}},13:{name:"admin-evaluation-document-verification.distributor-evaluation.pi-group-application",params:{distributor_id:e},query:{registration_period:t}},14:{name:"admin-evaluation-verification.index"},15:{name:"admin-evaluation-document-verification.distributor-evaluation.distributor-compliance",params:{distributor_id:e},query:{registration_period:t}},16:{name:"admin-evaluation-document-verification.distributor-evaluation.f5-f6-correction",params:{distributor_id:e},query:{registration_period:t}},17:{name:"admin-evaluation-verification.index"},18:{name:"admin-evaluation-document-verification.distributor-evaluation.collection-and-distribution",params:{distributor_id:e},query:{registration_period:t}}}}},c252:function(e,t,r){"use strict";(function(e){var n=r("1da1"),a=r("b85c"),o=(r("96cf"),r("8afd")),i=r("d30a"),c=(r("191b"),r("4360")),u=r("bcd7"),s=r("6c02");t["a"]=Object(o["c"])({props:{templateData:{default:Object(o["p"])([])},regions:{required:!0},allowRevision:{required:!0}},components:{DxDataGrid:i["DxDataGrid"],DxColumn:i["DxColumn"],DxPaging:i["DxPaging"],DxSelection:i["DxSelection"]},setup:function(t){var r=Object(o["p"])([]),i=Object(o["p"])(0),l=Object(c["b"])(),d=l.state.auth.user,p=Object(s["c"])(),b=Object(o["p"])(null);Object(o["m"])((function(){}));var m=Object(o["a"])((function(){return _.sortBy(t.templateData,"order_number")}));function v(t){if("data"==t.rowType&&t.data.hasOwnProperty("any_empty_document")&&t.data.any_empty_document&&t.data.is_mandatory){var r,n=Object(a["a"])(t.rowElement.cells);try{for(n.s();!(r=n.n()).done;){var o=r.value;e(o).css("background","rgb(211, 41, 41)"),e(o).css("color","white")}}catch(i){n.e(i)}finally{n.f()}}}function f(e){}function g(){return j.apply(this,arguments)}function j(){return j=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),j.apply(this,arguments)}return{dataSource:r,regionSelection:i,documents:m,onRowPrepared:v,regionCode:t.regionCode,mapDistributorRoute:u["b"],mapAdminRoute:u["a"],route:p,dataGrid:b,proposeRevision:g,user:d,onCellPrepared:f}}})}).call(this,r("e409"))},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,o=r("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},ebb1:function(e,t,r){"use strict";r("99af");var n=r("c953"),a=function(e){return n["a"].get("/evaluation/distributor/".concat(e,"/documents"))},o=function(e){return n["a"].get("/bundle/".concat(e,"/documents"))},i=function(){return n["a"].get("/bundle")},c=function(e,t){return n["a"].get("/evaluation/distributor/".concat(e,"/item-details-data/item-type/").concat(t))},u=function(e,t,r){return n["a"].post("/bundle/".concat(e,"/item-type/").concat(t,"/approve"),{notes:r})},s=function(e,t,r){return n["a"].post("/bundle/".concat(e,"/item-type/").concat(t,"/reject"),{notes:r})},l=function(e,t,r,a){return n["a"].post("/evaluation/distributor/".concat(e,"/item-type/").concat(r,"/approve"),{notes:a},{params:{registration_period:t}})},d=function(e,t,r,a){return n["a"].post("/evaluation/distributor/".concat(e,"/item-type/").concat(r,"/reject"),{notes:a},{params:{registration_period:t}})},p=function(e,t,r,a){return n["a"].post("/evaluation/distributor/".concat(e,"/item-type/").concat(r,"/propose-revision"),{notes:a},{params:{registration_period:t}})},b=function(e,t,r){return n["a"].get("/evaluation/distributor/".concat(e,"/item-type/").concat(t,"/status"),{params:{registration_period:r}})},m=function(e,t,r){return n["a"].get("/evaluation/distributor/".concat(e,"/item-type/").concat(t,"/verification-activities"),{params:{registration_period:r}})},v=function(e,t,r){return n["a"].post("/evaluation/distributor/".concat(e,"/item-type/").concat(r,"/submit-revision"),{},{params:{registration_period:t}})},f=function(e,t){return n["a"].get("/evaluation/distributor/".concat(e,"/item-type/").concat(t))},g=function(e,t,r){return n["a"].post("/evaluation/distributor/".concat(e,"/propose-revision-by-document-type"),{bundle_item_type_ids:t})},j=function(e){return n["a"].post("/distributor-evaluation/rejected/wilayah",e)},O=function(e){return n["a"].post("/distributor-evaluation/approved/wilayah",e)},h=function(e){return n["a"].post("/distributor-evaluation/count-score",e)};t["a"]={getActiveDocuments:a,getBundleItemDetailData:c,getBundles:i,approveBundleItem:u,rejectBundleItem:s,approveDistributorBundleItem:l,rejectDistributorBundleItem:d,showBundleItemByType:f,getBundleActiveDocuments:o,distributorBundleItemStatus:b,getVerificationActivities:m,proposeDistributorBundleItemRevision:p,submitDistributorBundleItemRevision:v,proposeDistributorBundleItemsRevision:g,rejectSelected:j,approveSelected:O,countScore:h}},fb27:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return f}));r("99af");var n=r("c953"),a="/distributor-regions",o=function(){return n["a"].get(a+"/regions")},i=function(){return n["a"].get(a+"/regions_by_vp")},c=function(){return n["a"].get(a+"/regions_by_wilayah")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/regions_by_anper/".concat(e))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/regions-province/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(a+"/regions-province-anper/".concat(e,"/").concat(t))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/producer-area/".concat(e))},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(a+"/producer-area-anper/".concat(e,"/").concat(t))},b=function(e){return n["a"].post(a,e)},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(a+"/".concat(e),t)},v=function(e){return n["a"].delete(a+"/".concat(e))},f=function(e){return n["a"].post(a+"/".concat(e,"/verify"))};t["a"]={regions:o,regions_by_vp:i,regions_by_wilayah:c,regions_by_anper:u,regionProvinces:s,regionProvincesAnper:l,regionProducerArea:d,regionProducerAreaAnper:p,addDistributorRegions:b,updateDistributorRegions:m,deleteDistributorRegion:v,verifyDistributorRegion:f}}}]);