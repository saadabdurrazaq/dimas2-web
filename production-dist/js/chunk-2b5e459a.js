(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2b5e459a"],{"15fd":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("a4d3"),a("b64b");function n(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}function r(e,t){if(null==e)return{};var a,r,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)a=i[r],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(o[a]=e[a])}return o}},2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a("8afd");function r(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"3d5e":function(e,t,a){"use strict";a.r(t);var n=a("7a23"),r={class:"grid grid-cols-12 gap-6"};function o(e,t,a,o,i,c){var l=Object(n["resolveComponent"])("AktaPerusahaan"),u=Object(n["resolveComponent"])("NpwpPerusahaan");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",r,[Object(n["createVNode"])(l,{distributor:e.id_distributor},null,8,["distributor"]),Object(n["createVNode"])(u,{distributor:e.id_distributor},null,8,["distributor"])])])}var i={class:"intro-y col-span-12 lg:col-span-12"},c={class:"p-5"},l={class:""},u={class:"mt-3"},d={class:"sm:grid grid-cols-2 gap-2"},s={class:""},b={class:""},p={class:"mt-3"},m={class:"grid gap-2"},f={class:""},v=Object(n["createTextVNode"])("Click to upload"),O={class:"mt-3"},j={class:"sm:grid grid-cols-2 gap-2"},h={class:""},k={class:""},g={class:"mt-3"},w={class:"sm:grid grid-cols-2 gap-2"},_={class:""},N={class:""},x=Object(n["createTextVNode"])("Click to upload"),y={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},D={class:"intro-y input-form"},V=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status ",-1),C={class:"intro-y input-form"},P=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status Verifikasi ",-1),S={class:"flex w-full pt-5"},A={key:1,class:"ml-auto"},R={key:1};function T(e,t,a,r,o,T){var B=Object(n["resolveComponent"])("el-option"),F=Object(n["resolveComponent"])("el-select"),$=Object(n["resolveComponent"])("form-item"),G=Object(n["resolveComponent"])("el-date-picker"),I=Object(n["resolveComponent"])("el-button"),M=Object(n["resolveComponent"])("el-upload"),U=Object(n["resolveComponent"])("DataGrid"),q=Object(n["resolveComponent"])("document-form");return Object(n["openBlock"])(),Object(n["createBlock"])("div",i,[Object(n["createVNode"])(q,{title:"Akta Perusahaan",itemType:3},{default:Object(n["withCtx"])((function(a){var r=a.allowManage;return[Object(n["createVNode"])("div",c,[Object(n["createVNode"])("div",l,[Object(n["createVNode"])($,{label:"Tipe Akta","rules-text":"Required",validationData:e.validate.deed_type},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(F,{class:["form-control",{"border-theme-6":e.validate.deed_type.$error}],modelValue:e.validate.deed_type.$model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.deed_type.$model=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(B,{value:"Akta Pendirian"}),Object(n["createVNode"])(B,{value:"Akta Perubahan"})]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",u,[Object(n["createVNode"])("div",d,[Object(n["createVNode"])("div",s,[Object(n["createVNode"])($,{label:"Nomor Akta","rules-text":"Required",validationData:e.validate.deed_number},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nomor Akta",class:["form-control",{"border-theme-6":e.validate.deed_number.$error}],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.deed_number.$model=t})},null,2),[[n["vModelText"],e.validate.deed_number.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",b,[Object(n["createVNode"])($,{label:"Tanggal Akta","rules-text":"Required",validationData:e.validate.deed_date},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(G,{modelValue:e.validate.deed_date.$model,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.validate.deed_date.$model=t}),class:{"border-theme-6":e.validate.deed_date.$error},type:"date",placeholder:"Pick a day",format:"YYYY-MM-DD"},null,8,["modelValue","class"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",p,[Object(n["createVNode"])("div",m,[Object(n["createVNode"])("div",f,[Object(n["createVNode"])($,{label:"File Akta","rules-text":"Required",validationData:e.validate.deed_files,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(M,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onAktaUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.deed_files?[{name:"file-akta",url:e.formData.deed_files}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(I,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[v]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",O,[Object(n["createVNode"])("div",j,[Object(n["createVNode"])("div",h,[Object(n["createVNode"])($,{label:"Nama Notaris","rules-text":"Required",validationData:e.validate.notary_name},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nama Notaris",class:["form-control",{"border-theme-6":e.validate.notary_name.$error}],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.validate.notary_name.$model=t})},null,2),[[n["vModelText"],e.validate.notary_name.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",k,[Object(n["createVNode"])($,{label:"Alamat Notaris","rules-text":"Required",validationData:e.validate.notary_address},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Alamat Notaris",class:["form-control",{"border-theme-6":e.validate.notary_address.$error}],"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.validate.notary_address.$model=t})},null,2),[[n["vModelText"],e.validate.notary_address.$model]])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",g,[Object(n["createVNode"])("div",w,[Object(n["createVNode"])("div",_,[Object(n["createVNode"])($,{label:"Tanggal SK Menkumham","rules-text":"Required",validationData:e.validate.menkumham_decision_letter_date},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(G,{modelValue:e.validate.menkumham_decision_letter_date.$model,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.validate.menkumham_decision_letter_date.$model=t}),class:{"border-theme-6":e.validate.menkumham_decision_letter_date.$error},type:"date",placeholder:"Pick a day",format:"YYYY-MM-DD"},null,8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",N,[Object(n["createVNode"])($,{label:"File SK Menkumham","rules-text":"Required",validationData:e.validate.menkumham_decision_letter_file,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(M,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onSKUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.menkumham_decision_letter_file?[{name:"file-SK-Menkumham",url:e.formData.menkumham_decision_letter_file}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(I,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[x]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",y,[Object(n["createVNode"])("div",D,[V,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",C,[P,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",S,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[7]||(t[7]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),r?(Object(n["openBlock"])(),Object(n["createBlock"])("div",A,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[8]||(t[8]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",R,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[9]||(t[9]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[10]||(t[10]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ")]))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(U,{ref:"dataGrid",class:"m-5",allowManage:r},null,8,["allowManage"])]})),_:1})])}a("0cfa");var B=a("5040"),F=a.n(B),$=a("15fd"),G=a("1da1"),I=a("5530"),M=(a("d3b7"),a("96cf"),a("c45b")),U={key:0},q={key:1};function E(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",U," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",q," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"deed_type","data-type":"string",caption:"Tipe Akta"}),Object(n["createVNode"])(c,{"data-field":"deed_number","data-type":"string",caption:"Nomor Akta"}),Object(n["createVNode"])(c,{"data-field":"deed_date","data-type":"string",caption:"Tanggal Akta"}),Object(n["createVNode"])(c,{"data-field":"notary_name","data-type":"string",caption:"Nama Notaris"}),Object(n["createVNode"])(c,{"data-field":"notary_address","data-type":"string",caption:"Alamat Notaris"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}a("99af"),a("fb6a");var K=a("d30a"),z=a("2597"),L=a.n(z),Y=a("c953"),H="/legal-information/",W=function(){return Y["a"].get(H+"akta-perusahaan")},X=function(e){return Y["a"].post(H+"akta-perusahaan",e)},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"akta-perusahaan/".concat(e),t)},Q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"akta-perusahaan/".concat(e,"/activate"),t)},Z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"akta-perusahaan/".concat(e,"/deactivate"),t)},ee=function(){return Y["a"].get(H+"npwp-perusahaan")},te=function(e){return Y["a"].post(H+"npwp-perusahaan",e)},ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"npwp-perusahaan/".concat(e),t)},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"npwp-perusahaan/".concat(e,"/activate"),t)},re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"npwp-perusahaan/".concat(e,"/deactivate"),t)},oe=function(){return Y["a"].get(H+"pakta-integritas")},ie=function(e){return Y["a"].post(H+"pakta-integritas",e)},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"pakta-integritas/".concat(e),t)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"pakta-integritas/".concat(e,"/activate"),t)},ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return Y["a"].put(H+"pakta-integritas/".concat(e,"/deactivate"),t)},de={get_akta:W,add_akta:X,update_akta:J,activate_akta:Q,deactivate_akta:Z,get_npwp:ee,add_npwp:te,update_npwp:ae,activate_npwp:ne,deactivate_npwp:re,get_pakta:oe,add_pakta:ie,update_pakta:ce,activate_pakta:le,deactivate_pakta:ue},se=a("6c02"),be=Object(n["defineComponent"])({components:{DxDataGrid:K["DxDataGrid"],DxColumn:K["DxColumn"],DxPaging:K["DxPaging"],DxPager:K["DxPager"],DxSorting:K["DxSorting"],DxHeaderFilter:K["DxHeaderFilter"],DxFilterRow:K["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(se["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new L.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/legal-information/akta-perusahaan").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/3")),Y["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),d=function(e){var t=e.selectedRowsData;u(t[0])},s=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.activate_akta(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.deactivate_akta(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.value.instance.refresh()},m=function(){r.value.instance.clearSelection()},f=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:p.bind(a)}})};return{store:l,onSelectionChanged:d,activate:s,deactivate:b,onToolbarPreparing:f,refreshDataGrid:p,clearSelection:m,root:r,route:o}}}),pe=a("6b0d"),me=a.n(pe);const fe=me()(be,[["render",E]]);var ve=fe,Oe={id:null,deed_type:"Akta Pendirian",deed_number:null,deed_date:null,deed_files:null,notary_name:null,notary_address:null,menkumham_decision_letter_date:null,menkumham_decision_letter_file:null,is_active:!0,verification_status:null},je=a("25a0"),he=a("e3e1"),ke=a("2022"),ge=a("5502"),we=(a("af50"),a("2611")),_e=["id"],Ne=["id"],xe=Object(n["defineComponent"])({components:{DocumentForm:M["a"],DataGrid:ve,FormItem:ke["a"]},setup:function(){var e=Object(ge["d"])(),t=e.state.auth.user,a=(Object(se["c"])(),Object(we["a"])()),r=Object(n["ref"])(!1),o=Object(n["ref"])(!1),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(I["a"])({},Oe)),d={deed_type:{required:he["c"]},deed_number:{required:he["c"]},deed_date:{required:he["c"]},deed_files:{required:he["c"]},notary_name:{required:he["c"]},notary_address:{required:he["c"]},menkumham_decision_letter_date:{required:he["c"]},menkumham_decision_letter_file:{required:he["c"]}},s=Object(je["a"])(d,Object(n["toRefs"])(u)),b=function(){var e=Object(n["toRefs"])(u);for(var t in Oe)e[t].value=Oe[t];s.value.$reset()},p=function(e){var t=Object(n["toRefs"])(u);for(var a in Oe)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},m=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(p(t),r.value=!0):(b(),r.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):a.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object($["a"])(u,_e),a.distributor_id=t.distributor.id,o.value=!0,e.next=5,de.update_akta(u.id,a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.clearSelection(),i.value.refreshDataGrid(),b()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):a.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object($["a"])(u,Ne),a.distributor_id=t.distributor.id,o.value=!0,e.next=5,de.add_akta(a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),b()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,a){u.deed_files=e.id},j=function(e,t,a){u.menkumham_decision_letter_file=e.id},h=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",m),{env:l,formData:u,validate:s,dataGrid:i,updateMode:r,loading:o,save:f,add:v,resetFormData:b,onAktaUploadSuccees:O,onSKUploadSuccees:j,elUpload:c,handlePreview:h}}});a("b118");const ye=me()(xe,[["render",T]]);var De=ye,Ve={class:"intro-y col-span-12 lg:col-span-12"},Ce={class:"p-5"},Pe={class:""},Se={class:"mt-3"},Ae={class:"sm:grid grid-cols-2 gap-2"},Re={class:""},Te=Object(n["createTextVNode"])("Click to upload"),Be={class:""},Fe={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},$e={class:"intro-y input-form"},Ge=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status",-1),Ie={class:"intro-y input-form"},Me=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status Verifikasi",-1),Ue={class:"flex w-full pt-5"},qe={key:1,class:"ml-auto"},Ee={key:1};function Ke(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("form-item"),l=Object(n["resolveComponent"])("el-button"),u=Object(n["resolveComponent"])("el-upload"),d=Object(n["resolveComponent"])("el-date-picker"),s=Object(n["resolveComponent"])("DataGrid"),b=Object(n["resolveComponent"])("document-form"),p=Object(n["resolveDirective"])("maska");return Object(n["openBlock"])(),Object(n["createBlock"])("div",Ve,[Object(n["createVNode"])(b,{title:"NPWP",itemType:4},{default:Object(n["withCtx"])((function(a){var r=a.allowManage;return[Object(n["createVNode"])("div",Ce,[Object(n["createVNode"])("div",Pe,[Object(n["createVNode"])(c,{label:"Nomor NPWP","rules-text":"Required",validationData:e.validate.number},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"eg: 11.111.111.1-111.111",class:["form-control",{"border-theme-6":e.validate.number.$error}],"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.number.$model=t})},null,2),[[p,"##.###.###.#-###.###"],[n["vModelText"],e.validate.number.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",Se,[Object(n["createVNode"])("div",Ae,[Object(n["createVNode"])("div",Re,[Object(n["createVNode"])(c,{label:"File NPWP","rules-text":"Required",validationData:e.validate.file_path,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(u,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.file_path?[{name:"file-npwp",url:e.formData.file_path}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[Te]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",Be,[Object(n["createVNode"])(c,{label:"Tanggal NPWP","rules-text":"Required",validationData:e.validate.issued_date},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(d,{modelValue:e.validate.issued_date.$model,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.issued_date.$model=t}),class:{"border-theme-6":e.validate.issued_date.$error},type:"date",placeholder:"Pick a day",format:"YYYY-MM-DD"},null,8,["modelValue","class"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",Fe,[Object(n["createVNode"])("div",$e,[Ge,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",Ie,[Me,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",Ue,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[3]||(t[3]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),r?(Object(n["openBlock"])(),Object(n["createBlock"])("div",qe,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[4]||(t[4]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",Ee,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[5]||(t[5]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[6]||(t[6]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ")]))])):Object(n["createCommentVNode"])("",!0)])]),Object(n["createVNode"])(s,{ref:"dataGrid",class:"m-5",allowManage:r},null,8,["allowManage"])]})),_:1})])}var ze={key:0},Le={key:1};function Ye(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",ze," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",Le," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"number","data-type":"string",caption:"Nomor NPWP"}),Object(n["createVNode"])(c,{"data-field":"issued_date","data-type":"string",caption:"Tanggal Dikeluarkan"}),Object(n["createVNode"])(c,{allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var He=Object(n["defineComponent"])({components:{DxDataGrid:K["DxDataGrid"],DxColumn:K["DxColumn"],DxPaging:K["DxPaging"],DxPager:K["DxPager"],DxSorting:K["DxSorting"],DxHeaderFilter:K["DxHeaderFilter"],DxFilterRow:K["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(se["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new L.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/legal-information/npwp-perusahaan").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/4")),Y["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),d=function(e){var t=e.selectedRowsData;u(t[0])},s=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.activate_npwp(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.deactivate_npwp(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.value.instance.refresh()},m=function(){r.value.instance.clearSelection()},f=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:p.bind(a)}})};return{store:l,onSelectionChanged:d,activate:s,deactivate:b,onToolbarPreparing:f,refreshDataGrid:p,clearSelection:m,root:r,route:o}}});const We=me()(He,[["render",Ye]]);var Xe=We,Je={id:null,number:null,file_path:null,issued_date:null,is_active:!0,verification_status:null},Qe=["id"],Ze=["id"],et=Object(n["defineComponent"])({components:{DocumentForm:M["a"],DataGrid:Xe,FormItem:ke["a"]},setup:function(){var e=Object(ge["d"])(),t=(Object(se["c"])(),e.state.auth.user),a=Object(we["a"])(),r=Object(n["ref"])(!1),o=Object(n["ref"])(!1),i=Object(n["ref"])(null),c=Object(n["ref"])(null),l=Object(n["inject"])("env"),u=Object(n["reactive"])(Object(I["a"])({},Je)),d={number:{required:he["c"]},issued_date:{required:he["c"]},file_path:{required:he["c"]}},s=Object(je["a"])(d,Object(n["toRefs"])(u)),b=function(){var e=Object(n["toRefs"])(u);for(var t in Je)e[t].value=Je[t];s.value.$reset()},p=function(e){var t=Object(n["toRefs"])(u);for(var a in Je)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},m=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(p(t),r.value=!0):(b(),r.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):a.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object($["a"])(u,Qe),a.distributor_id=t.distributor.id,o.value=!0,e.next=5,de.update_npwp(u.id,a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),i.value.clearSelection(),c.value.clearFiles(),i.value.refreshDataGrid(),b()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):a.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return u.id,a=Object($["a"])(u,Ze),a.distributor_id=t.distributor.id,o.value=!0,e.next=5,de.add_npwp(a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),c.value.clearFiles(),i.value.refreshDataGrid(),b()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){o.value=!1}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),O=function(e,t,a){u.file_path=e.id},j=function(e){var t=window.open(l["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",m),{env:l,formData:u,validate:s,dataGrid:i,updateMode:r,loading:o,save:f,add:v,resetFormData:b,onUploadSuccees:O,elUpload:c,handlePreview:j}}});const tt=me()(et,[["render",Ke]]);var at=tt,nt={class:"intro-y col-span-12 lg:col-span-12"},rt={class:"p-5"},ot=Object(n["createVNode"])("div",{class:""},[Object(n["createVNode"])("div",{class:"form-control text-justify"},[Object(n["createTextVNode"])(" Note : Pakta integritas harus ditandatangani dan diupload kembali "),Object(n["createVNode"])("br"),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" PAKTA INTEGRITAS "),Object(n["createVNode"])("br"),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Saya yang bertanda tangan di bawah ini, Pimpinan Perusahaan/Direktur Utama (PT/CV/Lainnya) sebagai perwakilan perusahaan dalam rangka Pendaftaran Rekanan Baru di PT Pupuk Indonesia (Persero) Group dengan ini menyatakan dengan sebenarnya bahwa: "),Object(n["createVNode"])("br"),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Kami berjanji akan menyelenggarakan dan melaksanakan proses registrasi tersebut di atas secara bersih, transparan dan profesional untuk memberikan hasil kerja terbaik dan tidak akan melakukan praktik Korupsi, Kolusi dan Nepotisme (KKN). Kami berkomitmen untuk tidak akan melakukan atau terlibat dalam segala tindak Fraud dan menghindarkan diri dari perbuatan yang dapat mempermudah atau memberikan kesempatan kepada pihak tertentu untuk melakukan tindak Fraud serta menghindari pertentangan kepentingan (conflict of interest). Kami tidak akan memberikan sesuatu dalam bentuk apapun juga kepada pihak PT Pupuk Indonesia (Persero) Group dalam proses pendaftaran rekanan baru. Apabila terbukti melanggar hal-hal yang telah dinyatakan dalam PAKTA INTEGRITAS ini, maka kami bersedia dikenakan sanksi sesuai dengan ketentuan peraturan perundang-undangan yang berlaku. Pakta Integritas ini berlaku selama 2 (Dua) tahun terhitung sejak diterbitkan. Jika jangka waktu telah habis maka kami wajib memperbaharui. Bila ada perubahan Pimpinan Perusahaan/Direktur Utama (PT/CV/Lainnya), maka Pakta Integritas ini tidak berlaku dan akan diperbaharui. Demikian pernyataan ini dibuat untuk digunakan sebagaimana mestinya. "),Object(n["createVNode"])("br"),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Jakarta, 6-Feb-2021 "),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" PT...... "),Object(n["createVNode"])("br"),Object(n["createVNode"])("br"),Object(n["createTextVNode"])(" Direktur Utama ")])],-1),it={class:"mt-3"},ct={class:"sm:grid grid-cols-2 gap-2"},lt=Object(n["createVNode"])("div",{class:""},[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-primary w-24 mr-1"},"Unduh")],-1),ut={class:""},dt=Object(n["createTextVNode"])("Click to upload"),st={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},bt={class:"intro-y input-form"},pt=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status",-1),mt={class:"intro-y input-form"},ft=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"},"Status Verifikasi",-1),vt={class:"flex w-full pt-5"},Ot={class:"ml-auto"},jt={key:1};function ht(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("el-button"),l=Object(n["resolveComponent"])("el-upload"),u=Object(n["resolveComponent"])("form-item"),d=Object(n["resolveComponent"])("DataGrid"),s=Object(n["resolveComponent"])("document-form");return Object(n["openBlock"])(),Object(n["createBlock"])("div",nt,[Object(n["createVNode"])(s,{title:"Pakta Integritas"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",rt,[ot,Object(n["createVNode"])("div",it,[Object(n["createVNode"])("div",ct,[lt,Object(n["createVNode"])("div",ut,[Object(n["createVNode"])(u,{label:"File Pakta Integritas","rules-text":"Required",validationData:e.validate.file_path,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{ref:"elUpload",class:"upload-demo form-control",action:e.env["VUE_APP_API_ENDPOINT"]+"/files",headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"},"on-success":e.onUploadSuccees,"with-credentials":!0,"file-list":null!=e.formData.file_path?[{name:"file-pakta-integritas",url:e.formData.file_path}]:[],"on-preview":e.handlePreview},{tip:Object(n["withCtx"])((function(){return[]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{size:"small",type:"primary"},{default:Object(n["withCtx"])((function(){return[dt]})),_:1})]})),_:1},8,["action","on-success","file-list","on-preview"])]})),_:1},8,["validationData"])])])]),Object(n["createVNode"])("div",st,[Object(n["createVNode"])("div",bt,[pt,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",mt,[ft,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),Object(n["createVNode"])("div",vt,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[1]||(t[1]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",Ot,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-primary w-24 mr-2",onClick:t[2]||(t[2]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ")):(Object(n["openBlock"])(),Object(n["createBlock"])("div",jt,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[3]||(t[3]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{type:"button",class:"btn bg-theme-9 text-white w-24",onClick:t[4]||(t[4]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ")]))])])]),Object(n["createVNode"])(d,{ref:"dataGrid",class:"m-5"},null,512)]})),_:1})])}function kt(e,t,a,r,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),u=Object(n["resolveComponent"])("DxPager"),d=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(d,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{linkFile:Object(n["withCtx"])((function(t){var a=t.data;return[Object(n["createVNode"])("a",{href:e.env["VUE_APP_API_ENDPOINT"]+"/files?filePath="+a.data.file_path,target:"_blank"},"File",8,["href"])]})),cellTemplate:Object(n["withCtx"])((function(t){var a=t.data;return[a.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(a.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(a.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"file_path","data-type":"string",caption:"File Pakta Integritas","cell-template":"linkFile"}),Object(n["createVNode"])(c,{width:100,"data-field":"id",caption:"Aktivasi","cell-template":"cellTemplate"}),Object(n["createVNode"])(l,{"page-size":5}),Object(n["createVNode"])(u,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var gt=Object(n["defineComponent"])({components:{DxDataGrid:K["DxDataGrid"],DxColumn:K["DxColumn"],DxPaging:K["DxPaging"],DxPager:K["DxPager"],DxSorting:K["DxSorting"],DxHeaderFilter:K["DxHeaderFilter"],DxFilterRow:K["DxFilterRow"]},setup:function(e,t){var a=this,r=(t.emit,Object(n["ref"])(null)),o=Object(se["c"])();function i(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var c=Object(n["inject"])("env"),l=new L.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&i(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(c["VUE_APP_API_ENDPOINT"],"/legal-information/pakta-integritas").concat(t);return"admin"==o.meta.role&&(a="".concat(c["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/5")),Y["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=Object(n["inject"])("updateFormData"),d=function(e){var t=e.selectedRowsData;u(t[0])},s=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.activate_pakta(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),b=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,de.deactivate_pakta(t).then((function(e){F.a.success({title:"Success",position:"bottom-right"}),p()})).catch((function(e){F.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){r.value.instance.refresh()},m=function(){r.value.instance.clearSelection()},f=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:p.bind(a)}})};return{store:l,onSelectionChanged:d,activate:s,deactivate:b,onToolbarPreparing:f,refreshDataGrid:p,clearSelection:m,root:r,env:c}}});const wt=me()(gt,[["render",kt]]);var _t=wt,Nt={id:null,file_path:null,is_active:!0,verification_status:null},xt=["id"],yt=["id"],Dt=Object(n["defineComponent"])({components:{DocumentForm:M["a"],DataGrid:_t,FormItem:ke["a"]},setup:function(){var e=Object(ge["d"])(),t=e.state.auth.user,a=Object(n["ref"])(!1),r=Object(n["ref"])(!1),o=Object(n["ref"])(null),i=Object(n["ref"])(null),c=Object(n["inject"])("env"),l=Object(n["reactive"])(Object(I["a"])({},Nt)),u={file_path:{required:he["c"]}},d=Object(je["a"])(u,Object(n["toRefs"])(l)),s=function(){var e=Object(n["toRefs"])(l);for(var t in Nt)e[t].value=Nt[t];d.value.$reset()},b=function(e){var t=Object(n["toRefs"])(l);for(var a in Nt)Object.hasOwnProperty.call(e,a)&&(t[a].value=e[a])},p=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(b(t),a.value=!0):(s(),a.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),m=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d.value.$touch(),d.value.$invalid){e.next=9;break}return l.id,a=Object($["a"])(l,xt),a.distributor_id=t.distributor.id,r.value=!0,e.next=7,de.update_pakta(l.id,a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),i.value.clearFiles(),o.value.refreshDataGrid(),s()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 7:e.next=10;break;case 9:F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){var e=Object(G["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(d.value.$touch(),d.value.$invalid){e.next=9;break}return l.id,a=Object($["a"])(l,yt),a.distributor_id=t.distributor.id,r.value=!0,e.next=7,de.add_pakta(a).then((function(e){F.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),i.value.clearFiles(),o.value.refreshDataGrid(),s()})).catch((function(e){F.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){r.value=!1}));case 7:e.next=10;break;case 9:F.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(e,t,a){l.file_path=e.id},O=function(e){var t=window.open(c["VUE_APP_API_ENDPOINT"]+"/files?filePath="+e.url,"_blank");t.focus()};return Object(n["provide"])("updateFormData",p),{env:c,formData:l,validate:d,dataGrid:o,updateMode:a,loading:r,save:m,add:f,resetFormData:s,onUploadSuccees:v,elUpload:i,handlePreview:O}}});const Vt=me()(Dt,[["render",ht]]);var Ct=Vt,Pt=Object(n["defineComponent"])({components:{AktaPerusahaan:De,NpwpPerusahaan:at,PaktaIntegritas:Ct},data:function(){return{id_distributor:151}}});const St=me()(Pt,[["render",o]]);t["default"]=St},b118:function(e,t,a){"use strict";a("dd69")},dd69:function(e,t,a){}}]);