(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7865b094"],{2388:function(t,e,r){"use strict";var n=r("c953"),o="/company-management",i=function(){return n["a"].get(o)},a=function(t){return n["a"].post(o,t)},c=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return n["a"].put(o+"/".concat(t),e)},s=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return n["a"].put(o+"/".concat(t,"/activate"),e)},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return n["a"].put(o+"/".concat(t,"/deactivate"),e)};e["a"]={get:i,add:a,update:c,activate:s,deactivate:u}},"56dd":function(t,e,r){"use strict";var n=r("5530"),o=r("c953"),i=function(t){return o["a"].post("/registration-periods",Object(n["a"])({},t))},a=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1?arguments[1]:void 0;return o["a"].put("registration-periods/".concat(t),{data:e})},c=function(){return o["a"].get("/registration-periods/get-active")},s=function(){return o["a"].get("/registration-periods")},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].put("registration-periods/".concat(t,"/activate"))},d=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].put("registration-periods/".concat(t,"/deactivate"))},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return o["a"].get("registration-periods/get-period/".concat(t))};e["a"]={create:i,update:a,getActive:c,getAll:s,activate:u,deactivate:d,searchPeriodId:l}},cf94:function(t,e,r){"use strict";r.r(e);var n=r("7a23"),o={class:"p-5"},i=Object(n["createVNode"])("p",null,"Periode Registrasi:",-1),a={key:0,class:"text-xl"};function c(t,e,r,c,s,u){var d=Object(n["resolveComponent"])("data-grid"),l=Object(n["resolveComponent"])("el-tab-pane"),p=Object(n["resolveComponent"])("data-grid-revision"),b=Object(n["resolveComponent"])("el-tabs"),g=Object(n["resolveComponent"])("document-form");return Object(n["openBlock"])(),Object(n["createBlock"])(g,{title:"Daftar Verifikasi Data"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",o,[i,null!=t.registrationPeriod?(Object(n["openBlock"])(),Object(n["createBlock"])("p",a,Object(n["toDisplayString"])(t.registrationPeriod.period),1)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(b,null,{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{label:"Verifikasi Data",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[null!=t.registrationPeriod?(Object(n["openBlock"])(),Object(n["createBlock"])(d,{key:0,registrationPeriod:t.registrationPeriod},null,8,["registrationPeriod"])):Object(n["createCommentVNode"])("",!0)]})),_:1}),Object(n["createVNode"])(l,{label:"Dokumen Telah Direvisi",class:"pb-10"},{default:Object(n["withCtx"])((function(){return[null!=t.registrationPeriod?(Object(n["openBlock"])(),Object(n["createBlock"])(p,{key:0,registrationPeriod:t.registrationPeriod},null,8,["registrationPeriod"])):Object(n["createCommentVNode"])("",!0)]})),_:1})]})),_:1})])]})),_:1})}var s=r("1da1"),u=(r("96cf"),r("8afd")),d=r("c45b"),l={key:0},p={key:1},b=Object(n["createTextVNode"])(" Proses ");function g(t,e,r,o,i,a){var c=Object(n["resolveComponent"])("DxFilterRow"),s=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("router-link"),d=Object(n["resolveComponent"])("DxPaging"),g=Object(n["resolveComponent"])("DxPager"),f=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(f,{ref:"root","data-source":t.customStore,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!0},selection:{mode:"single"},onSelectionChanged:t.onSelectionChanged,onToolbarPreparing:e[1]||(e[1]=function(e){return t.onToolbarPreparing(e)})},{customerId:Object(n["withCtx"])((function(t){var e=t.data;return[e.data.distributor.sap_id?(Object(n["openBlock"])(),Object(n["createBlock"])("span",l,Object(n["toDisplayString"])(e.data.distributor.sap_id),1)):(Object(n["openBlock"])(),Object(n["createBlock"])("span",p,"NEW"))]})),cellTemplate:Object(n["withCtx"])((function(e){var r=e.data;return[Object(n["createVNode"])(u,{tag:"button",class:"btn btn-sm rounded-lg px-4",to:t.linkToProcessDocument(r)},{default:Object(n["withCtx"])((function(){return[b]})),_:2},1032,["to"])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{visible:!0}),Object(n["createVNode"])(s,{"data-field":"registration_number.formatted_number","data-type":"string",caption:"No Pendaftaran"}),Object(n["createVNode"])(s,{"data-field":"distributor.sap_id","data-type":"string",caption:"Customer ID","cell-template":"customerId"}),Object(n["createVNode"])(s,{"data-field":"distributor.name","data-type":"string",caption:"Nama Distributor"}),Object(n["createVNode"])(s,{"data-field":"distributor.classification","data-type":"string",caption:"Klasifikasi Distributor"}),Object(n["createVNode"])(s,{"data-field":"registration_number.created_at","data-type":"string",caption:"Tanggal Pendaftaran"}),Object(n["createVNode"])(s,{"data-field":"avp_verification_status","data-type":"string",caption:"Status Verifikasi Dokumen"}),Object(n["createVNode"])(s,{width:100,"data-field":"id",caption:"Action","cell-template":"cellTemplate"}),Object(n["createVNode"])(d,{"page-size":20}),Object(n["createVNode"])(g,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source","onSelectionChanged"])}r("0cfa");var f=r("5040"),m=r.n(f),v=(r("99af"),r("fb6a"),r("caad"),r("b0c0"),r("d30a")),O=r("2597"),j=r.n(O),h=r("c953"),D=r("2388"),x=r("4360"),k=Object(n["defineComponent"])({components:{DxDataGrid:v["DxDataGrid"],DxColumn:v["DxColumn"],DxPaging:v["DxPaging"],DxPager:v["DxPager"],DxSorting:v["DxSorting"],DxHeaderFilter:v["DxHeaderFilter"],DxFilterRow:v["DxFilterRow"]},props:["registrationPeriod"],setup:function(t,e){var r=this,o=(e.emit,Object(x["b"])()),i=Object(n["ref"])(null);Object(n["onMounted"])((function(){}));function a(t){return void 0!==t&&null!==t&&""!==t}var c=Object(n["inject"])("env"),u=new j.a({key:"distributor_id",load:function(e){var r="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(t){t in e&&a(e[t])&&(r+="".concat(t,"=").concat(JSON.stringify(e[t]),"&"))})),r=r.slice(0,-1),r+="&registration_period=".concat(t.registrationPeriod.id),h["a"].get("".concat(c["VUE_APP_API_ENDPOINT"],"/bundles/by-admin-region").concat(r)).then((function(t){return t.data})).catch((function(){throw"Data Loading Error"}))}}),d=function(t){t.selectedRowsData},l=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].activate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].deactivate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){i.value.instance.refresh()},g=function(){i.value.instance.clearSelection()},f=function(t){t.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:b.bind(r)}})},v=o.state.auth.user,O=function(e){return["svp_region","svp_pso_planning_management","sevp_marketing_ops","marketing_director"].includes(v.role.name)?{name:"admin-document-verification.distributor-profile.document-verification",params:{distributor_id:e.data.distributor_id},query:{registration_period:t.registrationPeriod.id}}:{name:"admin-document-verification.bundle",params:{distributor_id:e.data.distributor_id},query:{registration_period:t.registrationPeriod.id}}};return{customStore:u,onSelectionChanged:d,activate:l,deactivate:p,onToolbarPreparing:f,refreshDataGrid:b,clearSelection:g,root:i,linkToProcessDocument:O,user:v}}}),_=r("6b0d"),C=r.n(_);const P=C()(k,[["render",g]]);var w=P,N={key:0},y={key:1},V=Object(n["createTextVNode"])(" Proses ");function S(t,e,r,o,i,a){var c=Object(n["resolveComponent"])("DxFilterRow"),s=Object(n["resolveComponent"])("DxColumn"),u=Object(n["resolveComponent"])("router-link"),d=Object(n["resolveComponent"])("DxPaging"),l=Object(n["resolveComponent"])("DxPager"),p=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(p,{ref:"root","data-source":t.customStore,"show-borders":!0,"remote-operations":{paging:!0,filtering:!0,sorting:!0},selection:{mode:"single"},onSelectionChanged:t.onSelectionChanged,onToolbarPreparing:e[1]||(e[1]=function(e){return t.onToolbarPreparing(e)})},{customerId:Object(n["withCtx"])((function(t){var e=t.data;return[e.data.distributor.sap_id?(Object(n["openBlock"])(),Object(n["createBlock"])("span",N,Object(n["toDisplayString"])(e.data.distributor.sap_id),1)):(Object(n["openBlock"])(),Object(n["createBlock"])("span",y,"NEW"))]})),cellTemplate:Object(n["withCtx"])((function(e){var r=e.data;return[Object(n["createVNode"])(u,{tag:"button",class:"btn btn-sm rounded-lg px-4",to:t.linkToProcessDocument(r)},{default:Object(n["withCtx"])((function(){return[V]})),_:2},1032,["to"])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{visible:!0}),Object(n["createVNode"])(s,{"data-field":"registration_number.formatted_number","data-type":"string",caption:"No Pendaftaran"}),Object(n["createVNode"])(s,{"data-field":"distributor.sap_id","data-type":"string",caption:"Customer ID","cell-template":"customerId"}),Object(n["createVNode"])(s,{"data-field":"distributor.name","data-type":"string",caption:"Nama Distributor"}),Object(n["createVNode"])(s,{"data-field":"distributor.classification","data-type":"string",caption:"Klasifikasi Distributor"}),Object(n["createVNode"])(s,{"data-field":"registration_number.created_at","data-type":"string",caption:"Tanggal Pendaftaran"}),Object(n["createVNode"])(s,{width:100,"data-field":"id",caption:"Action","cell-template":"cellTemplate"}),Object(n["createVNode"])(d,{"page-size":20}),Object(n["createVNode"])(l,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20,50]})]})),_:1},8,["data-source","onSelectionChanged"])}var T=Object(n["defineComponent"])({components:{DxDataGrid:v["DxDataGrid"],DxColumn:v["DxColumn"],DxPaging:v["DxPaging"],DxPager:v["DxPager"],DxSorting:v["DxSorting"],DxHeaderFilter:v["DxHeaderFilter"],DxFilterRow:v["DxFilterRow"]},props:["registrationPeriod"],setup:function(t,e){var r=this,o=(e.emit,Object(x["b"])()),i=Object(n["ref"])(null);Object(n["onMounted"])((function(){}));function a(t){return void 0!==t&&null!==t&&""!==t}var c=Object(n["inject"])("env"),u=new j.a({key:"distributor_id",load:function(e){var r="?";return["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(t){t in e&&a(e[t])&&(r+="".concat(t,"=").concat(JSON.stringify(e[t]),"&"))})),r=r.slice(0,-1),r+="&registration_period=".concat(t.registrationPeriod.id),h["a"].get("".concat(c["VUE_APP_API_ENDPOINT"],"/bundles-revision/by-admin-region").concat(r)).then((function(t){return t.data})).catch((function(){throw"Data Loading Error"}))}}),d=function(t){t.selectedRowsData},l=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].activate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),p=function(){var t=Object(s["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,D["a"].deactivate(e).then((function(t){m.a.success({title:"Success",position:"bottom-right"}),b()})).catch((function(t){m.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),b=function(){i.value.instance.refresh()},g=function(){i.value.instance.clearSelection()},f=function(t){t.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:b.bind(r)}})},v=o.state.auth.user,O=function(e){return["svp_region","svp_pso_planning_management","sevp_marketing_ops","marketing_director"].includes(v.role.name),{name:"admin-document-verification.distributor-profile.document-verification",params:{distributor_id:e.data.distributor_id},query:{registration_period:t.registrationPeriod.id}}};return{customStore:u,onSelectionChanged:d,activate:l,deactivate:p,onToolbarPreparing:f,refreshDataGrid:b,clearSelection:g,root:i,linkToProcessDocument:O,user:v}}});const B=C()(T,[["render",S]]);var R=B,F=r("56dd"),G=Object(u["c"])({components:{DocumentForm:d["a"],DataGrid:w,DataGridRevision:R},setup:function(){var t=Object(u["p"])(null);return Object(u["m"])(Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,F["a"].getActive().then((function(e){t.value=e.data}));case 2:case"end":return e.stop()}}),e)})))),{registrationPeriod:t}}});const I=C()(G,[["render",c]]);e["default"]=I}}]);