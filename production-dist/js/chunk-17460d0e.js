(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-17460d0e"],{"04d1":function(e,t,r){var n=r("342f"),a=n.match(/firefox\/(\d+)/i);e.exports=!!a&&+a[1]},"0999":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("1da1"),a=(r("96cf"),r("d3b7"),r("8afd")),o=r("1d8d"),i=r("fb27");function c(e){var t=Object(a["p"])([]),r=Object(a["p"])([]),c=Object(a["p"])([]),l=Object(a["p"])([]),u=Object(a["p"])(!1),d=Object(a["p"])(!1),s=Object(a["p"])(!1),b=Object(a["p"])(!1),p=function(){var r=Object(n["a"])(regeneratorRuntime.mark((function r(){var n,a=arguments;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return n=!(a.length>0&&void 0!==a[0])||a[0],u.value=!0,r.next=4,o["a"].province().then((function(r){t.value=r.data,n&&(e.city_id=null,e.district_id=null,e.village_id=null)})).finally((function(){u.value=!1}));case 4:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),f=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var n,a,i=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=i.length>0&&void 0!==i[0]?i[0]:null,a=!(i.length>1&&void 0!==i[1])||i[1],d.value=!0,r.value=[],t.next=6,o["a"].city(n).then((function(t){r.value=t.data,a&&(e.city_id=null,e.district_id=null,e.village_id=null)})).finally((function(){d.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:null,n=!(a.length>1&&void 0!==a[1])||a[1],s.value=!0,c.value=[],t.next=6,o["a"].district(r).then((function(t){c.value=t.data,n&&(e.district_id=null,e.village_id=null)})).finally((function(){s.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),m=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:null,n=!(a.length>1&&void 0!==a[1])||a[1],b.value=!0,l.value=[],t.next=6,o["a"].village(r).then((function(t){l.value=t.data,n&&(e.village_id=null)})).finally((function(){b.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=Object(a["p"])([]),O=Object(a["p"])(!1),j=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=!(n.length>0&&void 0!==n[0])||n[0],O.value=!0,t.next=4,i["a"].regions().then((function(t){r&&(e.regions_code=null,e.regions_provinces_id=null,e.producer_area_city_id=null),g.value=t.data})).catch((function(e){})).finally((function(){u.value=!1}));case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=Object(a["p"])([]),y=Object(a["p"])(!1),_=function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var r,n,a=arguments;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=a.length>0&&void 0!==a[0]?a[0]:null,n=!(a.length>1&&void 0!==a[1])||a[1],y.value=!0,h.value=[],t.next=6,i["a"].regionProvinces(r).then((function(t){n&&(e.producer_area_city_id=null),h.value=t.data})).finally((function(){y.value=!1}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),k=Object(a["p"])([]),w=Object(a["p"])(!1),x=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(){var t,r=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=r.length>0&&void 0!==r[0]?r[0]:null,!(r.length>1&&void 0!==r[1])||r[1],w.value=!0,k.value=[],e.next=6,i["a"].regionProducerArea(t).then((function(e){k.value=e.data})).finally((function(){w.value=!1}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{provinces:t,getProvinces:p,provinceOptionsLoading:u,cities:r,getCities:f,cityOptionsLoading:d,districts:c,getDistricts:v,districtOptionsLoading:s,villages:l,getVillages:m,villageOptionsLoading:b,regions:g,getRegions:j,regionsOptionsLoading:O,regionProvinces:h,getRegionProvinces:_,regionProvincesOptionsLoading:y,regionProducerArea:k,getRegionProducerArea:x,regionProducerAreaOptionsLoading:w}}},"15fd":function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));r("a4d3"),r("b64b");function n(e,t){if(null==e)return{};var r,n,a={},o=Object.keys(e);for(n=0;n<o.length;n++)r=o[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function a(e,t){if(null==e)return{};var r,a,o=n(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(a=0;a<i.length;a++)r=i[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}},"1d8d":function(e,t,r){"use strict";var n=r("c953"),a="/teritorial",o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/province/".concat(e))},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/city/".concat(e))},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/district/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/village/".concat(e))};t["a"]={province:o,city:i,district:c,village:l}},"1e9c":function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("1da1"),a=r("5530"),o=(r("96cf"),r("25a0")),i=r("8afd");function c(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=Object(i["p"])(!1),c=Object(i["o"])(Object(a["a"])({},e)),l=null;t&&(l=Object(o["a"])(t,Object(i["q"])(c)));var u=function(){for(var t in e)c[t]=e[t];l&&l.value.$reset()},d=function(t){var r=Object(i["q"])(c);for(var n in e)Object.hasOwnProperty.call(t,n)&&(r[n].value=t[n])},s=function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:null!=t?(d(t),r.value=!0):(u(),r.value=!1);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(i["n"])("updateFormData",s),{updateMode:r,formData:c,validate:l,resetFormData:u,hydrateFormData:d,updateFormData:s}}},2611:function(e,t,r){"use strict";r.d(t,"a",(function(){return a}));var n=r("8afd");function a(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},"4e82":function(e,t,r){"use strict";var n=r("23e7"),a=r("59ed"),o=r("7b0b"),i=r("50c4"),c=r("577e"),l=r("d039"),u=r("addb"),d=r("a640"),s=r("04d1"),b=r("d998"),p=r("2d00"),f=r("512c"),v=[],m=v.sort,g=l((function(){v.sort(void 0)})),O=l((function(){v.sort(null)})),j=d("sort"),h=!l((function(){if(p)return p<70;if(!(s&&s>3)){if(b)return!0;if(f)return f<603;var e,t,r,n,a="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(n=0;n<47;n++)v.push({k:t+n,v:r})}for(v.sort((function(e,t){return t.v-e.v})),n=0;n<v.length;n++)t=v[n].k.charAt(0),a.charAt(a.length-1)!==t&&(a+=t);return"DGBEFHACIJK"!==a}})),y=g||!O||!j||!h,_=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:c(t)>c(r)?1:-1}};n({target:"Array",proto:!0,forced:y},{sort:function(e){void 0!==e&&a(e);var t=o(this);if(h)return void 0===e?m.call(t):m.call(t,e);var r,n,c=[],l=i(t.length);for(n=0;n<l;n++)n in t&&c.push(t[n]);c=u(c,_(e)),r=c.length,n=0;while(n<r)t[n]=c[n++];while(n<l)delete t[n++];return t}})},"512c":function(e,t,r){var n=r("342f"),a=n.match(/AppleWebKit\/(\d+)\./);e.exports=!!a&&+a[1]},"6eb3":function(e,t,r){"use strict";r("99af");var n=r("c953"),a="/distributors",o=function(e){return n["a"].get("".concat(a,"/").concat(e,"/regions"))},i=function(e){return n["a"].get("".concat(a,"/").concat(e,"/proposed-regions"))},c=function(e,t){return n["a"].get("".concat(a,"/").concat(e,"/proposed-regions/").concat(t,"/provinces"))},l=function(e,t,r){return n["a"].get("".concat(a,"/").concat(e,"/proposed-regions/").concat(t,"/provinces/").concat(r,"/cities"))};t["a"]={show:o,getProposedRegions:i,getProposedProvinces:c,getProposedCities:l}},7993:function(e,t,r){"use strict";r.r(t);var n=r("7a23"),a={class:"grid grid-cols-12 gap-6"};function o(e,t,r,o,i,c){var l=Object(n["resolveComponent"])("BusinessName"),u=Object(n["resolveComponent"])("DistributorRegions"),d=Object(n["resolveComponent"])("BusinessAddress");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])("div",a,[Object(n["createVNode"])(l),"admin"!=e.route.meta.role?(Object(n["openBlock"])(),Object(n["createBlock"])(u,{key:0,onUpdated:e.onDistributorRegionUpdated},null,8,["onUpdated"])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(d,{ref:"businessAddressPanel"},null,512)])])}var i=r("1da1"),c=(r("96cf"),r("c45b")),l=(r("b0c0"),{class:"intro-y col-span-12 lg:col-span-12"}),u={key:0,class:"grid grid-cols-1 gap-5 p-5 pb-0"},d={class:"grid grid-cols-2 gap-5 p-5 pt-5"},s={class:"mt-4 grid grid-cols-2 px-5 gap-5"},b={class:"intro-y input-form"},p=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Klasifikasi ",-1),f={key:1,class:"text-right pt-5"};function v(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("form-item"),v=Object(n["resolveComponent"])("el-option"),m=Object(n["resolveComponent"])("el-select"),g=Object(n["resolveComponent"])("document-form"),O=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",l,[Object(n["withDirectives"])(Object(n["createVNode"])(g,{title:"Nama Perusahaan",itemType:1},{default:Object(n["withCtx"])((function(r){var a=r.allowManage;return["AUTHORIZED_DISTRIBUTOR"==e.formData.classification?(Object(n["openBlock"])(),Object(n["createBlock"])("div",u,[Object(n["createVNode"])(c,{label:"Customer ID","rules-text":"*"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("input",{type:"text",class:"form-control",readonly:"",value:e.formData.sap_id},null,8,["value"])]})),_:1})])):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])("div",d,[Object(n["createVNode"])(c,{label:"Badan Usaha","rules-text":"Required",validationData:e.validate.business_entity_type},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{class:["form-control",{"border-theme-6":e.validate.business_entity_type.$error}],modelValue:e.validate.business_entity_type.$model,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.validate.business_entity_type.$model=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{value:"PT"}),Object(n["createVNode"])(v,{value:"CV"}),Object(n["createVNode"])(v,{value:"UD"}),Object(n["createVNode"])(v,{value:"KUD"}),Object(n["createVNode"])(v,{value:"Koperasi"}),Object(n["createVNode"])(v,{value:"PUSKUD"}),Object(n["createVNode"])(v,{value:"PD"})]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(c,{label:"Nama Distributor","rules-text":"Required",validationData:e.validate.name,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Nama Distributor",type:"text",class:["form-control",{"border-theme-6":e.validate.name.$error}],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.name.$model=t})},null,2),[[n["vModelText"],e.validate.name.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(c,{label:"Tipe","rules-text":"Required",validationData:e.validate.distributor_type.$model},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(m,{class:["form-control",{"border-theme-6":e.validate.distributor_type.$error}],modelValue:e.validate.distributor_type.$model,"onUpdate:modelValue":t[3]||(t[3]=function(t){return e.validate.distributor_type.$model=t})},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(v,{value:"Distributor"})]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(c,{label:"Direktur Utama","rules-text":"Required",validationData:e.validate.president_director,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{placeholder:"Direktur Utama",type:"text",class:["form-control",{"border-theme-6":e.validate.president_director.$error}],"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.validate.president_director.$model=t})},null,2),[[n["vModelText"],e.validate.president_director.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(c,{label:"Email Perusahaan","rules-text":"Required",validationData:e.validate.company_email},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.validate.company_email.$model=t}),type:"email",class:["form-control",{"border-theme-6":e.validate.company_email.$error}],placeholder:"distributor@mail.com"},null,2),[[n["vModelText"],e.validate.company_email.$model]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(c,{label:"Website Perusahaan",validationData:e.validate.company_website},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.validate.company_website.$model=t}),class:["form-control",{"border-theme-6":e.validate.company_website.$error}],placeholder:"https://distributor.com"},null,2),[[n["vModelText"],e.validate.company_website.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",s,[Object(n["createVNode"])("div",b,[p,Object(n["createVNode"])("input",{value:e.formData.classification,type:"text",readonly:"",class:"form-control"},null,8,["value"])])]),"distributor"==e.route.meta.role&&a?(Object(n["openBlock"])(),Object(n["createBlock"])("div",f,[Object(n["createVNode"])("button",{disabled:e.loading,type:"button",class:["btn btn-primary w-24 mr-4",{"cursor-not-allowed":e.loading}],onClick:t[7]||(t[7]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ",10,["disabled"])])):Object(n["createCommentVNode"])("",!0)]})),_:1},512),[[O,e.loading]])])}r("0cfa");var m=r("5040"),g=r.n(m),O=r("15fd"),j=(r("d3b7"),r("159b"),r("b64b"),r("8afd")),h=r("c953"),y="/",_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return h["a"].get(y+"distributor/".concat(e))},k=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return h["a"].put(y+"distributor/".concat(e),t)},w=function(e){return h["a"].post(y+"company-address",e)},x=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return h["a"].put(y+"company-address/".concat(e),t)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return h["a"].put(y+"company-address/".concat(e,"/activate"),t)},V=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return h["a"].put(y+"company-address/".concat(e,"/deactivate"),t)},C=r("e3e1"),R=r("25a0"),N=r("2022"),P=r("5502"),B=r("6c02"),S=r("191b"),A=(r("af50"),["id"]),T=Object(j["c"])({components:{DocumentForm:c["a"],FormItem:N["a"]},setup:function(){var e=Object(B["c"])(),t=Object(j["o"])({id:null,business_entity_type:"PT",distributor_type:"Distributor",name:null,president_director:null,company_email:null,company_website:null,classification:null,verification_status:null,sap_id:null}),r={business_entity_type:{required:C["c"]},distributor_type:{required:C["c"]},name:{required:C["c"]},president_director:{required:C["c"]},company_email:{required:C["c"]},company_website:{}},n=Object(R["b"])(r,Object(j["q"])(t)),a=Object(j["p"])(!0),o=Object(P["d"])(),c=o.state.auth.user,l="";"distributor"==c.role.name&&(l=c.distributor.id),Object(j["m"])(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,u();case 2:case"end":return e.stop()}}),e)}))));var u=function(){var r=Object(i["a"])(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if("distributor"!=c.role.name){r.next=5;break}return r.next=3,_(l).then((function(e){var r=e.data.data;Object.keys(t).forEach((function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}))})).finally((function(){a.value=!1}));case 3:r.next=7;break;case 5:return r.next=7,Object(S["b"])(e.params.distributor_id,1).then((function(e){var r=e.data.data;Object.keys(t).forEach((function(e){r.hasOwnProperty(e)&&(t[e]=r[e])}))})).finally((function(){a.value=!1}));case 7:case"end":return r.stop()}}),r)})));return function(){return r.apply(this,arguments)}}(),d=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n.value.$touch(),n.value.$invalid){e.next=9;break}return t.id,r=Object(O["a"])(t,A),r.distributor_id=l,a.value=!0,e.next=7,k(t.id,r).then(function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return g.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),e.next=3,u();case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){g.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){a.value=!1}));case 7:e.next=10;break;case 9:g.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"});case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{validate:n,formData:t,save:d,loading:a,route:e}}}),$=r("6b0d"),F=r.n($);const q=F()(T,[["render",v]]);var G=q,L={class:"intro-y col-span-12 lg:col-span-12"},M={class:"p-5"},U={class:"grid gap-5"},K={class:"mt-3 grid grid-cols-2 gap-5"},E={class:"flex w-full px-5"},I={key:1,class:"ml-auto"},H={key:1},z=Object(n["createVNode"])("hr",null,null,-1),J=Object(n["createVNode"])("h3",{class:"px-5 flex w-full mt-3"},"Produsen dan Produk sesuai Area",-1);function W(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("el-option"),l=Object(n["resolveComponent"])("el-select"),u=Object(n["resolveComponent"])("form-item"),d=Object(n["resolveComponent"])("DataGrid"),s=Object(n["resolveComponent"])("ProducerMappingDataGrid"),b=Object(n["resolveComponent"])("document-form"),p=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",L,[Object(n["withDirectives"])(Object(n["createVNode"])(b,{title:"Region Distributor",useVerificationButtons:!1},{default:Object(n["withCtx"])((function(r){var a=r.user;return[Object(n["createVNode"])("div",M,[Object(n["createVNode"])("div",U,[Object(n["createVNode"])(u,{label:"Region","rules-text":"Required",validationData:e.validate.regions_code,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{onChange:t[1]||(t[1]=function(t){return e.getRegionProvinces(t)}),modelValue:e.formData.regions_code,"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.formData.regions_code=t}),class:["form-control",{"border-theme-6":e.validate.regions_code.$error}],filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",K,[Object(n["createVNode"])(u,{label:"Provinsi","rules-text":"Required",class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{onChange:t[3]||(t[3]=function(t){return e.getRegionProducerArea(t)}),modelValue:e.formData.region_provinces_id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.region_provinces_id=t}),class:"form-control",disabled:null==e.formData.regions_code,loading:e.regionProvincesOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regionProvinces,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.province_id,label:e.provinces.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","disabled","loading"])]})),_:1}),Object(n["createVNode"])(u,{key:"",label:"Kota/Kabupaten","rules-text":"Required",class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.formData.producer_area_city_id,"onUpdate:modelValue":t[5]||(t[5]=function(t){return e.formData.producer_area_city_id=t}),class:"form-control",disabled:null==e.formData.region_provinces_id,loading:e.regionProducerAreaOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.regionProducerArea,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.city_id,label:e.cities.city_type+" "+e.cities.city_name,value:e.city_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","disabled","loading"])]})),_:1})])]),Object(n["createVNode"])("div",E,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[6]||(t[6]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),"distributor"!=e.route.meta.role||a.has_registration_number?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])("div",I,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn btn-primary w-24 mr-2"],type:"button",onClick:t[7]||(t[7]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ",10,["disabled"])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",H,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[8]||(t[8]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn bg-theme-9 text-white w-24"],type:"button",onClick:t[9]||(t[9]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ",10,["disabled"])]))]))]),Object(n["createVNode"])(d,{ref:"dataGrid",class:"m-5"},null,512),z,J,Object(n["createVNode"])(s,{ref:"producerMappingDataGrid",class:"mx-5"},null,512)]})),_:1},512),[[p,e.loading]])])}var Z=r("5530"),Q={key:0,class:""};function X(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxFilterRow"),u=Object(n["resolveComponent"])("DxPaging"),d=Object(n["resolveComponent"])("DxPager"),s=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(s,{ref:"root","data-source":e.customStore,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},"column-auto-width":!0,onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{cityNameCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t.data.cities.city_type)+" "+Object(n["toDisplayString"])(t.data.cities.city_name),1)]})),cellTemplate:Object(n["withCtx"])((function(t){var r=t.data;return["distributor"==e.route.meta.role?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Q,[Object(n["createVNode"])("button",{onClick:function(t){return e.deleteRegion(r.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Delete ",8,["onClick"])])):Object(n["createCommentVNode"])("",!0)]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"region.name","data-type":"string",caption:"Region"}),Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"provinces.province_name","data-type":"string",caption:"Provinsi"}),Object(n["createVNode"])(c,{allowSorting:!1,"data-field":"cities.city_name","data-type":"string",caption:"Kota/Kabupaten","cell-template":"cityNameCellTemplate"}),"distributor"!=e.route.meta.role||e.store.state.auth.user.has_registration_number?Object(n["createCommentVNode"])("",!0):(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})),Object(n["createVNode"])(l,{visible:!0}),Object(n["createVNode"])(u,{"page-size":10}),Object(n["createVNode"])(d,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}r("4de4"),r("4e82"),r("99af"),r("fb6a");var Y=r("d30a"),ee=r("2597"),te=r.n(ee),re=r("fb27"),ne=Object(n["defineComponent"])({components:{DxDataGrid:Y["DxDataGrid"],DxColumn:Y["DxColumn"],DxPaging:Y["DxPaging"],DxPager:Y["DxPager"],DxSorting:Y["DxSorting"],DxHeaderFilter:Y["DxHeaderFilter"],DxFilterRow:Y["DxFilterRow"]},setup:function(e,t){var r=this,a=(t.emit,Object(n["ref"])(null)),o=Object(B["c"])(),c=Object(P["d"])();function l(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var u=Object(n["inject"])("env"),d=new te.a({key:"id",load:function(e){var t="?",r={};r.skip=e.skip,r.take=e.take,void 0!==e.filter&&(r.filter=[r.filter,"and",e.filter]),e.sort?r.sort=e.sort:r.sort=[{desc:!0,selector:"updated_at"}],r.requireTotalCount=!0,["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(e){e in r&&l(r[e])&&(t+="".concat(e,"=").concat(JSON.stringify(r[e]),"&"))})),t=t.slice(0,-1);var n="".concat(u["VUE_APP_API_ENDPOINT"],"/distributor-regions").concat(t);return h["a"].get(n).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),s=Object(n["inject"])("updateFormData"),b=function(e){var t=e.selectedRowsData;s(t[0])},p=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(re["b"])(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),v()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(re["c"])(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),v()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),v=function(){a.value.instance.refresh()},m=function(){a.value.instance.clearSelection()},O=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:v.bind(r)}})};return{store:c,customStore:d,onSelectionChanged:b,deleteRegion:p,onToolbarPreparing:O,refreshDataGrid:v,clearSelection:m,root:a,route:o,verifyRegion:f}}});const ae=F()(ne,[["render",X]]);var oe=ae,ie={key:0};function ce(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(l,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,"column-auto-width":!0,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{cellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("div",null,[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(t.data.products,(function(e,r){return Object(n["openBlock"])(),Object(n["createBlock"])("span",{key:r},[Object(n["createTextVNode"])(Object(n["toDisplayString"])(e.product_name.name),1),r!=t.data.products.length-1?(Object(n["openBlock"])(),Object(n["createBlock"])("span",ie,", ")):Object(n["createCommentVNode"])("",!0)])})),128))])]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"producer.name","data-type":"string",caption:"Nama Produsen"}),Object(n["createVNode"])(c,{"data-field":"products",caption:"Produk","cell-template":"cellTemplate"})]})),_:1},8,["data-source"])}var le=Object(n["defineComponent"])({components:{DxDataGrid:Y["DxDataGrid"],DxColumn:Y["DxColumn"],DxPaging:Y["DxPaging"],DxPager:Y["DxPager"],DxSorting:Y["DxSorting"],DxHeaderFilter:Y["DxHeaderFilter"],DxFilterRow:Y["DxFilterRow"]},setup:function(e,t){var r=this,a=(t.emit,Object(n["ref"])(null)),o=Object(B["c"])();Object(n["onMounted"])((function(){}));var i=Object(n["inject"])("env"),c="".concat(i["VUE_APP_API_ENDPOINT"],"/distributor-regions/get-producers");"admin"===o.meta.role&&(c="".concat(i["VUE_APP_API_ENDPOINT"],"/distributors/").concat(o.params.distributor_id,"/producers"));var l=new te.a({key:"producer.producer_code",load:function(e){return h["a"].get(c).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),u=function(){a.value.instance.refresh()},d=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:u.bind(r)}})};return{store:l,refreshDataGrid:u,onToolbarPreparing:d,root:a,route:o}}});const ue=F()(le,[["render",ce]]);var de=ue,se={id:null,distributor_id:null,regions_code:null,region_provinces_id:null,producer_area_city_id:null},be=r("0999"),pe=r("2611"),fe=["id"],ve=["id"],me=Object(n["defineComponent"])({components:{DocumentForm:c["a"],DataGrid:oe,FormItem:N["a"],ProducerMappingDataGrid:de},setup:function(e,t){var r=t.emit,a=Object(n["reactive"])(Object(Z["a"])({},se)),o={regions_code:{required:C["c"]},region_provinces_id:{required:C["c"]},producer_area_city_id:{required:C["c"]}},c=Object(P["d"])(),l=Object(B["c"])(),u=Object(pe["a"])(),d=c.state.auth.user,s=Object(R["a"])(o,Object(n["toRefs"])(a)),b=Object(be["a"])(a),p=b.regions,f=b.getRegions,v=b.regionsOptionsLoading,m=b.regionProvinces,j=b.getRegionProvinces,h=b.regionProvincesOptionsLoading,y=b.regionProducerArea,_=b.getRegionProducerArea,k=b.regionProducerAreaOptionsLoading,w=Object(n["ref"])(!1),x=function(){var e=Object(n["toRefs"])(a);for(var t in se)e[t].value=se[t];s.value.$reset()},D=function(e){var t=Object(n["toRefs"])(a);for(var r in se)Object.hasOwnProperty.call(e,r)&&(t[r].value=e[r])},V=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t){e.next=13;break}return D(t),A.value=!0,w.value=!0,e.next=6,f(!1);case 6:return e.next=8,j(t.regions_code,!1);case 8:return e.next=10,_(t.region_provinces_id,!1);case 10:null!=y.value&&(A.value=!1),e.next=15;break;case 13:x(),w.value=!1;case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n["provide"])("updateFormData",V);var N=Object(n["ref"])(null),S=Object(n["ref"])(null);Object(n["onMounted"])(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:null!=p&&(A.value=!1);case 3:case"end":return e.stop()}}),e)}))));var A=Object(n["ref"])(!0),T=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?g.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):u.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.id,t=Object(O["a"])(a,fe),t.distributor_id=d.distributor.id,A.value=!0,e.next=5,re["a"].updateDistributorRegions(a.id,t).then((function(e){g.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),x(),N.value.clearSelection(),N.value.refreshDataGrid(),S.value.refreshDataGrid()})).catch((function(e){g.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){A.value=!1,r("updated")}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:s.value.$touch(),s.value.$invalid?g.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):u.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(i["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a.id,t=Object(O["a"])(a,ve),t.distributor_id=d.distributor.id,A.value=!0,e.next=5,re["a"].addDistributorRegions(t).then((function(e){g.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),x(),N.value.refreshDataGrid(),S.value.refreshDataGrid()})).catch((function(e){g.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){A.value=!1,r("updated")}));case 5:case"end":return e.stop()}}),e)})))).catch((function(){}));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return{formData:a,validate:s,dataGrid:N,producerMappingDataGrid:S,updateMode:w,loading:A,save:T,add:$,resetFormData:x,route:l,regions:p,getRegions:f,regionsOptionsLoading:v,regionProvinces:m,getRegionProvinces:j,regionProvincesOptionsLoading:h,regionProducerArea:y,getRegionProducerArea:_,regionProducerAreaOptionsLoading:k}},data:function(){return{}}});r("d68b");const ge=F()(me,[["render",W]]);var Oe=ge,je={class:"intro-y col-span-12 lg:col-span-12"},he={class:"p-5"},ye={class:"grid grid-cols-1 mb-5"},_e={class:"grid grid-cols-1 mb-5"},ke={class:"grid grid-cols-2 gap-5"},we={class:"border p-3 rounded-lg flex flex-row items-center"},xe={class:"inline-flex items-center mr-4"},De=Object(n["createVNode"])("span",{class:"ml-2"},"Pusat",-1),Ve={class:"inline-flex items-center"},Ce=Object(n["createVNode"])("span",{class:"ml-2"},"Cabang",-1),Re={class:"mt-4 grid grid-cols-2 gap-5 pb-5 border-b"},Ne={class:"intro-y input-form"},Pe=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status ",-1),Be={class:"intro-y input-form"},Se=Object(n["createVNode"])("label",{class:"form-label w-full flex flex-col sm:flex-row"}," Status Verifikasi ",-1),Ae={class:"flex w-full px-5"},Te={key:1,class:"ml-auto"},$e={key:1};function Fe(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("el-option"),l=Object(n["resolveComponent"])("el-select"),u=Object(n["resolveComponent"])("form-item"),d=Object(n["resolveComponent"])("DataGrid"),s=Object(n["resolveComponent"])("document-form"),b=Object(n["resolveDirective"])("loading");return Object(n["openBlock"])(),Object(n["createBlock"])("div",je,[Object(n["withDirectives"])(Object(n["createVNode"])(s,{title:"Alamat Perusahaan",isRegional:!0,itemType:2},{default:Object(n["withCtx"])((function(r){r.bundleItemStatus;var a=r.allowManage;return[Object(n["createVNode"])("div",null,[Object(n["createVNode"])("div",he,[Object(n["createVNode"])("div",ye,[Object(n["createVNode"])(u,{label:"Region","rules-text":"Required",validationData:e.validate.region_code},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{clearable:"",modelValue:e.formData.region_code,"onUpdate:modelValue":t[1]||(t[1]=function(t){return e.formData.region_code=t}),class:["form-control",{"border-theme-6":e.validate.region_code.$error}],filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.distributorRegions,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.code,label:e.name,value:e.code},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",_e,[Object(n["createVNode"])(u,{label:"Alamat","rules-text":"Required",validationData:e.validate.full_address},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("textarea",{placeholder:"Alamat",class:["form-control",{"border-theme-6":e.validate.full_address.$error}],"onUpdate:modelValue":t[2]||(t[2]=function(t){return e.validate.full_address.$model=t})},null,2),[[n["vModelText"],e.validate.full_address.$model]])]})),_:1},8,["validationData"])]),Object(n["createVNode"])("div",ke,[Object(n["createVNode"])(u,{label:"Propinsi","rules-text":"Required",validationData:e.validate.province_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{onChange:t[3]||(t[3]=function(t){return e.getCities(t)}),modelValue:e.formData.province_id,"onUpdate:modelValue":t[4]||(t[4]=function(t){return e.formData.province_id=t}),class:["form-control",{"border-theme-6":e.validate.province_id.$error}],filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.provinces,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.province_id,label:e.province_name,value:e.province_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{label:"Kota/Kabupaten","rules-text":"Required",validationData:e.validate.city_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{onChange:t[5]||(t[5]=function(t){return e.getDistricts(t)}),modelValue:e.formData.city_id,"onUpdate:modelValue":t[6]||(t[6]=function(t){return e.formData.city_id=t}),class:["form-control",{"border-theme-6":e.validate.city_id.$error}],disabled:null==e.formData.province_id,loading:e.cityOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.cities,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.city_id,label:e.city_type+" "+e.city_name,value:e.city_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class","disabled","loading"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{key:"",label:"Kecamatan","rules-text":"Required",validationData:e.validate.district_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{onChange:t[7]||(t[7]=function(t){return e.getVillages(t)}),modelValue:e.formData.district_id,"onUpdate:modelValue":t[8]||(t[8]=function(t){return e.formData.district_id=t}),class:["form-control",{"border-theme-6":e.validate.district_id.$error}],disabled:null==e.formData.city_id,loading:e.districtOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.districts,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.district_id,label:e.district_name,value:e.district_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class","disabled","loading"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{label:"Kelurahan/Desa - Kode Pos","rules-text":"Required",validationData:e.validate.village_id,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(l,{modelValue:e.formData.village_id,"onUpdate:modelValue":t[9]||(t[9]=function(t){return e.formData.village_id=t}),class:["form-control",{"border-theme-6":e.validate.village_id.$error}],disabled:null==e.formData.district_id,loading:e.villageOptionsLoading,filterable:""},{default:Object(n["withCtx"])((function(){return[(Object(n["openBlock"])(!0),Object(n["createBlock"])(n["Fragment"],null,Object(n["renderList"])(e.villages,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:e.village_id,label:"".concat(e.village_name," - ").concat(e.postal_code),value:e.village_id},null,8,["label","value"])})),128))]})),_:1},8,["modelValue","class","disabled","loading"])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{label:"No Telepon",validationData:e.validate.phone_number,class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[10]||(t[10]=function(t){return e.formData.phone_number=t}),class:["form-control",{"border-theme-6":e.validate.phone_number.$error}],placeholder:"+62210000"},null,2),[[n["vModelText"],e.formData.phone_number]])]})),_:1},8,["validationData"]),Object(n["createVNode"])(u,{label:"Pusat/Cabang","rules-text":"",class:"intro-y"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",we,[Object(n["createVNode"])("label",xe,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[11]||(t[11]=function(t){return e.formData.is_headquarter=t}),value:!0,type:"radio",class:"form-radio h-5 w-5"},null,512),[[n["vModelRadio"],e.formData.is_headquarter]]),De]),Object(n["createVNode"])("label",Ve,[Object(n["withDirectives"])(Object(n["createVNode"])("input",{"onUpdate:modelValue":t[12]||(t[12]=function(t){return e.formData.is_headquarter=t}),value:!1,type:"radio",class:"form-radio h-5 w-5"},null,512),[[n["vModelRadio"],e.formData.is_headquarter]]),Ce])])]})),_:1})]),Object(n["createVNode"])("div",Re,[Object(n["createVNode"])("div",Ne,[Pe,Object(n["createVNode"])("input",{value:e.formData.is_active?"Active":"Not Activated",type:"text",readonly:"",class:"form-control"},null,8,["value"])]),Object(n["createVNode"])("div",Be,[Se,Object(n["createVNode"])("input",{value:e.formData.verification_status,type:"text",readonly:"",class:"form-control"},null,8,["value"])])])]),Object(n["createVNode"])("div",Ae,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,type:"button",class:"btn btn-outline-secondary mr-2",onClick:t[13]||(t[13]=function(){var t;return e.dataGrid.clearSelection&&(t=e.dataGrid).clearSelection.apply(t,arguments)})}," Clear Selection ")):Object(n["createCommentVNode"])("",!0),"distributor"==e.route.meta.role&&a?(Object(n["openBlock"])(),Object(n["createBlock"])("div",Te,[e.updateMode?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn btn-primary w-24 mr-2"],type:"button",onClick:t[14]||(t[14]=function(){return e.save&&e.save.apply(e,arguments)})}," Save ",10,["disabled"])):(Object(n["openBlock"])(),Object(n["createBlock"])("div",$e,[Object(n["createVNode"])("button",{type:"button",class:"btn btn-outline-secondary w-24 mr-2",onClick:t[15]||(t[15]=function(){return e.resetFormData&&e.resetFormData.apply(e,arguments)})}," Reset "),Object(n["createVNode"])("button",{disabled:e.loading,class:[{"cursor-not-allowed":e.loading},"btn bg-theme-9 text-white w-24"],type:"button",onClick:t[16]||(t[16]=function(){return e.add&&e.add.apply(e,arguments)})}," Add ",10,["disabled"])]))])):Object(n["createCommentVNode"])("",!0)]),Object(n["createVNode"])(d,{allowManage:a,ref:"dataGrid",class:"m-5"},null,8,["allowManage"])])]})),_:1},512),[[b,e.loading]])])}var qe={key:0},Ge={key:1},Le={key:0},Me={key:1};function Ue(e,t,r,a,o,i){var c=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxFilterRow"),u=Object(n["resolveComponent"])("DxHeaderFilter"),d=Object(n["resolveComponent"])("DxPaging"),s=Object(n["resolveComponent"])("DxPager"),b=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])("div",null,[Object(n["createVNode"])(b,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,"column-auto-width":!0,onToolbarPreparing:t[1]||(t[1]=function(t){return e.onToolbarPreparing(t)})},{hqOrBranchTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_headquarter?(Object(n["openBlock"])(),Object(n["createBlock"])("span",qe,"Pusat")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",Ge,"Cabang"))]})),statusAktivasiCellTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[t.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("span",Le," Active ")):(Object(n["openBlock"])(),Object(n["createBlock"])("span",Me," Non-Active "))]})),cellTemplate:Object(n["withCtx"])((function(t){var r=t.data;return[r.data.is_active?(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:1,onClick:function(t){return e.deactivate(r.data.id)},class:"btn btn-sm bg-theme-6 rounded-lg text-white"}," Deactivate ",8,["onClick"])):(Object(n["openBlock"])(),Object(n["createBlock"])("button",{key:0,onClick:function(t){return e.activate(r.data.id)},class:"btn btn-sm bg-theme-9 rounded-lg text-white"}," Activate ",8,["onClick"]))]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(c,{"data-field":"full_address","data-type":"string",caption:"Alamat","allow-header-filtering":!1}),Object(n["createVNode"])(c,{"data-field":"city.city_name","data-type":"string",caption:"Kota","allow-header-filtering":!1}),Object(n["createVNode"])(c,{"data-field":"district.district_name","data-type":"string",caption:"Kecamatan","allow-header-filtering":!1}),Object(n["createVNode"])(c,{"data-field":"village.postal_code","data-type":"string",caption:"Kode Pos","allow-header-filtering":!1}),Object(n["createVNode"])(c,{"data-field":"region.name","data-type":"string",caption:"Region","header-filter":{dataSource:e.availableRegions}},null,8,["header-filter"]),Object(n["createVNode"])(c,{"data-field":"is_headquarter","data-type":"boolean",caption:"Pusat/Cabang","cell-template":"hqOrBranchTemplate","allow-header-filtering":!0,"allow-filtering":!1,"header-filter":{dataSource:[{text:"Pusat",value:!0},{text:"Cabang",value:!1}]}}),Object(n["createVNode"])(l,{visible:!0}),Object(n["createVNode"])(u,{visible:!0}),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:0,allowFiltering:!1,"data-field":"is_active",caption:"Status Aktivasi","data-type":"boolean","cell-template":"statusAktivasiCellTemplate"})):Object(n["createCommentVNode"])("",!0),"distributor"==e.route.meta.role&&e.allowManage?(Object(n["openBlock"])(),Object(n["createBlock"])(c,{key:1,allowFiltering:!1,width:100,"data-field":"id",caption:"Aksi","cell-template":"cellTemplate"})):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(d,{"page-size":5}),Object(n["createVNode"])(s,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])])}r("d81d");var Ke=Object(n["defineComponent"])({components:{DxDataGrid:Y["DxDataGrid"],DxColumn:Y["DxColumn"],DxPaging:Y["DxPaging"],DxPager:Y["DxPager"],DxSorting:Y["DxSorting"],DxHeaderFilter:Y["DxHeaderFilter"],DxFilterRow:Y["DxFilterRow"]},props:["allowManage"],setup:function(e,t){var r=this,a=(t.emit,Object(n["ref"])(null)),o=Object(B["c"])();function c(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var l=Object(n["inject"])("env"),u=new te.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(r){r in e&&c(e[r])&&(t+="".concat(r,"=").concat(JSON.stringify(e[r]),"&"))})),t=t.slice(0,-1);var r="".concat(l["VUE_APP_API_ENDPOINT"],"/company-address").concat(t);return"admin"==o.meta.role&&(r="".concat(l["VUE_APP_API_ENDPOINT"],"/distributor/").concat(o.params.distributor_id,"/item-details-data/item-type/2")),h["a"].get(r).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),d=Object(n["inject"])("updateFormData"),s=function(e){var t=e.selectedRowsData;d(t[0])},b=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,D(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,V(t).then((function(e){g.a.success({title:"Success",position:"bottom-right"}),f()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right"})}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){a.value.instance.refresh()},v=function(){a.value.instance.clearSelection()},m=function(e){e.toolbarOptions.items.unshift({location:"after",widget:"dxButton",options:{icon:"refresh",onClick:f.bind(r)}})},O=Object(n["inject"])("distributorRegions"),j=Object(n["computed"])((function(){return O.value.map((function(e){return{text:e.name,value:["region_code","=",e.code]}}))}));return{store:u,onSelectionChanged:s,activate:b,deactivate:p,onToolbarPreparing:m,refreshDataGrid:f,clearSelection:v,root:a,route:o,availableRegions:j}}});const Ee=F()(Ke,[["render",Ue]]);var Ie=Ee,He={id:null,distributor_id:null,full_address:null,province_id:null,city_id:null,district_id:null,village_id:null,phone_number:null,is_headquarter:!1,is_active:!0,verification_status:null,region_code:null},ze=(r("1e9c"),r("b405")),Je=["id"],We=["id"],Ze=Object(n["defineComponent"])({components:{DocumentForm:c["a"],DataGrid:Ie,FormItem:N["a"]},setup:function(){var e=Object(n["reactive"])(Object(Z["a"])({},He)),t={province_id:{required:C["c"]},city_id:{required:C["c"]},district_id:{required:C["c"]},village_id:{required:C["c"]},phone_number:{},full_address:{required:C["c"]},region_code:{required:C["c"]}},r=Object(P["d"])(),a=r.state.auth.user,o=Object(B["c"])(),c=Object(pe["a"])(),l=Object(R["a"])(t,Object(n["toRefs"])(e)),u=Object(be["a"])(e),d=u.provinces,s=u.cities,b=u.districts,p=u.villages,f=u.getProvinces,v=u.getCities,m=u.getDistricts,j=u.getVillages,h=u.provinceOptionsLoading,y=u.cityOptionsLoading,_=u.districtOptionsLoading,k=u.villageOptionsLoading,D=Object(ze["a"])(a),V=D.distributorRegions,N=D.getProposedRegions;Object(n["provide"])("distributorRegions",V);var S=Object(n["ref"])(!1),A=function(){var t=Object(n["toRefs"])(e);for(var r in He)t[r].value=He[r];l.value.$reset()},T=function(t){var r=Object(n["toRefs"])(e);for(var a in He)Object.hasOwnProperty.call(t,a)&&(r[a].value=t[a])},$=function(){var e=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(null==t){e.next=15;break}return T(t),q.value=!0,S.value=!0,e.next=6,f(!1);case 6:return e.next=8,v(t.province_id,!1);case 8:return e.next=10,m(t.city_id,!1);case 10:return e.next=12,j(t.district_id,!1);case 12:null!=p.value&&(q.value=!1),e.next=17;break;case 15:A(),S.value=!1;case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(n["provide"])("updateFormData",$);var F=Object(n["ref"])(null);Object(n["onMounted"])(Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,f();case 2:null!=d.value&&(q.value=!1);case 3:case"end":return e.stop()}}),e)}))));var q=Object(n["ref"])(!0),G=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:l.value.$touch(),l.value.$invalid?g.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):c.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id,r=Object(O["a"])(e,Je),r.distributor_id=a.distributor.id,q.value=!0,t.next=5,x(e.id,r).then((function(e){g.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),A(),F.value.clearSelection(),F.value.refreshDataGrid()})).catch((function(e){g.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){q.value=!1}));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),L=function(){var t=Object(i["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:l.value.$touch(),l.value.$invalid?g.a.error({title:"Submit Gagal",message:"Silahkan periksa form sekali lagi",position:"bottom-right"}):c.$confirm("Simpan data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.id,r=Object(O["a"])(e,We),r.distributor_id=a.distributor.id,q.value=!0,t.next=5,w(r).then((function(e){g.a.success({title:"Data berhasil disimpan",position:"bottom-right"}),A(),F.value.refreshDataGrid()})).catch((function(e){g.a.error({title:"Data gagal disimpan",message:"Silahkan periksa form sekali lagi",position:"bottom-right"})})).finally((function(){q.value=!1}));case 5:case"end":return t.stop()}}),t)})))).catch((function(){}));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return{formData:e,validate:l,provinces:d,cities:s,districts:b,villages:p,provinceOptionsLoading:h,cityOptionsLoading:y,districtOptionsLoading:_,villageOptionsLoading:k,dataGrid:F,getProvinces:f,getCities:v,getDistricts:m,getVillages:j,updateMode:S,loading:q,save:G,add:L,resetFormData:A,route:o,distributorRegions:V,getProposedRegions:N}},data:function(){return{kecamatan:[{id:1,name:"Kecamatan 1"},{id:2,name:"Kecamatan 2"},{id:3,name:"Kecamatan 3"}],provinsi:[{id:1,name:"Provinsi 1"},{id:2,name:"Provinsi 2"},{id:3,name:"Provinsi 3"}],desa:[{id:1,name:"Desa 1"},{id:2,name:"Desa 2"},{id:3,name:"Desa 3"}],kota:[{id:1,name:"Kota 1"},{id:2,name:"Kota 2"},{id:3,name:"Kota 3"}],kode_pos:[{id:1,name:"Kode Pos 1"},{id:2,name:"Kode Pos 2"},{id:3,name:"Kode Pos 3"}]}}});const Qe=F()(Ze,[["render",Fe]]);var Xe=Qe,Ye=Object(n["defineComponent"])({components:{DocumentForm:c["a"],BusinessName:G,BusinessAddress:Xe,DistributorRegions:Oe},setup:function(){var e=Object(B["c"])(),t=Object(n["ref"])(!1);function r(){return a.apply(this,arguments)}function a(){return a=Object(i["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.value.getProposedRegions();case 2:case"end":return e.stop()}}),e)}))),a.apply(this,arguments)}return{route:e,businessAddressPanel:t,onDistributorRegionUpdated:r}}});const et=F()(Ye,[["render",o]]);t["default"]=et},addb:function(e,t){var r=Math.floor,n=function(e,t){var i=e.length,c=r(i/2);return i<8?a(e,t):o(n(e.slice(0,c),t),n(e.slice(c),t),t)},a=function(e,t){var r,n,a=e.length,o=1;while(o<a){n=o,r=e[o];while(n&&t(e[n-1],r)>0)e[n]=e[--n];n!==o++&&(e[n]=r)}return e},o=function(e,t,r){var n=e.length,a=t.length,o=0,i=0,c=[];while(o<n||i<a)o<n&&i<a?c.push(r(e[o],t[i])<=0?e[o++]:t[i++]):c.push(o<n?e[o++]:t[i++]);return c};e.exports=n},b405:function(e,t,r){"use strict";r.d(t,"a",(function(){return c}));var n=r("1da1"),a=(r("96cf"),r("8afd")),o=r("6eb3"),i=r("6c02");function c(e,t){var r=Object(a["p"])([]),c=Object(a["p"])([]),l=Object(a["p"])([]),u=Object(i["c"])(),d="";function s(e){return b.apply(this,arguments)}function b(){return b=Object(n["a"])(regeneratorRuntime.mark((function e(r){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.province_id=null,t.city_id=null,!r){e.next=5;break}return e.next=5,o["a"].getProposedProvinces(d,r).then((function(e){c.value=e.data.data}));case 5:case"end":return e.stop()}}),e)}))),b.apply(this,arguments)}function p(e,t){return f.apply(this,arguments)}function f(){return f=Object(n["a"])(regeneratorRuntime.mark((function e(r,n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.city_id=null,!r||!n){e.next=4;break}return e.next=4,o["a"].getProposedCities(d,r,n).then((function(e){l.value=e.data.data}));case 4:case"end":return e.stop()}}),e)}))),f.apply(this,arguments)}function v(){return m.apply(this,arguments)}function m(){return m=Object(n["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,o["a"].getProposedRegions(d).then((function(e){r.value=e.data.data}));case 2:case"end":return e.stop()}}),e)}))),m.apply(this,arguments)}return Object(a["m"])(Object(n["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return d="admin"!=u.meta.role?e.distributor.id:u.params.distributor_id,t.next=3,v();case 3:case"end":return t.stop()}}),t)})))),{distributorRegions:r,distributorProvinces:c,distributorCities:l,onRegionChanged:s,onProvinceChanged:p,getProposedRegions:v}}},d68b:function(e,t,r){"use strict";r("f2b0")},d81d:function(e,t,r){"use strict";var n=r("23e7"),a=r("b727").map,o=r("1dde"),i=o("map");n({target:"Array",proto:!0,forced:!i},{map:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},d998:function(e,t,r){var n=r("342f");e.exports=/MSIE|Trident/.test(n)},f2b0:function(e,t,r){},fb27:function(e,t,r){"use strict";r.d(t,"b",(function(){return v})),r.d(t,"c",(function(){return m}));r("99af");var n=r("c953"),a="/distributor-regions",o=function(){return n["a"].get(a+"/regions")},i=function(){return n["a"].get(a+"/regions_by_vp")},c=function(){return n["a"].get(a+"/regions_by_wilayah")},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/regions_by_anper/".concat(e))},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/regions-province/".concat(e))},d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(a+"/regions-province-anper/".concat(e,"/").concat(t))},s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return n["a"].get(a+"/producer-area/".concat(e))},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return n["a"].get(a+"/producer-area-anper/".concat(e,"/").concat(t))},p=function(e){return n["a"].post(a,e)},f=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(a+"/".concat(e),t)},v=function(e){return n["a"].delete(a+"/".concat(e))},m=function(e){return n["a"].post(a+"/".concat(e,"/verify"))};t["a"]={regions:o,regions_by_vp:i,regions_by_wilayah:c,regions_by_anper:l,regionProvinces:u,regionProvincesAnper:d,regionProducerArea:s,regionProducerAreaAnper:b,addDistributorRegions:p,updateDistributorRegions:f,deleteDistributorRegion:v,verifyDistributorRegion:m}}}]);