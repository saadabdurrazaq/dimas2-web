(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5eaaed03"],{2611:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("8afd");function c(){return{$show:Object(n["e"])("$messageBox"),$prompt:Object(n["e"])("$prompt"),$alert:Object(n["e"])("$alert"),$confirm:Object(n["e"])("$confirm")}}},4936:function(e,t,a){"use strict";var n=a("c953"),c="/master-activities",o=function(){return n["a"].get("".concat(c))},r=function(e){return n["a"].post(c,e)},i=function(e){return n["a"].get(c+"/".concat(e))},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return n["a"].put(c+"/".concat(e),t)},u=function(e){return n["a"].delete(c+"/".concat(e))};t["a"]={all:o,add:r,show:i,update:l,destroy:u}},6719:function(e,t,a){"use strict";a.r(t);var n=a("7a23"),c={class:"p-5"};function o(e,t,a,o,r,i){var l=Object(n["resolveComponent"])("data-grid"),u=Object(n["resolveComponent"])("document-form");return Object(n["openBlock"])(),Object(n["createBlock"])(u,{title:"Master Data Aktivitas"},{default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])("div",c,[Object(n["createVNode"])(l)])]})),_:1})}var r=a("1da1"),i=(a("96cf"),a("8afd")),l=a("c45b"),u={key:0,class:"flex"},s=Object(n["createTextVNode"])("Add"),d={key:0,class:"relative inline-block text-left mr-2"},p=Object(n["createTextVNode"])(" Update ");function b(e,t,a,c,o,r){var i=Object(n["resolveComponent"])("DxColumn"),l=Object(n["resolveComponent"])("DxPaging"),b=Object(n["resolveComponent"])("DxPager"),f=Object(n["resolveComponent"])("router-link"),m=Object(n["resolveComponent"])("DxDataGrid");return Object(n["openBlock"])(),Object(n["createBlock"])(m,{ref:"root","data-source":e.store,"show-borders":!0,"remote-operations":!0,selection:{mode:"single"},onSelectionChanged:e.onSelectionChanged,onToolbarPreparing:t[3]||(t[3]=function(t){return e.onToolbarPreparing(t)}),"allow-column-reordering":!0,"allow-column-resizing":!0,"column-auto-width":!0},{cityTemplate:Object(n["withCtx"])((function(e){var t=e.data;return[Object(n["createVNode"])("span",null,Object(n["toDisplayString"])(t.data.city.city_type)+" "+Object(n["toDisplayString"])(t.data.city.city_name),1)]})),actionLeft:Object(n["withCtx"])((function(){return[0!=e.selectedData.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",u,[Object(n["createVNode"])("button",{onClick:t[1]||(t[1]=function(){return e.clearSelection&&e.clearSelection.apply(e,arguments)}),class:"btn bg-white mr-2"},"Clear Selection")])):(Object(n["openBlock"])(),Object(n["createBlock"])(f,{key:1,to:{name:"admin-master-activities.create"},class:"btn bg-white mr-2"},{default:Object(n["withCtx"])((function(){return[s]})),_:1},8,["to"]))]})),actionRight:Object(n["withCtx"])((function(){return[e.selectedData.length?(Object(n["openBlock"])(),Object(n["createBlock"])("div",d,[Object(n["createVNode"])(f,{to:{name:"admin-master-activities.update",params:{activity:e.selectedData[0].id}},class:"btn bg-theme-1 text-white mr-2"},{default:Object(n["withCtx"])((function(){return[p]})),_:1},8,["to"]),Object(n["createVNode"])("button",{onClick:t[2]||(t[2]=function(){return e.deleteData&&e.deleteData.apply(e,arguments)}),class:"btn bg-theme-6 text-white"}," Delete ")])):Object(n["createCommentVNode"])("",!0)]})),default:Object(n["withCtx"])((function(){return[Object(n["createVNode"])(i,{"data-field":"activity_name","data-type":"string",caption:"Nama Kegiatan"}),Object(n["createVNode"])(i,{"data-field":"activity_date","data-type":"date",caption:"Tanggal Kegiatan"}),Object(n["createVNode"])(i,{"data-field":"province.province_name","data-type":"string",caption:"Provinsi"}),Object(n["createVNode"])(i,{"data-field":"city",caption:"Kabupaten/Kota","data-type":"string","cell-template":"cityTemplate"}),Object(n["createVNode"])(i,{"data-field":"district.district_name","data-type":"string",caption:"Kecamatan"}),Object(n["createVNode"])(i,{"data-field":"village.village_name","data-type":"string",caption:"Desa"}),Object(n["createVNode"])(i,{"data-field":"activity_type","data-type":"string",caption:"Jenis Kegiatan"}),Object(n["createVNode"])(l,{"page-size":10}),Object(n["createVNode"])(b,{"show-page-size-selector":!0,"allowed-page-sizes":[5,10,20]})]})),_:1},8,["data-source","onSelectionChanged"])}var f=a("ade3"),m=(a("0cfa"),a("5040")),g=a.n(m),O=(a("99af"),a("fb6a"),a("d30a")),j=a("2597"),v=a.n(j),h=a("c953"),D=a("6c02"),w=a("4936"),x=a("2611"),y=Object(n["defineComponent"])({components:{DxDataGrid:O["DxDataGrid"],DxColumn:O["DxColumn"],DxPaging:O["DxPaging"],DxPager:O["DxPager"],DxSorting:O["DxSorting"],DxHeaderFilter:O["DxHeaderFilter"],DxFilterRow:O["DxFilterRow"]},emits:[],props:[],setup:function(e,t){var a,c=this,o=(t.emit,Object(n["ref"])(null)),i=Object(D["c"])(),l=Object(n["ref"])([]),u=Object(x["a"])();function s(e){return void 0!==e&&null!==e&&""!==e}Object(n["onMounted"])((function(){}));var d=Object(n["inject"])("env"),p=new v.a({key:"id",load:function(e){var t="?";["skip","take","requireTotalCount","requireGroupCount","sort","filter","totalSummary","group","groupSummary"].forEach((function(a){a in e&&s(e[a])&&(t+="".concat(a,"=").concat(JSON.stringify(e[a]),"&"))})),t=t.slice(0,-1);var a="".concat(d["VUE_APP_API_ENDPOINT"],"/master-activities").concat(t);return h["a"].get(a).then((function(e){return e.data})).catch((function(){throw"Data Loading Error"}))}}),b=function(e){var t=e.selectedRowsData;l.value=t},m=function(){o.value.instance.refresh()},O=function(){o.value.instance.clearSelection()},j=function(){u.$confirm("Hapus data. Lanjutkan?","Konfirmasi",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning",closeOnClickModal:!1}).then(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,w["a"].destroy(l.value[0].id).then((function(e){g.a.success({title:"Success",position:"bottom-right",message:"Data deleted"}),m()})).catch((function(e){g.a.error({title:"Failed",position:"bottom-right",message:e.data.message})}));case 2:case"end":return e.stop()}}),e)})))).catch((function(){}))},y=function(e){e.toolbarOptions.items.unshift({location:"before",template:"actionLeft"},{location:"after",template:"actionRight"},{location:"after",widget:"dxButton",options:{icon:"refresh",onClick:m.bind(c)}})};return a={route:i,store:p,onToolbarPreparing:y,refreshDataGrid:m,onSelectionChanged:b,selectedData:l,clearSelection:O,root:o},Object(f["a"])(a,"route",i),Object(f["a"])(a,"deleteData",j),a}}),C=a("6b0d"),k=a.n(C);const N=k()(y,[["render",b]]);var V=N,S=Object(i["c"])({components:{DocumentForm:l["a"],DataGrid:V},setup:function(){Object(i["m"])(Object(r["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));return{}}});const _=k()(S,[["render",o]]);t["default"]=_}}]);